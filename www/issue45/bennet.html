<!--startcut ==========================================================-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<title>Living La Vida Linux LG #45</title>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#A000A0"
ALINK="#FF0000">
<!--endcut ============================================================-->
<H4>
"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>
<P> <HR> <P> 
<!--===================================================================-->
<center>
<H1><font color="maroon">Living La Vida Linux</font></H1>
<H4>By <a href="mailto:chguy@chguy.net">Bill Bennet</a></H4>
</center>
<P> <HR> <P>Have you ever thought about how things would be different if linux was never written?  It makes me shudder with fright and revulsion to think of all the new computer customers lining up happily to get soaked for a new monopoly machine. Yikes.
Those poor souls get locked into the monopoly upgrade loop. Customers for WebTV are doing that right now, but what can we do about it? Well, for one thing we can <a href="#redo">recycle</a> some old machines first. Folks who use linux can at least find out how the thing works and it will help to arrest the "dumbing down of the consumer".
<h2><font color=blue>Back to School</font></h2>
<p>So the kid needs a new computer. Are you really sure about that, chief?  I can think of worse things to own than an old 386 or 486 running linux.  Here are some reasons to save that old clunker:
<ol>
<li>The machine runs cool and you can put it in a hot room. Minor issue, yes, I concede.
<li>It can be made Y2K compliant. Huh? Yea verily, it is so easy, O Befuddled One.
<li>It can use a 32 gigabyte hard disk. Six of them in one machine. Yes, Acquisitive One, it is so.
<li>It can use a DVD drive. Please, O Great One, no need to march about.
<li>It can make CDR and CDRW discs for you with a CDR/CDRW writer/drive. Settle down, O Frugal One.
<li>It can run a complete office productivity suite faster than you can type. The office suite is free for personal use. Yes, O Mighty Hunter-and-Pecker, your basic 386 can format and print essays for your offspring at school.
</ol>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The major piece to the puzzle is linux. First you get any linux CD and boot it up (if your modern CMOS setup will let you boot from the CDROM). You can make a boot diskette set and get it from the CD that way.  You can boot up poor old DOS and run a boot.bat batch file to install from the CD. You can install via a laplink cable from another machine and PLIP through the parallel port. You can boot the diskette and install via ftp over the internet or through the Local Area Network. You can boot the diskette and install via NFS mounted CD or hard disk on your local network or the internet.
 The point is that linux is a network operating system; a replacement for NT and W2K.  Yes, that is right, you can replace them even before you have to buy them, which would save you a ton of time and money. 
<h2><font color=blue>Y2K Compliant 386</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Your old <a href="#old">386</a> can be made completely Year 2000 compliant; able to pass all the tests that the frantic doomsayers can muster. The hardware needed to make your 386 into a modern set is called a <a href="#bios">
BIOS</a> card.  Even better, get a BIOS card with a secondary IDE controller on it so that you can add devices to your machine.  
<h2><font color=blue>Meccano for Geeks</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The installation skills needed for this are developed by playing with Meccano. Get the Meccano set for your kid first, months before the computers. Unplug the machine. A Phillips head screwdriver will open the case for you.  These old machines were made easy and boxy, just like an Austin Mini or a Volkswagen Beetle. The new modern BIOS chip is on an ISA card, so all you need is an open slot.  Turf the old modem card if you are short on slots, no need for 300 baud/2400bps where you are going. If you have a secondary/tertiary IDE controller on your card like a DTC Y2K Ultima, then set the IRQ shunt (jumper) to cover IRQ 11 or 15. Stay away from IRQ 12, your PS/2 rodent may object to sharing. As an aside to new linuxians, the PS/2 rodent is /dev/psaux.
<h2><font color=blue>EIDE controller</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When the BIOS card takes over, all it does is use the CMOS BIOS settings and apply <a href="#lba">LBA</a> to any huge hard disks that are connected to the IDE controller(s).  Your simple old IDE controller is now an EIDE controller, able to use the huge disk you hooked up.
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The BIOS card that also has a controller on it is going to let you have four IDE devices. The DTC Y2K Ultima has four irq settings, so you can even have two add on controllers plus your original for a total of six IDE devices in the machine.  There are not enough brackets for six, but if you want to secure a device with a locking tie-down, you can squeeze them in there.  The potential is for a 100+ gigabyte 386 sporting three or more 32 gigabyte hard disk drives plus a DVD and a CD writer.
<h2><font color=blue>Enter Linux</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As a file server, your 386 can access that <a href="#big">huge</a> archive at the speed of the EIDE controller. The CPU is not so much involved when you limit the number of users to something like 50 at a time. A big plus is that you can run this machine on 8 megabytes of RAM. Yes, it will run on 4 megabytes, but the installation will be too tricky on low memory. Stick with 8 megs or more and the install will go smoothly, especially with Slackware or Debian. If you are trying RedHat, you will need 12 megabytes to install smoothly. 
<h2><font color=blue>Cable Modem 386 Internet Gateway</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As a linux user, you can now configure a network server right from the installation script; it does not matter which distribution you are installing. Your 386 can use two network cards and a big hard disk drive to make a very fast little network server for your home Local Area Network. Remember, the files are grabbed from the network card at 10 megabits (or more) per second; it does not matter what speed your CPU is walking at. The CPU just opens the door for you, it does not run the files; your client machines do that. 
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There is no need to install X. You see, you also do not need a gui interface for your network controls.  Every server job can be made to happen from the command line.  Add in some nice little alias for the command sequence (a macro, O Rigid DOS person). For example, edit the .bashrc file in your home directory: 
<pre>
~/.bashrc:
alias mcd='mount /dev/cdrom /cdrom'
alias umcd='umount /cdrom'
</pre>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Man oh man, I love linux! No clickety-clicks, no waiting, just service and super powers. I guess it helps when your software is written by the best and brightest minds in a free thought environment. 
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yes, Apache webserver can serve up html files even though you have no gui. They are just files. They get handed out. Simple. Do not let any NT sales guys see this article, they will defend their turf or die trying. I say do not let them waste any more of your time or money.
<h2><font color=blue>The lack of DVD video</font></h2>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For now, you can use a DVD-RAM. As far as I <a href="#dvd">know</a>, there is no way that linux can show you a DVD movie at this time.  However, once you have a BIOS card, you are totally ready for that happy day when you can play a DVD movie with linux.  Simply install the new drive in your old 386 and let 'er rip.
<h2><font color=blue>The toasting of CDR/CDRW discs</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yes, this 386 CD burner is totally and completely ready for prime time, folks
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The linux operating system of GNU tools is going to let you make your own custom kernel for your own particular needs. Remember, you have lots of space on that disk drive, so install the bin86 and the kernel-source package, staying with 2.0.35 or newer. Then cd to /usr/src and enter the linux directory to read the README file.
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When you compile your CD burner kernel with "make menuconfig", make sure that SCSI support is built-in and not a module. In the general setup, say "yes" (by typing the letter y) to SCSI emulation and say "no" to ATAPI CDROM support (it will now be an SCSI emulation job). In the SCSI section, say "yes" (or "m" for module) to SCSI CDROM support and "yes" (or "m" for module) to SCSI generic device support.
The CDROM will now become /dev/scd0, so do a symbolic link to /dev/cdrom:
<pre>
rm /dev/cdrom
ln -s /dev/scd0 /dev/cdrom
</pre>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; When you make a CD, you will also be using the sg module, so make sure you have /dev/sg0 through /dev/sg16 at least:
<pre>
cd /dev
./MAKEDEV sg
</pre>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Once your burner kernel is made you can choose to run it all the time. If it is just for special occasions then boot it by giving it a label and an entry in /etc/lilo.conf.
<h2><font color=blue>/opt/schily/bin</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Your cdrecord program is also a kick in the pants to the monopoly guys. Visit the <a href="#schily">homepage</a> of cdrecord and download 1.6.1a7 (or an alpha version if you want trouble). Then compile it and be amazed when your CDR is happily burning on a 386 with 8 megabytes of RAM with a little 145 kb program.  Did I hear a monopoly guy say you need a 133 Mhz pentium and windows95 and 16 megabytes of RAM? Why yes, I agree, especially if you are going to use the software that Adaptec has managed to get into most CD writer boxes. By the way, Adaptec has no plans to port to linux. Please give them "20 million users of linux" as a good reason to make the linux port. You can tell them I sent you.
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Please use the home made cdrecord that you compile yourself. The version of mkisofs you will compile is hacked in order to make a better CD. Oh, and one more thing, get your opinion made up about the 'enhanced sg interface' and then let the two antagonists in the 'sg interface squabble' know it. Alan Cox needs to be made aware of the need for a resolution to this standoff, so maybe you can help.
<h2><font color=blue>Sweet Office Suite</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;There is no need to let your 386 just sit there now that you have made it Y2K compliant and it has a big enough hard disk for some serious archiving.  Take a look at Star Division's Star Office 5.1.  You can open and use Word files as well as make full use of your video card for groovy graphics in your finished work.  The best part, O Tight-Wadded One, is it is <i>free for personal use</i>. Simply visit Star Division's <a href="http://www.stardivision.com">site</a> and register and download the package.  This has got to be the best deal for linuxians, so we should all hope to heaven that Sun (the new owners) will keep it available.
<h2><font color=blue>Remotely Yours</font></h2>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The need-for-speed folks are going to rain all over your parade, so here is a trick for you if you want to show the limits of that free machine. First, put linux on your pentium speed-burner-CPU-melter. Then tell the pentium to accept connections from the 386 with this:
<pre>
on the pentium:
DISPLAY=386.at.your.domain.net:0
export DISPLAY

on the 386:
xhost +pentium.at.your.domain.net:0
</pre>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yes, I know, it is more secure to use cookies. So just follow the instructions in the Remote-X-Apps mini-HOWTO.  The point is we want the pentium to run the big applications; namely that Netscape memory hog.
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now install X on the 386. The most compact way is to use Debian, one deb at a time. If you have more than 500 megabytes free, then go ahead and install RedHat or Mandrake, but switch away from GNOME or KDE, they are too slow on a 386/486. To make an easy switch, type this in your home directory:
<pre>
echo exec icewm > .xinitrc
</pre>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It helps if icewm (the ice window manager) is installed on the system. It is fast; it is small; it is cool (just ask anyone who uses it).
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now that you have X running on the 386, open an xterm and do an "rlogin" to the pentium and ask for Netscape.  The pentium will run the mozilla memory monster for you, and display the pretty pictures back home on your 386 monitor. Speed was the concern, now it is a non-issue.  I think that the remote X apps are great good fun that you can have with a networked linux box. Not only can you run the other guy's apps, you can also run whatever is on your own system. 
<hr>
<h2><a name=bios><font color=blue>BIOS </a>Card</h2></font>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A BIOS card will set you back $40.00 Canadian and you can install it easily.  It will be a simple little ISA card, and I have even heard of PCI versions for your old pentium. It can also be found with an IDE controller on the card, which can let you attach two more IDE devices. The Year 2000 adjustments are made for you on every boot right after you see the video BIOS and the memory check is completed. It is now safe to use your computer.
<h2><a name=old><font color=blue>386</a> Donations</h2></font>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name=redo>So</a> there I was at Syrotech on Main Street.  I asked Jeff if there were any 386 machines kicking around and he goes to have a look. He comes back with a DEC 386, no RAM, no HDD, no keyboard, no nothing. I ask how much; he looks at Tom. Tom gives the go ahead and he says "Take it away. Have fun with it." Ha! If they only knew.
A very well intentioned <a href="#donate">effort</a> is underway right now in your community to donate old computers to deserving non-profit groups and educational facilities.  This article was inspired by that effort in hopes that the recipients of these machines can make the best use of them. When you combine the GNU tools with a rock solid kernel you get an OS that becomes the killer application. You know it as linux.
<hr><a name=xfree><h2><font color=blue>Reference reading and links:</h2></font></a>
<P><a name=dvd>DVD</a> the sites to see: <a href="http://atv.ne.mediaone.net/linux-dvd/">http://atv.ne.mediaone.net/linux-dvd/</a>
<a href="http://livid.on.openprojects.net/">http://livid.on.openprojects.net/</a>
<P><a name=big>Large-Disk</a> <a name=lba>mini-HOWTO</a> -- you might need to use the linear option in /etc/lilo.conf
<P>LILO mini-HOWTO -- shows the linear option for /etc/lilo.conf
<P><a name=donate>Share</a> the Technology <a href="http://www.sharetechnology.org">http://www.sharetechnology.org</a>
<P>Geeks Into The Streets <a href="http://linux.umbc.edu/gits/">http://linux.umbc.edu/gits/</a>
<P>The <a name=schily>home</a> of cdrecord: <a href="http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/cdrecord.html">
http://www.fokus.gmd.de/research/cc/glone/employees/joerg.schilling/private/cdrecord.html</a>
<P>Remote-X-Apps mini-HOWTO -- required reading for X on a terminal
<hr><br><P>
<center><font color=blue><strong>made with mcedit on an i486 with GNU/Linux 2.0.35<P>The adamant position of the author is in no way meant as an affront to sincere readers.</center></font></strong>



<!--===================================================================-->
<P> <hr> <P> 
<center><H5>Copyright &copy; 1999, Bill Bennet<BR> 
Published in Issue 45 of <i>Linux Gazette</i>, September 1999</H5></center>

<!--===================================================================-->
<!--startcut ==========================================================-->
<P> <hr> <P> 
<A HREF="index.html"><IMG ALIGN=BOTTOM SRC="../gx/indexnew.gif" 
ALT="[ TABLE OF CONTENTS ]"></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../gx/homenew.gif"
ALT="[ FRONT PAGE ]"></A>
<A HREF="lg_tips45.html"><IMG SRC="../gx/back2.gif"
ALT=" Back "></A>
<A HREF="gibbs/Linux_java.html"><IMG SRC="../gx/fwd.gif" ALT=" Next "></A>
<P> <hr> <P> 
</BODY>
</HTML>
<!--endcut ============================================================-->
