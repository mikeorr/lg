<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<META NAME="generator" CONTENT="lgazmail v1.4F.y">
<TITLE>The Answer Gang 84: Video Question</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->
<!-- begin 4 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Video Question</H3>


<p><strong>From Steve Burrow 
</strong></p> 


<p align="right"><strong>Answered By  Sayamindu Dasgupta, Mike Orr, Faber Fedor, Ben Okopnik, Daniel Washko
</strong></p>
<P><STRONG>
I think I have a relatively easy or basic question:
</STRONG></P>
<P><STRONG><BLOCKQuote>
I installed RedHat 6.0 on a small machine (PIII/500/64RAM) designed
specifically to be a web server.  I replaced the small 10 gig hard drive
with a blank 30 gig, created 6 partitions, and completed the install.
</BLOCKQuote></STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Sayamindu] 
Why did u install RH 6.0??
</blockQuote>
<blockQuote>
It's way too old and outdated
And for a web server, why do you need X ??
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Well, I guess it came down to convenience.  I have a disk of <A HREF="http://www.redhat.com/">Red Hat</A> 6.0 and
being a newbie, I didn't think 6.0 was so far behind the times.  (Not so
convenient now, I guess!)  I guess I would like to run X because it is a
graphical tool I can use to administrate the box...at this point I need all
the help I can get!
</STRONG></P>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
The installation went pretty easy except for the video configuration part.
I first tried to use the probe utility...it could not determine what card I
am using.  Actually, the video card is wired to the motherboard so I don't
know the specifications so I chose the last option "card not listed".
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Sayamindu] 
It would have been better if you had stated your motherboard model.. but
still... here goes -
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Yeah, sorry bout that.  After cracking the box, this is what I see:
</STRONG></P>
<P><STRONG><BLOCKQuote>
MB = sahara - 1000  with integrated video/network
</BLOCKQuote></STRONG></P>
<P><STRONG>
Video looks like a SIS 5595 chipset, although there is another chip on-board
(with heat rails) that is green in color and reads SIS 620.  Not sure if
that is the video controller or not.....
</STRONG></P>
<P><STRONG>
Network = 3Com chip that reads Parallel Tasking II ...have not gotten the
network to work yet!
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
You will need to upgrade your X packages (<A HREF="http://xfree.org/#currentrel"
	>http://xfree.org/#currentrel</A>)
A better option would be to upgrade your distro - that would save a lot
of hassles - with your config, I would recommend <A HREF="http://www.debian.org/">Debian</A> 3.0 - that
should work fine
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Next it asks for the monitor I plan to use with the system.  It did not have
my exact monitor so I manually entered in the specifications of my monitor.
</STRONG></P>
<P><STRONG>
With all that said, I  have no problem starting up the machine and the video
is fine for login and command prompt screen, but when I try to enter startx,
it opens a session just fine but the screen is magnified so I can only see
the top left-hand quarter of the screen.  I can see the background and a
couple default RH icons but I have no idea how to change the resolution to
fit the entire screen.
</STRONG></P>
<P><STRONG>
Any suggestions????
</STRONG></P>
<P><STRONG>
Thanks!
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
Open your <TT>/etc/X11/XF86Config</TT> file using your favorite text editor.
Scroll down to the bottom and in the (one or more) "Screen" section(s),
you will see a line something like "Virtual 1200 1200" or some other
numbers.  Comment out those lines and restart X.  That should fix it.
</blockQuote>
<blockQuote>
As mentioned, Red Hat 6.0 <EM>is</EM>  bit old, and it's a .0 release of Red
Hat which means it should be avoided like the plague, IMNSHO.  I suggest
you upgrade to a lter distro (Red Hat 7.3 (NOT 8.0!), Debian, Suse,
Mandrake, etc.)
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Daniel] 
less <TT>/proc/pci</TT>
</blockQuote>
<blockQuote>
look for your vga controller, it may list the make and model, that's
enough to get you going at the very least.
</blockQuote>
<blockQuote>
Ideally, you should consult your mb manual, or the mb manufacturer's
website to find out the full specs of your mb.  For your video chipset,
you may want to know how much memory should be allocated.
</blockQuote>
<blockQuote>
I echo the sentiment that why would you need X for a webserver?  It's just
wasting space and leaves a security hole open.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
You're the second person to say that and while I'm a CLB (Command Line
Bigot) I'm going to chime in here with "I disagree!".
</blockQuote>
<blockQuote>
The gentleman in question said he was running "startx".  That tells me
he's is running X only when he needs to.  Since he is, I assume, as a
relative newbie to Linux, it is perfectly okay for him to run a GUI to
configure his system and get around in it in general.  Since it is a
(web) server, it would be wasteful for him to run a GUI <EM>all of the time</EM> .
</blockQuote>
<blockQuote>
I suggest to all of my non-CLB clients that they run X whenever they
need to do some work and then exit X when they are done.  For those who
are CLB, I suggest running X so they can have multiple command lines!

<IMG SRC="../../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle"> (Yes, I know about "screen" but I like <A HREF="http://www.kde.org/">KDE</A>'s Konsole.)
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Daniel] 
Finally, Faber, I did not see <A HREF="http://www.slackware.org/">Slackware</A> in that list!
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
Mea Culpa!  I'll bring the donuts to the next LUG meeting in penance! 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Iron]
</blockQuote>

<blockQuote><ol>
<LI>Be glad you got a graphical screen at all since you're using an
   unknown video chip with who knows what proprietary extensions in it.


<LI>If you drag the mouse down past the bottom and right edges of the
   screen, the display will probably scroll.  That's a standard X
   feature and means that your virtual screen is larger than your physical
   screen.  There are settings in /etc/X11/XF86Config (which may be in a
   slightly different location in your distribution) to control this, see
   "apropos XF86Config".
</ol></blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I dragged the mouse...no scroll.  Tried "apropos XF86Config" and it returned
3 lines:
</STRONG></P>

<pre><strong>XF86Config (5x) - Configuration file for Xfree86
Reconfig (1x)     - Convert old Xconfig to new XF86Config
xf86Config (1x)  -  generate as XF86Config file
</strong></pre>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Iron]
</blockQuote>

<blockQuote><ol>
<LI>Look in your motherboard manual or on the motherboard to see what 
   brand/version it is, then look on the manufacturer's web site to see which
   video
   chip that model uses.  Then do a Google search for "Linux hardware" and
   you'll find several sites with brand-specific information about what Linux
   needs on different kinds of hardware.


<LI>Since X doesn't know what kind of video chip you have, it's falling back to
   the lowest common denominator, probably 640x480 or even 320xSomething at 16
   colors.  Since I can't see your screen I don't know how big is "magnified",
   but I have had X start up 320 pixels wide sometimes when I changed video
   cards without reconfiguring the software.


<LI>X comes with a standard SVGA driver that all video cards less than fifteen
   years old should support.  You can tweak XF86Config by hand or use whatever
   graphical setup utility your distribution provides, or even the xvidtune
   program.  You should be able to get at least 1024x768, although the possible
   color depth (number of simultaneous colors) depends on how much video memory
   you have.


<LI>Run "X -probeonly &gt;| ~/.xsession-errors".  That will give you a verbose
   listing of what X tried to do and what it found.  It may be trying higher
   video modes and deleting them because your video chip won't support them.
   It may also be logging the information under /var/log/ somewhere.  The "X"
   command is X-server, the program that controls the graphics mode.  The actual
   filename may be different on your system.
</ol></blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Ran this line and from what I can tell, I think you are right...it is
reverting back to the least common denominator, here is a summary:
</STRONG></P>

<pre><strong>SVGA: chipset: generic
SVGA: videoram: 64k
SVGA: clocks: 25.18
SVGA: Using 8 bpp, Depth 8, Color Weight 666
SVGA: Builtin Mode: 320x200
SVGA: Virtual Resolution set to 320x204
</strong></pre>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike]
</blockQuote>

<blockQuote><ol>
<LI>X comes with lots of documentation under /usr/share/doc or /usr/doc.  They
   may be in separate documentation packages.  You probably have XFree86 3.x.
   My Debian system has XFree86 4.1.0 so the filenames are different, but my
   directories are:
   /usr/share/doc/xserver-xfree86
   /usr/share/doc/xfree86-common
   /usr/share/doc/xserver-common
   XFree86 4.x has only one X-server, XFree86 3.x has several X-servers, each
   covering a family of video chips.  The SVGA server is the
   lowest-common-denominator
   one I was talking about, as well as being the correct server for certain
   chips (CT, Matrox, etc).  The S3 server is for S3 chips (e.g.,
   Diamond Stealth),
   and so forth.  The chip-specific servers take advantage of each chips
   acceleration-optimization code for snappier performance.
</ol></blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
What makes sense from here?  Upgrading or trying to resolve these issues
before and upgrade?   Keep in mind my network isn't working either so I will
have to load all utilities/packages/or drivers via CD....this was my motive
to get X to work first so as to tweak the network settings graphically!
</STRONG></P>
<P><STRONG>
Thanks again for everyone's help, much appreciated!!!!
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
Thanks for writing back.  You don't know how many people just take the
advice and run.
</blockQuote>

<blockquote><em><font color="#000066">Yeah, the threads aren't nearly as juicy without debugging reports and
the eventual dancing in glee...
 -- Heather</font></em></blockquote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Video looks like a SIS 5595 chipset, although there is another chip on-board
(with heat rails) that is green in color and reads SIS 620.
</STRONG></P>
<blockQuote><DL><DT>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
<DD><A HREF="http://www.xfree86.org/4.2.1/SiS.html"
	>http://www.xfree86.org/4.2.1/SiS.html</A>
</DL></blockQuote>
<blockQuote>
[For XFree86 4.2.0:]
</blockQuote>
<blockQuote>
"Information for SiS users ... This driver was primarily written for
the SiS6326 and SiS530 by Alan Hourihane. It also works on 5597/5598
chips, and probably on older SiS862X5 family...  The following options
are of particular interest for the SiS driver. Each of them must be
specified in the Device section of the XF86Config file for this card..."
(The file is called README.SiS in the distribution.)
</blockQuote>
<blockQuote>
My Debian computer has a slightly older version, XFree86 4.1.0, and there's an
interesting file <TT>/usr/share/doc/xserver-xfree86/Status.gz</TT> :
</blockQuote>

<blockquote><code><font color="#000033"><br>	"This document contains one section per vendor (organised
<br>	alphabetically) for each chipset family that is supported in XFree86
<br>	3.3.6 or XFree86 4.1.0.
<br>...
<br>	Unless otherwise stated, hardware is classified as "supported" if
<br>        its driver provides basic 2D support.  Support for additional features
<br>        may or may not be present....
<br>...
<br>
<br>	In XFree86 3.3.6, several X servers are available; much hardware
<br>        uses the XF86_SVGA server, which has a set of driver modules that
<br>        are built into it at compile time.  In other cases, X servers for
<br>        specific chips (or families of chips) are provided (such as XF86_AGX,
<br>        XF86_Mach64, etc.).
<br>
<br>	In XFree86 4.1.0, there is only one X server,
<br>        called "XFree86", which can load driver modules at runtime...
<br>...
<br>	30.  Silicon Integrated Systems (SiS)
<br>	[Xfree86 version] 3.3.6: Support (accelerated) for the SiS 86C201,
<br>	86C202, 86C205, 86C215, 86C225, 5597, 5598, 6326, 530, 620, 300, 630
<br>	and 540 is provided by the XF86_SVGA server with the sis driver.
</font></code></blockquote>
<blockQuote>
[Note that 620 is mentioned but 5595 is not.]
</blockQuote>

<blockquote><code><font color="#000033"><br>	[XFree86 version] 4.1.0: 530, 620, 6326 is provided by the "sis"
<br>	driver.  The 630, 300, and 540 are also supported, but this code is new
<br>	and there are some problems with it in this version.
</font></code></blockquote>
<blockQuote>
[Again 620 is mentioned but 5595 is not.]
</blockQuote>

<blockquote><code><font color="#000033"><br>	Summary: Support for the 86C201, 86C202, 86C205, 86C215, 86C225,
<br>        5597 and 5598 is currently only available in 3.3.6.
</font></code></blockquote>
<blockQuote>
So there are tradeoffs between the different versions of X and which SiS chips
they support.  I normally say go with the latest, but I know I couldn't upgrade
to version 4 while I still had my old video card (I think it was the Diamond
Stealth, which I replaced with a Matrox Millenium G400 that I got used with a
guarantee for $50.)
</blockQuote>
<blockQuote>
<EM>If</EM> you really care about X, you'll have to decide which version to try and
install the latest copy of that.  If there's no data on the system you need, it
may be easier to just blow it all away and install a newer version of Linux from
scratch.
</blockQuote>
<blockQuote>
But if you really only care about networking, why waste a couple days
configuring X?
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Network = 3Com chip that reads Parallel Tasking II ...have not gotten the
network to work yet!
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
The 3C905 (PCI) and 3C509 (ISA) cards work beautifully on Linux, so hopefully
your integrated chip is 3C905 compatible.  What does <TT>/proc/pci</TT> say about it?
All the newer 3Com network cards seem to use the 3c59x kernel driver, regardless
of whether the "5" is before the "9" on the card.  So make sure that driver is
compiled into your kernel or available as a module, and see if it autodetects
your NIC chip.  If I remember right, "Parallel Tasking" is a marketroid slogan
3Com has been using for years.
</blockQuote>
<HR width="10%" align="left"><P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Mike,
</STRONG></P>
<P><STRONG>
Well, I appreciate you responding as much as you enjoy the challenge of my
questions!!!
</STRONG></P>
<P><STRONG>
I agree, I noticed that SIS 5595 was not listed in the driver support
pages...I guess the video is supported through the 620 chip.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Whoops - that was too quick of a judgement call. The following is an
excerpt from the "HP hardware supported by Linux" page (just the first
relevant thing I grabbed off Google!), snipped for brevity:
</blockQuote>

<TABLE WIDTH="95%" BORDER="1" BGCOLOR="#FFFFCC"><TR><TD>
<p align="center">...............</p>
<blockQuote><BLOCKQuote>
The following tables indicate the state of Linux support by these platforms :
</BLOCKQuote></blockQuote>
<blockQuote>
Table 3-1. Brio and Linux
</blockQuote>

<blockquote><pre>+-----------------------------------------------------------------------------------------------+
| Machine    | Graphic | Linux  | Network | Linux  | SCSI  | Linux   | Sound | Linux   | Tested |
|            | Card    | support| Card    | support| Card  | support | Card  | support |        |
|------------+---------+--------+---------+--------+-------+---------+-------+---------+--------|
| Brio BA    | Sis 5595|  Yes   | None    | N/A    | None  | N/A     | Cirrus| Yes     | No     |
| (D7581A,   | AGP     | 3.3.6  |         |        |       |         | Logic | driver  |        |
| D7584A,    |         |  in    |         |        |       |         | CS    | Alsa    |        |
| D7585A,    |         | Frame  |         |        |       |         | 4614  |         |        |
| D7587A,    |         | Buffer |         |        |       |         |       |         |        |
| D7586A,    |         | mode   |         |        |       |         |       |         |        |
| D7591A,    |         | (FBDEV)|         |        |       |         |       |         |        |
+------------+---------+--------+---------+--------+-------+---------+-------+---------+--------+

</pre></blockquote>
<p align="center">...............</p>
</TD></TR></TABLE><blockQuote>
So, there is indeed some support for the SiS5595, starting back in 3.3.6
days. Not that SiS under Linux is anything I'd wish on people.
"Minimal", "basic", and "hardly works" are the terms that come to
mind... and the ones I'd had to configure were somewhat later models
than the 5595.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
After reading your response, I guess I have no good reason to spend a couple
days trying to configure the network support or X for that matter.  I  read
a few articles eluding that X is a easy visual tool to help configure the
machine.  Do you have any recommendations on something better?
</STRONG></P>

<blockquote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Heather] It would be more accurate to say X is the visual environment, and many
nice tools are available that use the X windowing GUI.
</blockquote>
<blockquote>Some not so nice too.
</blockquote>
<blockquote>Look for nice tools which say they need "curses".  That's a console
interface with nice colors, so many menuing sysadmin tools use it.
</blockquote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
X, if you're willing to live with the generic SVGA server, should work
OK. Networking, eh... Linux - pretty much all Unixen, actually - kinda
implicitly assume that you're connected. You <em> _can</em> run without it,
but... Besides, networking isn't that hard to configure. Have you read
the Net-HOWTO yet? If not, then you definitely should.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
X is "easy" in that it provides the GUI environment most front-end tools
depend on.  However, X can be "difficult" to set up if your distribution
doesn't autodetect your video chip properly and set an appropriate initial
configuration.  Then you have to edit <TT>/etc/X11/XF86Config</TT> manually or run one
of the configuration front-ends that comes with X or with your distribution.
Video chips (and network chips) that are integrated into the motherboard are
especially prone to this problem because they are released suddenly by the
manufacturer, often using undocumented or proprietary protocols, and it takes
time for a Linux driver to be written, especially if the manufacturer is
uncooperative.  My normal strategy in this case is to buy a known-compatible
video card I know the configuration for.  I also don't buy motherboards with
integrated components unless (1) I know Linux works with those components and
which drivers are needed, or (2) the total cost of the motherboard is cheap
enough that I can just disable the integrated component and use my own PCI
card.  If you choose to go that route, the BIOS setup screen probably has
options to disable each integrated component individually.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Can I assume a newer version of RedHat (7.2) would ship with more recent
driver sets to support the equipment we are discussing?  I guess that would
save me some time.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Latest is good, yes.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
The current version of Red Hat is 8.0.  There is probably a hardware
compatibility
list somewhere on www.redhat.com.  I use Debian, so I can't comment on Red Hat
specifically.  However, since X and the kernel are third-party components, you
can see which version RH is using and look up the documentation on their own
sites. We've already done that for X.  For your network-chip problem, the
appropriate places would be the Hardware HOWTO and Ethernet HOWTO at
www.tldp.org, and in the Linux kernel source (since it is a kernel driver).
See if there's a file Documentation/networking/ .  Also see the comments in
the driver sources themselves, drivers/net .
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Actually, the unit I bought shipped with two (2) network cards in it.  (This
is the unit:
<A HREF="http://www.3com.com/products/en_US/detail.jsp?tab=features&amp;sku=3C19504-US&amp;pathtype=support"
	>http://www.3com.com/products/en_US/detail.jsp?tab=features&amp;sku=3C19504-US&amp;pathtype=support</A>
</STRONG></P>
<P><STRONG>
One is wired to the board and the other is a 3com PCI
3C905.  This is what <TT>/proc/pci</TT> says about the network controller:
</STRONG></P>

<pre><strong>Bus 0, device  8, function0:
Ethernet Controller: 3com Unknown device (rev 116).
Vendor id-10b7. Device id=9200
Medimum devsel. IRQ 11. Master Capable. Latency=64. Min Gnt=10.Max Lat=10.
</strong></pre>
<P><STRONG>
Hope that helps, it was the only one out of the 7 device descriptions that
mentioned a network controller.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
One of the various 3c* modules <em> _should</em> load. Here's something I do (as
root) when I have no clue of what module to load for the NIC and just
want to know if <em> _one</em> of them will do:
</blockQuote>

<blockquote><pre># The MASSIVELY brute-force approach!!!
cd /lib/modules/&lt;kernelversion&gt;/kernel/drivers/net
for n in *.o; do insmod $n; done
</pre></blockquote>
<blockQuote>
This will try to load <EM>every</EM> <EM>single</EM> module in the "net" category...
yuck. However, if one of them succeeds, you'll know it: "ifconfig -a"
will show an "eth0" interface. I then do the following cute trick:
</blockQuote>

<blockquote><pre>ifconfig eth0 10.0.0.1		# Actual IP doesn't matter
for n in `lsmod|awk '/unused/{print $1}'`; do rmmod $n; done
</pre></blockquote>
<blockQuote>
Since "eth0" is now in use, the module won't unload... and now you'll
know (via "lsmod") which one it is.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
For comparision, my 3C905B PCI card shows up as:
</blockQuote>

<blockquote><pre>  Bus  0, device  14, function  0:
    Ethernet controller: 3Com Corporation 3c905B 100BaseTX [Cyclone] (rev 48).
      IRQ 10.
      Master Capable.  Latency=32.  Min Gnt=10.Max Lat=10.
      I/O at 0xa000 [0xa07f].
      Non-prefetchable 32 bit memory at 0xf9000000 [0xf900007f].
</pre></blockquote>
<blockQuote>
The most important question is, does the 3c59x driver recognize it?
My boot messages say:
</blockQuote>

<blockquote><pre>3c59x: Donald Becker and others. www.scyld.com/network/vortex.html
00:0e.0: 3Com PCI 3c905B Cyclone 100baseTx at 0xa000. Vers LK1.1.16
</pre></blockquote>
<blockQuote>
Run "dmesg | less" to see your boot messages again.  If it's compiled as a
module, use "modprobe 3x59x" and "modprobe -r 3c59x" to activate and
deactivate it.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I guess my next step is to get a hold of RedHat 7.2..unless you have some
suggestions on my current setup!
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Mike] 
You can compile a recent kernel without upgrading, which will get you the
latest Linux drivers to try.  Or you can contact 3Com and find out exactly
how those cards/chips are different from a standard 3C509B and whether they
have any success/failure stories about using them with Linux.  You may also
want to find out why the product was discontinued and how it differs from
their current models.
</blockQuote>
<blockQuote>
Or you can disable the integrated network chip, yank out the almost-compatible
card and put in a real 3C905B card (or an Intel EtherExpress Pro 100 for that
matter, using Linux's "eepro100" driver, which I also have in my computer).
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Thanks again for your help and I will let you know how the upgrade goes!!!
</STRONG></P>
<P><STRONG>
-Steve
</STRONG></P>

<!-- end 4 -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<hr>
<CENTER><SMALL><STRONG>
<h5>
<br>Copyright &copy; 2002
<br>Copying license <A HREF="">http://www.linuxgazette.net/copying.html</A>
<BR>Published in Issue 84 of <i>Linux Gazette</i>, November 2002</H5>
</STRONG></SMALL></CENTER>
<!-- *** END copyright *** -->
<HR>

<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="../index.html"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> 
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
