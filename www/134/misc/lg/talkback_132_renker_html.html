<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Talkback</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Talkback:132/renker.html</h3>
<p><b>[ In reference to "<a href='../../../132/renker.html'>Poor Man's Laptop</a>" in LG#132 ]</b></p><p>
<b>Gerrit Renker [grrtrr at yahoo.co.uk]</b><br />
<b>Tue, 19 Dec 2006 09:07:08 +0000 (GMT)</b>
</p>

<p>
Sorry the initial question never got copied to me, I realised that after
reading the talkback some time later. I hope that the below clarifies.
</p>


<pre>
&gt; Any particular reason for not just using a tool, which already exists
&gt; - such as Unison (<a href="http://www.cis.upenn.edu/~bcpierce/unison/">http://www.cis.upenn.edu/~bcpierce/unison/</a>) which is
&gt; cross platform/OS ?
</pre>

<p>
Unison synchronises between directories - this means if you intend to use
it in combination with a USB stick then your USB stick carries an identical
copy of all the directories which you intend to synchronise. 
</p>

<p>
But this is not what the article is about.
</p>

<p>
If you intend to have an identical copy of some of the computer's directories
then there are two other alternatives:
</p>

<p>
 (a) mount the USB stick (or USB hard drive) underneath such working directories
     as you intend to use at home and at work (bind/rbind/move options to mount)
     In this case you neither need the solution in the article, nor unison.
</p>

<p>
 (b) carry a synchronised version of some work directories on your USB stick.
     ==&gt; Again you don't need the solution in the article. And you don't even
         need unison. For this purpose, rsync is useful, has been tested by
	 thousands and is much better than plain cp since it only copies the
	 updates:	 rsync -a --delete source destination
</p>

<p>
The solution in the article works and is designed for when you have
neither (a) or (b): the former is expensive in terms of hardware, the
latter is expensive in terms of space.
</p>

<p>
Unison or rsync are not sufficient for this purpose.
</p>

<p>
With regard to solution (b), it may be interesting to see whether there is anything
which unison can do that rsync can not.
</p>

<p>
Gerrit
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_132_renker_html">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Kapil Hari Paranjape [kapil at imsc.res.in]</b><br />
<b>Wed, 20 Dec 2006 09:39:58 +0530</b>
</p>

<p>
Hello,
</p>


<pre>
&gt; With regard to solution (b), it may be interesting to see whether there is anything
&gt; which unison can do that rsync can not.
</pre>

<p>
"unison" can synchronise in both directions and offer to merge text
files. This is something that "rsync" cannot do. This is because
"unison" maintains history but "rsync" doesn't. On the other hand
this means some storage space used up by "unison".
</p>

<p>
The basic principle in "unison/rsync" is also used in "git". The
"unique name" of a file is its SHA1/MD5 checksum.
</p>

<p>
In fact you may think of your scheme as a revision/version control
scheme with distributed archives: HOME and WORK. The USB stick acts as
the "network"[*]. Perhaps this presents alternate approaches.
</p>

<p>
Regards,
</p>

<p>
Kapil.
</p>

<p>
[*] Never underestimage the bandwidth of a truck full of floppies
		--- Andrew Tannenbaum (sp?)
--
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_132_renker_html">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Wed, 20 Dec 2006 10:11:45 -0600</b>
</p>

<p>
On Wed, Dec 20, 2006 at 09:39:58AM +0530, Kapil Hari Paranjape wrote:
</p>

<pre>
&gt; 
&gt; [*] Never underestimage the bandwidth of a truck full of floppies
&gt; 		--- Andrew Tannenbaum (sp?)
</pre>

<p>
The oldest version I can recall is "a 747 full of mag tapes." All these
massively-parallel versions of the Sneakernet have their uses.
</p>

<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_132_renker_html">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Gerrit Renker [grrtrr at yahoo.co.uk]</b><br />
<b>Thu, 21 Dec 2006 11:02:36 +0000 (GMT)</b>
</p>

<p>
Hi Kapil,
</p>

<p>
thank you for the helpful information. 
</p>


<pre>
&gt; The basic principle in "unison/rsync" is also used in "git". The
&gt; "unique name" of a file is its SHA1/MD5 checksum.
&gt; 
&gt; In fact you may think of your scheme as a revision/version control
&gt; scheme with distributed archives: HOME and WORK. The USB stick acts as
&gt; the "network"[*]. Perhaps this presents alternate approaches.
</pre>
This is correct and I have been thinking whether there is a smarter way
of synchronising for this particular scenario, using git. But the space
demands of git are quite huge, and it requires much greater discipline
when used as a general-purpose tool than when merely tracking directories. 
</p>


<pre>
&gt; [*] Never underestimage the bandwidth of a truck full of floppies
&gt; 		--- Andrew Tannenbaum (sp?)
</pre>
The throughput equation: 128MB USB stick, time to get home: 30 minutes 
   =&gt; throughput = 256MB/hour. 
Btw the origin of  the script is about 8 years ago when I could not afford a
120MB zip drive and used a stack of floppies, plus `split' and `cat' to take
home larger pieces of software.
</p>


<p>
		

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_132_renker_html">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Thu, 21 Dec 2006 09:18:00 -0600</b>
</p>

<p>
On Thu, Dec 21, 2006 at 11:02:36AM +0000, Gerrit Renker wrote:
</p>

<pre>
&gt; Hi Kapil,
&gt; 
&gt; thank you for the helpful information. 
&gt; 
&gt; &gt; The basic principle in "unison/rsync" is also used in "git". The
&gt; &gt; "unique name" of a file is its SHA1/MD5 checksum.
&gt; &gt; 
&gt; &gt; In fact you may think of your scheme as a revision/version control
&gt; &gt; scheme with distributed archives: HOME and WORK. The USB stick acts as
&gt; &gt; the "network"[*]. Perhaps this presents alternate approaches.
&gt; This is correct and I have been thinking whether there is a smarter way
&gt; of synchronising for this particular scenario, using git. But the space
&gt; demands of git are quite huge, and it requires much greater discipline
&gt; when used as a general-purpose tool than when merely tracking directories. 
&gt; 
&gt; &gt; [*] Never underestimage the bandwidth of a truck full of floppies
&gt; &gt; 		--- Andrew Tannenbaum (sp?)
&gt; The throughput equation: 128MB USB stick, time to get home: 30 minutes 
&gt;    =&gt; throughput = 256MB/hour. 
&gt; Btw the origin of  the script is about 8 years ago when I could not afford a
&gt; 120MB zip drive and used a stack of floppies, plus `split' and `cat' to take
&gt; home larger pieces of software.
</pre>

<p>
You could always use the "multiple archive" feature of 'tar' in those
situations, which would happily slice and dice files for you: 
</p>

<pre>
# Creates 1024kB archives on floppy
tar -ML1024 -cvf /mnt/fd0/archive.tar /dir/to/back/up
</pre>
And you could even get fancy by adding a '-F umount' option (executed at
the end of each volume) and saving yourself some typing; mounting the
new floppy is, of course, best done from another console or xterm.
Conversely, you could make friends with 'automount' and save yourself
that hassle.
</p>

<p>
Isn't it nice that we don't need to do that stuff anymore, though? I
remember being very happy indeed when SuperDisks came out: I could now
transport data in <strong>useful</strong> amounts, instead of doing all of the above
fiddling (or its equivalent in DOS/Wind0ws.)
</p>

<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_132_renker_html">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Gerrit Renker [grrtrr at yahoo.co.uk]</b><br />
<b>Thu, 21 Dec 2006 21:12:28 +0000 (GMT)</b>
</p>

<p>
Hi Benjamin,
</p>


<pre>
&gt; # Creates 1024kB archives on floppy
&gt; tar -ML1024 -cvf /mnt/fd0/archive.tar /dir/to/back/up
</pre>
Kewl! That is something I was ignorant of but it is one of the options which I must 
commit to secondary storage inside my head <img src="../gx/smile.png" alt=":-)">
</p>



<pre>
&gt; Isn't it nice that we don't need to do that stuff anymore, though? 
</pre>
Yeah but the engineering spirit to solve this problem can be later reused in a similar situation.
It is great - I just found out that the price of USB sticks has gone lower again.
</p>

<p>
All the best wishes for a merry Christmas &amp; happy new year
Gerrit
</p>


<p>
		

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_132_renker_html">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>