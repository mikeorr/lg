<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>Erratically dying 'pppd'</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Erratically dying 'pppd'</h3>
<p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Thu, 9 Jul 2009 14:07:47 +0530</b>
</p>

<p>
Hi!
</p>

<p>
I use PPP to use a GPRS and/or CDMA modem. The 'pppd' often dies
abruptly, blurting out "modem has hung up".
</p>

<p>
I am not suspecting a network issue as it doesn't happen on Windows.
Any idea how can I find out the reason and may be then correct it ?
</p>

<p>
Thanks!
</p>

<p>
-Amit
</p>



<pre>-- 
Journal: <a href='http://amitksaha.wordpress.com'>http://amitksaha.wordpress.com</a>,
Micro-blog: <a href='http://twitter.com/amitsaha'>http://twitter.com/amitsaha</a>
Freenode: cornucopic in #scheme, #lisp, #math,#linux, #python
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Paul Sephton [paul at inet.co.za]

</p>
</b><br />
<b>Thu, 09 Jul 2009 10:54:58 +0200</b>
</p>

<p>
On Thu, 2009-07-09 at 14:07 +0530, Amit Saha wrote:
</p>

<pre>
&gt; Hi!
&gt; 
&gt; I use PPP to use a GPRS and/or CDMA modem. The 'pppd' often dies
&gt; abruptly, blurting out "modem has hung up".
&gt; 
&gt; I am not suspecting a network issue as it doesn't happen on Windows.
&gt; Any idea how can I find out the reason and may be then correct it ?
&gt; 
&gt; Thanks!
&gt; -Amit
</pre>

<p>
Could be a cable fault.  If the DCD (data carrier detect) signal is
dropped, the assumption is that the modem has hung up.  One might play
arround with the 'stty' app against the port, eg.  'stty &lt; /dev/tty0' or
whatever to check the port settings for the serial connection.
</p>

<p>
Paul
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Thu, 9 Jul 2009 13:20:51 +0200</b>
</p>

<p>
On Jul 09, 2009 at 1407 +0530, Amit Saha appeared and said:
</p>

<pre>
&gt; Hi!
&gt; I use PPP to use a GPRS and/or CDMA modem. The 'pppd' often dies
&gt; abruptly, blurting out "modem has hung up".
&gt; I am not suspecting a network issue as it doesn't happen on Windows.
&gt; Any idea how can I find out the reason and may be then correct it ?
</pre>

<p>
You can turn on debugging by setting the debug and kdebug options. You
can also increase the thresholds for the lcp-... options since pppd
monitors the connection and terminates it if the peer doesn't respond
with LCP Echo packets.
</p>

<p>
Best,
Ren&eacute;.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Thu, 9 Jul 2009 17:24:30 +0530</b>
</p>

<p>
On Thu, Jul 9, 2009 at 4:50 PM, Ren&eacute; Pfeiffer &lt;lynx@luchs.at&gt; wrote:
</p>

<pre>
&gt;
&gt; On Jul 09, 2009 at 1407 +0530, Amit Saha appeared and said:
&gt; &gt; Hi!
&gt; &gt;
&gt; &gt; I use PPP to use a GPRS and/or CDMA modem. The 'pppd' often dies
&gt; &gt; abruptly, blurting out "modem has hung up".
&gt; &gt;
&gt; &gt; I am not suspecting a network issue as it doesn't happen on Windows.
&gt; &gt; Any idea how can I find out the reason and may be then correct it ?
&gt;
&gt; You can turn on debugging by setting the debug and kdebug options. You
&gt; can also increase the thresholds for the lcp-... options since pppd
&gt; monitors the connection and terminates it if the peer doesn't respond
&gt; with LCP Echo packets.
</pre>

<p>
I have tried increasing the value of 'lcp'. Doesn't help. Will try the
'kdebug' option.
</p>

<p>
Thanks
-Amit
</p>

<pre>-- 
Journal: <a href='http://amitksaha.wordpress.com'>http://amitksaha.wordpress.com</a>,
Micro-blog: <a href='http://twitter.com/amitsaha'>http://twitter.com/amitsaha</a>
Freenode: cornucopic in #scheme, #lisp, #math,#linux, #python
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Fri, 10 Jul 2009 14:19:53 +0530</b>
</p>

<p>
On Thu, Jul 9, 2009 at 5:24 PM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
</p>

<pre>
&gt; On Thu, Jul 9, 2009 at 4:50 PM, Ren&eacute; Pfeiffer &lt;lynx@luchs.at&gt; wrote:
&gt;&gt;
&gt;&gt; On Jul 09, 2009 at 1407 +0530, Amit Saha appeared and said:
&gt;&gt; &gt; Hi!
&gt;&gt; &gt;
&gt;&gt; &gt; I use PPP to use a GPRS and/or CDMA modem. The 'pppd' often dies
&gt;&gt; &gt; abruptly, blurting out "modem has hung up".
&gt;&gt; &gt;
&gt;&gt; &gt; I am not suspecting a network issue as it doesn't happen on Windows.
&gt;&gt; &gt; Any idea how can I find out the reason and may be then correct it ?
&gt;&gt;
&gt;&gt; You can turn on debugging by setting the debug and kdebug options. You
&gt;&gt; can also increase the thresholds for the lcp-... options since pppd
&gt;&gt; monitors the connection and terminates it if the peer doesn't respond
&gt;&gt; with LCP Echo packets.
&gt;
&gt; I have tried increasing the value of 'lcp'. Doesn;t help. Will try the
&gt; 'kdebug' option.
</pre>

<p>
My situation is like this: I am using 'wvdial' which in turns spawns
'pppd'. Any body would know how I can pass the '--kdebug' option to
'pppd' in this scenario ?
</p>

<p>
Thanks!
-Amit
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Steve Brown [steve.stevebrown at gmail.com]

</p>
</b><br />
<b>Fri, 10 Jul 2009 10:22:36 +0100</b>
</p>

<p>
Hi Amit,
</p>

<p>
On Fri, Jul 10, 2009 at 9:49 AM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
 &gt; &gt; On Thu, Jul 9, 2009 at 5:24 PM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
 &gt;&gt; &gt;&gt; On Thu, Jul 9, 2009 at 4:50 PM, Ren&eacute; Pfeiffer &lt;lynx@luchs.at&gt; wrote:
 &gt;&gt;&gt; &gt;&gt;&gt;
 &gt;&gt;&gt; &gt;&gt;&gt; On Jul 09, 2009 at 1407 +0530, Amit Saha appeared and said:
</p>

<p>
 &gt; &gt; My situation is like this: I am using 'wvdial' which in turns spawns
 &gt; &gt; 'pppd'. Any body would know how I can pass the '--kdebug' option to
 &gt; &gt; 'pppd' in this scenario ?
</p>

<p>
I'm working from a very old memory here, so apologies if I lead you astray.
</p>

<p>
wvdial is a command line only - so what output do you get from it?
</p>

<p>
Also, I see that there is /etc/ppp/options and ~/.ppprc mentioned in the 
man page - could you set debug options there?
</p>

<p>
One last thought - can you maintain the connection manually? i.e. 
through the pppd scripts etc.
</p>

<pre>-- 
Steve
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Fri, 10 Jul 2009 15:02:10 +0530</b>
</p>

<p>
On Fri, Jul 10, 2009 at 2:52 PM, Steve Brown&lt;steve.stevebrown@gmail.com&gt; wrote:
</p>

<pre>
&gt; Hi Amit,
&gt;
&gt; On Fri, Jul 10, 2009 at 9:49 AM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
&gt;&gt; &gt; On Thu, Jul 9, 2009 at 5:24 PM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
&gt;&gt;&gt; &gt;&gt; On Thu, Jul 9, 2009 at 4:50 PM, Ren&eacute; Pfeiffer &lt;lynx@luchs.at&gt; wrote:
&gt;&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt;&gt; On Jul 09, 2009 at 1407 +0530, Amit Saha appeared and said:
&gt;
&gt;&gt; &gt; My situation is like this: I am using 'wvdial' which in turns spawns
&gt;&gt; &gt; 'pppd'. Any body would know how I can pass the '--kdebug' option to
&gt;&gt; &gt; 'pppd' in this scenario ?
&gt;
&gt; I'm working from a very old memory here, so apologies if I lead you astray.
&gt;
&gt; wvdial is a command line only - so what output do you get from it?
</pre>

<p>
This is how it exits:
</p>

<pre>
.
.
.
^CCaught signal 2:  Attempting to exit gracefully...
--&gt; Terminating on signal 15
--&gt; pppd: 886
--&gt; Connect time 1.9 minutes.
--&gt; pppd: 886
--&gt; pppd: 886
</pre>



<pre>
&gt;
&gt; Also, I see that there is /etc/ppp/options and ~/.ppprc mentioned in the man
&gt; page - could you set debug options there?
</pre>

<p>
Will see..
</p>


<pre>
&gt;
&gt; One last thought - can you maintain the connection manually? i.e. through
&gt; the pppd scripts etc.
</pre>

<p>
No. It happens with my USB GPRS modem too. I am using 'wvdial' for my
CDMA modem.
</p>


<p>
Thanks Steve!
</p>

<p>
-Amit
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Steve Brown [steve.stevebrown at gmail.com]

</p>
</b><br />
<b>Fri, 10 Jul 2009 11:22:05 +0100</b>
</p>

<p>
Hi AMit,
</p>

<p>
On 10/07/2009 10:32, Amit Saha wrote:
</p>

<pre>
&gt; On Fri, Jul 10, 2009 at 2:52 PM, Steve Brown&lt;steve.stevebrown@gmail.com&gt; wrote:
&gt;&gt; Hi Amit,
&gt;&gt;
&gt;&gt; On Fri, Jul 10, 2009 at 9:49 AM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
&gt;&gt;&gt; &gt; On Thu, Jul 9, 2009 at 5:24 PM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
&gt;&gt;&gt;&gt; &gt;&gt; On Thu, Jul 9, 2009 at 4:50 PM, Ren&eacute; Pfeiffer &lt;lynx@luchs.at&gt; wrote:
&gt;&gt;&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;&gt;&gt; On Jul 09, 2009 at 1407 +0530, Amit Saha appeared and said:
&gt;&gt;
&gt;&gt;&gt; &gt; My situation is like this: I am using 'wvdial' which in turns spawns
&gt;&gt;&gt; &gt; 'pppd'. Any body would know how I can pass the '--kdebug' option to
&gt;&gt;&gt; &gt; 'pppd' in this scenario ?
&gt;&gt;
&gt;&gt; I'm working from a very old memory here, so apologies if I lead you astray.
&gt;&gt;
&gt;&gt; wvdial is a command line only - so what output do you get from it?
&gt; 
&gt; This is how it exits:
&gt; 
&gt; .
&gt; .
&gt; .
&gt; ^CCaught signal 2:  Attempting to exit gracefully...
</pre>

<p>
Are using Ctrl-C to stop wvdial which then gives you this error?
</p>

<p>
Have you looked at the message logs?
</p>

<p>
Do you get errors before you kill wvdial?
</p>


<pre>
&gt; No. It happens with my USB GPRS modem too. I am using 'wvdial' for my
&gt; CDMA modem.
</pre>

<p>
Have you seen this page:
</p>

<p>
<a href='http://ubuntu-in.info/wiki/index.php/BSNL_CDMA_WLL_Howto'>http://ubuntu-in.info/wiki/index.php/BSNL_CDMA_WLL_Howto</a>
</p>

<p>
Good luck,
</p>

<p>
Steve
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Fri, 10 Jul 2009 10:39:39 -0500</b>
</p>

<p>
On Fri, Jul 10, 2009 at 02:19:53PM +0530, Amit Saha wrote:
</p>

<pre>
&gt; 
&gt; My situation is like this: I am using 'wvdial' which in turns spawns
&gt; 'pppd'. Any body would know how I can pass the '--kdebug' option to
&gt; 'pppd' in this scenario ?
</pre>

<p>
I've been using a CDMA modem for the past 10&gt;X&gt;3 years (I'm a little
hazy on whether the early versions were CDMA or some precursor...), and
I just set up the latest iteration - a brand new, tiny USB dongle with
built-in flash memory and an external antenna - this morning, so I might
have something to contribute. <img src="../gx/smile.png" alt=":)">
</p>

<p>
In my experience, hangups of this sort come down to one thing, something
that's already been mentioned: LCP settings. In fact, as far as I'm
concerned, the three settings that are absolutely required for reliable
operation of a CDMA modem are
</p>

<pre>
connect-delay 3000		# Some modems may require up to 10000
lcp-echo-failure 4
lcp-echo-interval 65535
</pre>

<p>
"wvdial" - or at least "wvdialconf" - can be useful if you know nothing
at all about setting up a modem; as you've found out, though, it can get
in the way if you're actually trying to debug the connection. Since your
modem is actually connecting, why not just drop back to using "pppd"
itself and cut out the middleman?
</p>

<p>
Just for reference, here's the way that I use my CDMA setup:
</p>

<p>
1) I set up the two files required by "pppd", /etc/ppp/peers/1xevdo and
/etc/chatscripts/1xevdo (see below.)
</p>

<p>
2) When using a GUI environment - which is the usual case - I click on
an icon that launches a small xterm which lives in the lower right
corner of my screen and shows the results of "pppd" output.  This way,
not only can I tell that it's still running - I can also kill it with
'Ctrl-C' if I want to.
</p>

<p>
3) If I ever need to use the modem from a CLI, I just pop into another
console, type 'pppd call 1xevdo', and flip back to the console I was
using.
</p>

<p>
It's a flexible system that's been serving me well these last X years.
</p>

<p>
My /etc/ppp/peers/1xevdo file, with my phone number replaced with #s:
</p>

<p>
<pre class='code'>
-detach
ttyUSB0
115200
debug
noauth
defaultroute
replacedefaultroute
usepeerdns
connect-delay 3000
user ##########@vzw3g.com
# show-password
noproxyarp
crtscts
lock
lcp-echo-failure 4
lcp-echo-interval 65535
connect '/usr/sbin/chat -v -t3 -f /etc/chatscripts/1xevdo'
</pre>

<p>
The '/etc/chatscripts/1xevdo' file:
</p>

<p>
<pre class='code'>
ABORT 'NO CARRIER' ABORT ERROR ABORT 'NO DIALTONE' ABORT BUSY ABORT 'NO ANSWER'
'' 'AT'
'OK' 'ATE0V1&amp;F&amp;D2&amp;C1&amp;C2S0=0S7=60'
'OK' 'AT+CSQ'
'OK-AT-OK' 'ATDT#777'
TIMEOUT 10
'CONNECT' ''
</pre>

<p>
There's a bit of magic in the latter that sets up variable compression;
this is something that used to be critical - the modem wouldn't connect
without it - that I seem to recall is no longer required, but does no
harm. In any case, feel free to experiment with eliminating stuff - but
only after you've got a reliable connection. <img src="../gx/smile.png" alt=":)">
</p>

<p>
Oh, and you also need to make sure that your password, if one is
required, is defined in your /etc/ppp/chap-secrets. The password for
Verizon's air cards is 'vzw', so the last line in my 'chap-secrets'
looks like this (again, I've replaced the phone number part of my
username with '#'s):
</p>

<p>
<pre class='code'>
##########\@vzw3g\.com  *   vzw
</pre>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Sun, 12 Jul 2009 11:29:58 +0530</b>
</p>

<p>
On Fri, Jul 10, 2009 at 9:09 PM, Ben Okopnik&lt;ben@linuxgazette.net&gt; wrote:
</p>

<pre>
&gt; On Fri, Jul 10, 2009 at 02:19:53PM +0530, Amit Saha wrote:
&gt;&gt;
&gt;&gt; My situation is like this: I am using 'wvdial' which in turns spawns
&gt;&gt; 'pppd'. Any body would know how I can pass the '--kdebug' option to
&gt;&gt; 'pppd' in this scenario ?
&gt;
&gt; I've been using a CDMA modem for the past 10&gt;X&gt;3 years (I'm a little
&gt; hazy on whether the early versions were CDMA or some precursor...), and
&gt; I just set up the latest iteration - a brand new, tiny USB dongle with
&gt; built-in flash memory and an external antenna - this morning, so I might
&gt; have something to contribute. <img src="../gx/smile.png" alt=":)">
&gt;
&gt; In my experience, hangups of this sort come down to one thing, something
&gt; that's already been mentioned: LCP settings. In fact, as far as I'm
&gt; concerned, the three settings that are absolutely required for reliable
&gt; operation of a CDMA modem are
&gt;
&gt; ``
&gt; connect-delay 3000 		# Some modems may require up to 10000
&gt; lcp-echo-failure 4
&gt; lcp-echo-interval 65535
&gt; ''
&gt;
&gt; "wvdial" - or at least "wvdialconf" - can be useful if you know nothing
&gt; at all about setting up a modem; as you've found out, though, it can get
&gt; in the way if you're actually trying to debug the connection. Since your
&gt; modem is actually connecting, why not just drop back to using "pppd"
&gt; itself and cut out the middleman?
</pre>

<p>
I saw that 'wvdial' was <em>intelligent</em> to guess my right settings and I
could instantly start using the Modem.  Hence, didn;t bother. However,
with your help now, I am back to using 'pppd' directly. Now, I shall
try and get some more information on its unexpected death.
</p>

<p>
Thanks a lot.
</p>

<p>
Best,
Amit
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Mon, 13 Jul 2009 14:53:31 +0530</b>
</p>

<p>
Hello Ben, all:
</p>

<p>
On Sun, Jul 12, 2009 at 11:29 AM, Amit Saha&lt;amitsaha.in@gmail.com&gt; wrote:
</p>

<pre>
&gt; On Fri, Jul 10, 2009 at 9:09 PM, Ben Okopnik&lt;ben@linuxgazette.net&gt; wrote:
&gt;&gt; On Fri, Jul 10, 2009 at 02:19:53PM +0530, Amit Saha wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; My situation is like this: I am using 'wvdial' which in turns spawns
&gt;&gt;&gt; 'pppd'. Any body would know how I can pass the '--kdebug' option to
&gt;&gt;&gt; 'pppd' in this scenario ?
</pre>

<p>
I ran with 'kdebug 1' and nothing much in /var/log/kern.log:
</p>

<p>
<pre class='code'>
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.801103] usb 6-1: USB
disconnect, address 7
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.805601] option 6-1:1.0:
device disconnected
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806019] option1 ttyUSB1: GSM
modem (1-port) converter now disconnected from tty
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806432] option 6-1:1.1:
device disconnected
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806849] option1 ttyUSB2: GSM
modem (1-port) converter now disconnected from tty
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806876] option 6-1:1.2:
device disconnected
Jul 13 14:46:50 ubuntu904 kernel: [ 6462.877478] option1 ttyUSB0: GSM
modem (1-port) converter now disconnected from tty
Jul 13 14:46:52 ubuntu904 kernel: [ 6464.836135] usb 6-1: new full
speed USB device using uhci_hcd and address 8
Jul 13 14:46:58 ubuntu904 kernel: [ 6470.055130] usb 6-1:
configuration #1 chosen from 1 choice
Jul 13 14:46:58 ubuntu904 kernel: [ 6470.060566] usb-storage: probe of
6-1:1.0 failed with error -1
Jul 13 14:46:58 ubuntu904 kernel: [ 6470.749210] usb 6-1: USB
disconnect, address 8
Jul 13 14:46:58 ubuntu904 kernel: [ 6470.989275] usb 6-1: new full
speed USB device using uhci_hcd and address 9
</pre>


<p>
I don't get to see any clue.. Any ideas ?
</p>

<p>
Thanks,
Amit
</p>

<pre>-- 
Journal: <a href='http://amitksaha.wordpress.com'>http://amitksaha.wordpress.com</a>,
Micro-blog: <a href='http://twitter.com/amitsaha'>http://twitter.com/amitsaha</a>
Freenode: cornucopic in #scheme, #lisp, #math,#linux, #python
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Mon, 13 Jul 2009 11:47:06 +0200</b>
</p>

<p>
On Jul 13, 2009 at 1453 +0530, Amit Saha appeared and said:
</p>

<pre>
&gt; Hello Ben, all:
&gt; [...]
&gt; I ran with 'kdebug 1' and nothing much in /var/log/kern.log:
&gt; &lt;code&gt;
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.801103] usb 6-1: USB
&gt; disconnect, address 7
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.805601] option 6-1:1.0:
&gt; device disconnected
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806019] option1 ttyUSB1: GSM
&gt; modem (1-port) converter now disconnected from tty
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806432] option 6-1:1.1:
&gt; device disconnected
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806849] option1 ttyUSB2: GSM
&gt; modem (1-port) converter now disconnected from tty
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.806876] option 6-1:1.2:
&gt; device disconnected
&gt; Jul 13 14:46:50 ubuntu904 kernel: [ 6462.877478] option1 ttyUSB0: GSM
&gt; modem (1-port) converter now disconnected from tty
&gt; Jul 13 14:46:52 ubuntu904 kernel: [ 6464.836135] usb 6-1: new full
&gt; speed USB device using uhci_hcd and address 8
&gt; Jul 13 14:46:58 ubuntu904 kernel: [ 6470.055130] usb 6-1:
&gt; configuration #1 chosen from 1 choice
&gt; Jul 13 14:46:58 ubuntu904 kernel: [ 6470.060566] usb-storage: probe of
&gt; 6-1:1.0 failed with error -1
&gt; Jul 13 14:46:58 ubuntu904 kernel: [ 6470.749210] usb 6-1: USB
&gt; disconnect, address 8
&gt; Jul 13 14:46:58 ubuntu904 kernel: [ 6470.989275] usb 6-1: new full
&gt; speed USB device using uhci_hcd and address 9
&gt; &lt;/code&gt;
&gt; I don't get to see any clue.. Any ideas ?
</pre>

<p>
Maybe your USB device is reconnecting and changing its ID on the USB.
I have the same problem with my laptop and a T-Mobile stick. I had to
disable the USB 2.0 modules to make it stable.
</p>

<p>
Best,
Ren&eacute;.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Amit Saha [amitsaha.in at gmail.com]

</p>
</b><br />
<b>Thu, 16 Jul 2009 08:34:44 +0530</b>
</p>

<p>
On Mon, Jul 13, 2009 at 3:17 PM, Ren&eacute; Pfeiffer&lt;lynx@luchs.at&gt; wrote:
</p>

<pre>
&gt; On Jul 13, 2009 at 1453 +0530, Amit Saha appeared and said:
&gt;&gt; Hello Ben, all:
&gt;&gt; [...]
&gt;&gt; I ran with 'kdebug 1' and nothing much in /var/log/kern.log:
</pre>

<p>
Curiously enough- the number of times my connection dies (or PPPD
dies) has considerably decreased (or even not happening), since I have
started running 'pppd' in 'kdebug' mode...
</p>


<p>
-Amit
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Wed, 15 Jul 2009 23:45:33 -0500</b>
</p>

<p>
On Thu, Jul 16, 2009 at 08:34:44AM +0530, Amit Saha wrote:
</p>

<pre>
&gt; On Mon, Jul 13, 2009 at 3:17 PM, Ren&eacute; Pfeiffer&lt;lynx@luchs.at&gt; wrote:
&gt; &gt; On Jul 13, 2009 at 1453 +0530, Amit Saha appeared and said:
&gt; &gt;&gt; Hello Ben, all:
&gt; &gt;&gt; [...]
&gt; &gt;&gt; I ran with 'kdebug 1' and nothing much in /var/log/kern.log:
&gt; 
&gt; Curiously enough- the number of times my connection dies (or PPPD
&gt; dies) has considerably decreased (or even not happening), since I have
&gt; started running 'pppd' in 'kdebug' mode...
</pre>

<p>
Well, cutting steps of unknown reliability out of the equation is always
a plus. Years ago, I used to teach classes on PC repair by the
"strip-down" method: 
</p>

<p>
1) Unplug everything except the power cord, disconnect all the drives,
pull out all the boards and the memory, then fire it up and listen for
the appropriate POST beeps.
</p>

<p>
2) Turn the machine off, add one thing, turn it back on, and look for
the correct response.
</p>

<p>
3) Keep doing step 2 until everything works - or until you've discovered
the failed part.
</p>

<p>
In other words, strip it down to its "known good" state and build up
from there. That's a pretty good approach for many things and
situations.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-erratically_dying_pppd">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>