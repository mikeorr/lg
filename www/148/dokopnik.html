<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>Writing Portable Code in Linux - Three Different Approaches LG #148</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" />
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">March 2008 (#148)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="darin.html" >&lt;-- prev</A> | <A HREF="saha.html" >next --&gt;</A>
</div>

<h1>Writing Portable Code in Linux - Three Different Approaches</h1>
<p id="by"><b>By <a href="../authors/dokopnik.html">Deividson Luiz Okopnik</a></b></p>

<p>Considering the number of different platforms and Operating Systems used
today, writing code that runs only on a single system, configuration, or
platform can drastically decrease the number of people that might get to
use your program. To me, that's a waste of good coding.</p> 

<p>To avoid this problem, there are several approaches one can take. In
this article, we will be presenting three of them: Mono (with MonoDevelop),
Lazarus, and Java (with NetBeans). We will see how to do a basic "Hello
World" application in each of the methods, and how to run it on Linux and
Windows.</p> 

<h3>Mono: </h3> 
<p><em> "Mono is a software platform designed to allow developers to easily
create cross platform applications." </em> - <a
href="http://www.mono-project.com/">http://www.mono-project.com/</a> </p> 

<p>Mono is an Open Source software platform developed as an implementation
of Microsoft's .Net Framework. It provides the possibility of executing
.Net applications on platforms unsupported by Microsoft; it also gives you
the ability to develop .net-independent Mono applications that run on
every system Mono supports (Linux, Mac OS X, Windows, etc.) </p> 

<p>The main IDE for developing Mono applications is called MonoDevelop -
it's an open-source IDE, developed using the Mono platform. It is primarily
available for Linux, but can also be compiled and used on Windows and OS/X.
</p> 

<p>
<h4>Pros: </h4> 
<ul>
<li>A single executable can be used on several systems, without the 
need for recompilation
<li>Frequent updates
</ul>

<h4>Cons: </h4> 
<ul>
<li>.Net is not 100% ported; some applications might require small changes 
to work
<li>Needs Mono to be installed on the target machine
</ul>
</p>

<h4>Developing a simple Mono application with MonoDevelop: </h4>

<p>Start up MonoDevelop, and in the Welcome screen select <code>"Start a
New Project"</code>. Then, select <code>"GTK# 2.0 Project"</code>, give it
a name, select a location where the project will be saved, and click
<code>"Next"</code>. On the next screen, press <code>"OK"</code> and you
will be given an empty project with an empty form.</p>

<p>MonoDevelop interface is pretty simple - on the left of the screen you
have a list of the files in your projects, and to the right the contents 
of the selected file. If you press 'F5', your project will be compiled and 
executed - if you do that now, you will see a simple, empty form.</p>

<p>Let's try developing our 'Hello World' application. In the file
list, double-click "MainWindow.cs" - that will show your empty form 
and a list of components you can add to it. To add a component, drag it 
from the list to your form.</p>

<p>Start by adding "Fixed" from the "Container" component group - that will
allow you to add normal components, like buttons, to your form.  After
adding the Fixed Container, add a "Button" and a "Label".</p>

<p>Change the form title to "Hello World", the button text to "Hello", and
erase the label text. To do that, first select the form (by clicking on its
title), and in the properties panel (just below the components list) click
to expand the "Window Properties". Then, select the "Window Title" property
and change it to "Hello World".</p>

<p>Now do the same with the button, by changing its "Caption" property
(in the "Button Properties" group) to "Hello", and with the label, by
changing its "Caption" property to "" (just erase everything that's there).</p>

<p>Now that all the properties ready, let's create the code to make "Hello
World!!!" appear when the user clicks the button. Select the button, click
on "Signals" (just above the properties list), expand the "Button Signals"
group, and double-click on the "Clicked" signal to have the procedure
created for you, then double-click on it again to go to it. </p>

<p>You will see the following code:</p>

<pre class="code">
protected virtual void OnButton1Clicked (object sender, System.EventArgs e)
{
}</pre>

<p>Change it to the following (note that the button and the label names
might change - mine are 'label1' and 'button1', but if you added more than
one they might be called 'label2', 'button3', etc. Be sure to change it in
the code to reflect your component names):</p>

<pre class="code">
protected virtual void OnButton1Clicked (object sender, System.EventArgs e)
{
 label1.LabelProp = "Hello World!!!";
}</pre>

<p>Now, our test application is ready to run - just press 'F5' to check it
out. If you want to compile it, press 'F8' and a .exe file will be generated 
inside the 'bin/Debug' folder, where your project was saved. That .exe can be
executed on any platform Mono is installed in without any porting. To execute
it in Windows, use the following command:</p>

<pre class="code">mono "file_name_here.exe"</pre>

<h3>Lazarus: </h3> 
<p><em> "Write once, Compile everywhere." </em> - 
<a href="http://www.lazarus.freepascal.org/">http://www.lazarus.freepascal.org/</a> </p> 

<p>Lazarus is a free, Open-Source IDE for the <code>'free-pascal'</code>
compiler (also free and Open Source), that compiles Pascal and
Object-Pascal (including Delphi, in most cases) code. The IDE is currently
ported to Linux, Windows, and FreeBSD; the compiler runs in many other
OSes, including Windows CE and Mac OS/X.</p> 

<p>
<h4>Pros: </h4> 
<ul>
<li>The same code can be compiled in several different systems
<li>Works with many graphical libraries (GTK, GTK2, Win32, Carbon, etc.)
<li>Needs no external libraries to be installed on the user machine
</ul>

<h4>Cons: </h4> 
<ul>
<li>Missing a few components (MaskEdit, Panels)
</ul>
</p>

<h4>Developing a simple Lazarus application: </h4>
<p>
When you open Lazarus for the first time, you will be presented 
with an empty project containing an empty form. You can press 'F12' 
to toggle the form/code view. On the top of the interface, there's 
a list with all the currently installed components which you can 
use to design your program.</p> 

<p>Let's start our example by placing a button and a label in the form. To
do this, you can double-click the "Ok" button in the component list - that
will create a Button on your empty form. Create a Label in the same way -
the label is the little white box with an "A" inside it. You can drag the
components around on the form to change their locations, or resize
them.</p>

<p>Next, we will change some properties for the controls we are using. To
do that, click the Button inside the form to select it. When you've done
that, its properties will be shown in the Properties List window (by
default, it's on the left side of the screen). That window contains all the
properties of the currently selected control, and allows you to change
their values. Find the "Caption" property of our button and change it to
"Hello".</p>

<p>Next, do the same with the Label, and change the "Caption" property 
to empty (just delete what's in there). Finally, select the form itself 
(by clicking in an empty space in it) and change its "Caption" property 
to "Hello World".</p>

<p>Now, with all the properties configured, we can add the code to make
things work on our Form. What we will do is make "Hello World!!!" appear in
the label when the user clicks the button. To add code to our button,
double click on it - that will take you to the code window and create the
function that will be run when the user double clicks the button
- you just need to add the code for what you want it to do.</p>

<p>To do that, double-click the button on our form - that will bring you
to the form's code and will create an empty procedure called 
TForm1.Button1Click that will be called when the user clicks the button 
on your form. Change it to something like this (note that the button and 
the label names might change - mine are label1 and button1, but if you 
added more than one they might be called label2, button3, etc - change it 
on the code to reflect your component names):</p>

<pre class="code">
procedure TForm1.Button1Click(Sender: TObject);
begin
  Label1.Caption:='Hello World!!!';
end; </pre>

<p>That is all the code we need, and all it does is setting the Caption 
property of "Label1" to "Hello World!!!". You can now press F9 to execute
the program and see your form in action. To run it on other systems, 
you just need to download and install Lazarus there, open the project and
compile it - simple as that.</p>

<p>To compile your application you can use the Build option, in the Run 
menu.</p>

<p>Please note that if you are on Ubuntu and install Lazarus from the
"Add/Remove Programs" option, you will need to download the fpc-source
package (you can find it <a
href="http://packages.debian.org/unstable/fpc-source">here</a> ) and
install it manually, and then configure Lazarus ( Environment\Environment
Options, set FPC Source Directory to /usr/share/fpcsrc/ ) for it to work
properly.</p>

<h3>Java: </h3> 
<p><em>"Mature, extremely robust, and surprisingly versatile Java
technology has become invaluable in allowing developers to write software
on one platform and run it on practically any other platform.  . ."</em> -
<a
href="http://www.java.com/en/about/">http://www.java.com/en/about/</a></p>

<p>Java is the result of a combination of two different "things": The Java
Runtime Environment (JRE, containing the Java Platform and the Java Virtual
Machine) and the Java programming language.</p> 

<p>The Java language is a high-level, object oriented programming language
that needs to be compiled to what is called Java Bytecode.  The JRE is
responsible for running the compiled Java code - turning it into the
platform's native executable code - and is ported to several different
platforms.</p> 

<h4>Pros: </h4> 
<ul>
<li>The same compiled code can anywhere the Java Runtime can be installed 
<li>Easy to port to the Web.</ul> 

<h4>Cons: </h4> 
<ul>
<li>Needs the Java Runtime Environment to be installed on the clients machine 
<li>Usually not as fast as standard, compiled applications </ul>

<h4>Developing a simple Java application: </h4>

<p>To develop our Java application on Linux, we will be using an IDE called
NetBeans - a very professional IDE that's free and open-source, runs on
Linus, Windows, OSX and Solaris - and they even send you a free DVD if you
ask ( <a
href="http://www.netbeans.org/about/media.html">http://www.netbeans.org/about/media.html</a>) .
Just be sure to install the Java SDK before installing NetBeans, so it gets
detected during the installation.</p> 

<p>To start our sample application, open up NetBeans, start a new project ( File/New 
Project ), select "Java Desktop Application", give our project a name ("hello") and 
click "Finish". That will give you a new project, with a form that contains a menu and 
a status bar. </p> 

<p>You can now add a button and a label that we will be using in this project - do that
by dragging from the components list to the panel.</p> 

<p>Now let's change the button and the label text properties - to do that, first select 
the Button, find the "Text" property in the list on the right of the interface and 
change it to "Hello". Then select the Label, find the Text property, and erase 
everything that's written there.</p> 

<p>With that done, it's time to add code on our form to make it work. To do that, select 
the button, click on the "Events" button (just above the button properties), and click 
once in the "Mouse Clicked" event. That will create an empty procedure that will be
executed when the user clicks the button. To make "Hello World!!!" appear in the label
when the user clicks the button, change the empty procedure so it's like this (note that 
the button and the label names might change - mine are jLabel1 and jButton1, but if 
you added more than one they might be called jLabel2, jButton3, etc - change it on the 
code to reflect your component names): </p> 

<pre class="code">
    private void jButton1MouseClicked(java.awt.event.MouseEvent evt) {
        jLabel1.setText("Hello World!!!");
    } </pre>

<p>With that done, you can press F6 to run your application. To build the .jar file 
you can use F11, and to execute your .jar file do</p>

<pre class="code">java -jar "file_name_here.jar"</pre>

<p>That will work anywhere the JRE is installed.</p>

<h3>Conclusion</h3> 
<p>All of the presented methods have their own advantages and disadvantages, 
and it's up to you, the developer, to choose which one is the best for 
your needs, for the software you are developing, and the systems you want 
it to run on. </p> 

<p>It is also important to note that two of the three tools presented here,
MonoDevelop and Lazarus, are quite new and may be missing some useful
features, but are in constant development, being fixed and improved daily.
</p>


<script type='text/javascript'>
digg_url = 'http://linuxgazette.net/148/dokopnik.html';
digg_title = 'Writing Portable Code in Linux - Three Different Approaches';
digg_bodytext = '<p>Considering the number of different platforms and Operating Systems used today, writing code that runs only on a single system, configuration, or platform can drastically decrease the number of people that might get to use your program. To me, that\'s a waste of good coding.</p>  ';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:148/dokopnik.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/dokopnik.jpg" class="bio">
</p>

<em>
<p>
Deividson was born in Uni&atilde;o da Vit&oacute;ria, PR, Brazil, on
 14/04/1984. He became interested in computing when he was still a kid,
 and started to code when he was 12 years old. He is a graduate in
 Information Systems and is finishing his specialization in Networks and
 Web Development. He codes in several languages, including C/C++/C#, PHP,
 Visual Basic, Object Pascal and others.
</p>

<p>
Deividson works in Porto Uni&atilde;o's Town Hall as a Computer
 Technician, and specializes in Web and Desktop system development, and
 Database/Network Maintenance.
</p>



</em>

<br clear="all">


<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2008, Deividson Luiz Okopnik. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 148 of Linux Gazette, March 2008
</p>

</div>

<div id="previousnextbottom">
<A HREF="darin.html" >&lt;-- prev</A> | <A HREF="saha.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

