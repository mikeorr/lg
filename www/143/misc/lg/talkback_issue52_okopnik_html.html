<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Talkback:issue52/okopnik.html</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Talkback:issue52/okopnik.html</h3>
<p><b>[ In reference to "<a href='../../../issue52/okopnik.html'>/okopnik.html</a>" in LG#issue52 ]</b></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Thu, 2 Aug 2007 11:34:49 -0400</b>
</p>

<p>
Hi, Garrett -
</p>

<p>
[ cc'd to The Answer Gang ]
</p>

<p>
On Tue, Jul 31, 2007 at 08:37:39PM -0700, garrett.ellis@cox.net wrote:
</p>

<pre>
&gt; (Also sent to ben-fuzzybear@yahoo, but I wasn't sure that address remained valid.)
&gt; 
&gt; Mr. Okopnik,
&gt; 
&gt; An article of yours from the April 2000 Linux Gazette may have just
&gt; saved me from hours of beating my head against my desk. Granted, I'd
&gt; already spent about 12 hours beating my head against my desk, so
&gt; further damage (if possible) has been averted.
</pre>

<p>
Heh. I've left the imprint of my forehead on at least a few brick walls,
so - yes, that sounds like a positive effect.
</p>


<pre>
&gt; See, I was doing some basic security changes on several hundred
&gt; systems. My Expect powers are not yet strong enough to automate this
&gt; task, but that's an aside. I've spent the last several days running
&gt; find commands with various -exec, and as it turns out, I managed to
&gt; annhiliate a RHEL4 Selinux system with the following:
&gt; 
&gt; find / -user root -perm -o+w -exec chmod 0600 '{}' \;
&gt; # I forgot "-type f" eek!
</pre>

<p>
('-type f' wouldn't have helped much, I'm afraid. It would have stopped
you from messing up, say, the entries in '/dev' - but that's about it.)
</p>

<p>
Ouch! You've "discovered" (and I use that in the most sympathetic way
possible) the power of the 'find' command. It's very similar to a
Milwaukee "Hole Hawg" drill: it <strong>will</strong> drill any hole you want it to -
whether it's through concrete, steel, or your leg...
</p>

<p>
(See this love paean to a Super Hawg:
<a href="http://www99.epinions.com/content_246549155460">http://www99.epinions.com/content_246549155460</a>)
</p>

<p>
Unix tools are kinda like that. Huge amounts of power - and the safety
is assumed to come from experience and forethought. Experience, however,
is what you get when you didn't have enough experience and forethought!
</p>


<pre>
&gt; For hours afterwards, nothing would execute even when I restored
&gt; execute permissions (on binaries only) from a Rescue CD. Your article
&gt; pointed out the need for +x on some (if not all) shared libs, and that
&gt; allowed me to rescue the machine.
&gt; 
&gt; Thank you. Thank you. I owe you one, two, or ten beers.
</pre>

<p>
[smile] Thanks, Garrett. I probably shouldn't say this - it's likely to
lose me a beer or two - but if I was in your place, I'd actually
reinstall the system from scratch; at the very least, I'd run a
comparison of everything in '{,/usr}{/bin,/sbin,/lib}/' against a
"normal" system. Given that you now have an uncertain set of
permissions, all sorts of security vulnerabilities and possible future
problems seem likely. The fact that your system works now gives you some
breathing room time-wise - but I wouldn't call it a closed case.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_issue52_okopnik_html">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Mon, 6 Aug 2007 18:57:07 -0400</b>
</p>

<p>
On Sat, Aug 04, 2007 at 07:10:26PM -0700, garrett.ellis@cox.net wrote:
</p>

<pre>
&gt; 
&gt; ---- Ben Okopnik &lt;ben@linuxgazette.net&gt; wrote: 
&gt; &gt; 
&gt; &gt; [smile] Thanks, Garrett. I probably shouldn't say this - it's likely to
&gt; &gt; lose me a beer or two - but if I was in your place, I'd actually
&gt; &gt; reinstall the system from scratch; at the very least, I'd run a
&gt; &gt; comparison of everything in '{,/usr}{/bin,/sbin,/lib}/' against a
&gt; &gt; "normal" system. Given that you now have an uncertain set of
&gt; &gt; permissions, all sorts of security vulnerabilities and possible future
&gt; &gt; problems seem likely. The fact that your system works now gives you some
&gt; &gt; breathing room time-wise - but I wouldn't call it a closed case.
&gt; 
&gt; You'll probably be very amused by this, then. Before seeing your
&gt; reply, I arrived at the same conclusion. I manged to get the box
&gt; booting again, and all necessary services were starting. Since the box
&gt; needs to go into production, however, I suggested that the build team
&gt; perform a restore on the host. They did this, but they unfortunately
&gt; chose to restore over /lib while the machine was running, this
&gt; reducing libc to a 1 byte file and "paperweighting" the host once
&gt; again. It has since been rebuilt from scratch. Oh the joys of this
&gt; work, but I do enjoy learning new things.
</pre>

<p>
Well... that's where experience comes from, ultimately. <img src="../gx/smile.png" alt=":)"> I've had a
large number of this kind of episodes in the past - which is why I know
enough to talk about them now. Welcome to the club.
 
</p>

<pre>
&gt; Cheers, and no beers were lost by your suggestion. ;)
</pre>

<p>
These days, I seem to be doing a tour of the East Coast - Atlanta last
week, Boston this week (hell of a drive, that was!), and New York in two
weeks, with a break at home (northern Florida) in between. If you're
anywhere along that route, I'll be happy to share some beers with you -
I'll even buy a round or two myself. <img src="../gx/smile.png" alt=":)">
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_issue52_okopnik_html">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>