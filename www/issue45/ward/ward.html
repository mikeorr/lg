<!--startcut ==========================================================-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<title>Sharing a Linux server under X in the classroom LG #45</title>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!--endcut ============================================================-->

<H4>
"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>

<P> <HR> <P> 
<!--===================================================================-->

<center>
<H1><font color="maroon">Sharing a Linux server under X in the classroom</font></H1>
<H4>By <a href="mailto:award@mypic.ad">Alan Ward</a></H4>
</center>
<P> <HR> <P>  


<H3>The current situation:</H3>

<P> I manage a high school computer lab of 14 Pentiums under Windows 98. These
are used for basic instruction in Windows, Works, Office and the basics of
programming.

<P> This term, I would like to introduce the older students (17 - 18 year-olds)
to Unix, specifically Linux. Besides normal user tasks, I would like them to do
a bit of programming, especially with X: drawing sine curves and the like. I
would also like them to use Unix math programs such as gnuplot and octave.

<P> However, I need to keep the Pentiums as they are, under Windows. This is
for the younger students (16 - 17 year-olds) and staff, who are not--and will
not be in the foreseeable future--Linux literate.<P>

<CENTER>
<img src="art0.jpg"><BR>
<I>Lasciate ogne speranze, voi qu'intrate ...</I></CENTER>


<P> Everything is connected together via Ethernet.

<P> The extra hardware I have been able to squirrel out of various people
consisted of a 486 DX 2 (our server !!), several rather elderly 386 and 486s,
and the future prospect of a Pentium of indeterminate speed. None of these
has more than 16 Mbytes of RAM.

<P> <I>Personal comment: some people in the administration are not yet
confortable with the idea of a free system - it goes against years of
"tradition". That may be the worst Linux has to face!</I>

<HR>

<H3>My approach</H3>

<P> I undertook this from two different directions:
<UL>
	<LI>Configure those 386 and 486 boxes still worth it as X terminals
		under Linux.  
	<LI>Get an X server for the Pentium boxes under Windows.  I couldn't
	make these dual boot because of a lack of hard drive space and, quite
	frankly, because repartitioning would have been too much work!
</UL>

 
<H3>Configuring the 386 and 486s as X terminals.</H3>

<P> Although all these boxes are different, our "best" configuration
is more or less as follows: 
<UL>
	<LI>486 DX 33MHz processor
	<LI>4 Mbytes RAM
	<LI>40 Mbytes disk
	<LI>1 Mbyte VGA
	<LI>14" color or B/W (!!! Bank surplus) screen
</UL>

<P> In all, a typical 1985 MS-DOS configuration.  This meant we had to get
things rather tight for it to work for us.

<CENTER>
<img src="art1.jpg"><BR>
<I>Building a working 386 out of spare parts</I></CENTER>
<P>


<P> To save space, I installed an old 1.2.13 kernel. This has the double
advantage of taking up less hard disk space and memory, and also booting
rathing quickly (no modules).

<P> It came from a Slackware distribution, of which I installed only the A and
X series. I rather like slack for this kind of project, as you have much
control over exactly what is installed. It is also the only distribution that
can be installed by diskette if you can't get nfs to work!

<P> The hard disk partitioning was: 34 M as Linux native, 6 M as Linux swap. I
formatted hda1 with 1024 byte inodes, which may have been a mistake. df reports
HD use as 28K inodes out of 31K, and <B>98%</B> of our 34 Mbytes <I>(ouch!
gasp!).</I>

<P> As for memory, normal use amounts to about 7 Mbytes (3.5 M hard + 3.5 M
swap).

<P> A normal student session on one of these clients consists of the following, most of which is scripted:

<TABLE>
<TR><TD>startx<TD><I>in .login: NOTE tcsh shell, not bash</I></TR>
<TR><TD>xterm<TD><I>in xinit</I></TR>
<TR><TD>xhost "server IP"<TD><I>allow server to use local screen</I></TR>
<TR><TD>rsh "server IP"<TD><I>login on server</I></TR>
<TR><TD>xterm -display "client IP":0.0<TD><I>get a server terminal on our client window, screen 0.0</I></TR>
<TR><TD>exit<TD><I>from server remote shell</I></TR>
<TR><TD>...<TD><I>continue on client<I></TR>
</TABLE><P>


<H3>X server on the Pentiums under Windows</H3>

<P> The X server I used was MIXServer 5.6 from
<A HREF="http://www.microimages.com"> Microimages</A>. This is a rather
standard X server for Windows 9X, with a twm type window manager built-in. I
got it on the S.U.S.E. 5.1 distribution CD.

<P> It works quite nicely in 640x480x8 to 800x600x24 resolutions.  (I haven't
tested it any further.) Most line art and characters come out well, but there
can be some problems with bitmaps. My final tests were kmahjongg and
netscape.

<CENTER>
<img src="art2.jpg"><BR>
<I>The X screen as seen under Windows</I></CENTER>
<P>

<P> A typical student session is as follows:

<TABLE>
<TR><TD>start MIX</TR>
<TR><TD>telnet the server<TD><I>with standard c:\windows\telnet.exe</I></TR>
<TR><TD>xterm -display "client IP":0.0<TD><I>don't forget the 0.0 screen!</I></TR>
<TR><TD>logout from telnet</TR>
<TR><TD>... <TD><I>continue on client</I></TR>
</TABLE>

As you see, no xhost is necessary, since MIX accepts all X requests without
blinking.

<HR>

<P> I hope to publish some results obtained with the kids during the 1999-2000
term on our 
<A HREF="http://www.andorra.ad/escola_andorrana/batxillerat">web site</A>
(Sorry, it's still only in Catalan. But many pretty pictures, for what that's
worth).  

<BLOCKQUOTE><EM>
	[Especially 
<A HREF=http://www.andorra.ad/escola_andorrana/batxillerat/catala/index.htm>
	these pictures</A>. --Ed.]
</EM></BLOCKQUOTE>

<P> Meanwhile, I would welcome both comments and constructive criticism :-)

<P> The author:
<A HREF="mailto:award@mypic.ad">Alan Ward</A><BR>
CS Department<BR>
Escola Andorrana (Batxillerat)<BR>
Principality of Andorra<BR>
Phone 327.185


<!--===================================================================-->
<P> <hr> <P> 
<center><H5>Copyright &copy; 1999, Alan Ward <BR> 
Published in Issue 45 of <i>Linux Gazette</i>, September 1999</H5></center>

<!--===================================================================-->
<!--startcut ==========================================================-->
<P> <hr> <P> 
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../../gx/indexnew.gif" 
ALT="[ TABLE OF CONTENTS ]"></A>
<A HREF="../../index.html"><IMG ALIGN=BOTTOM SRC="../../gx/homenew.gif"
ALT="[ FRONT PAGE ]"></A>
<A HREF="../twining.html"><IMG SRC="../../gx/back2.gif"
ALT=" Back "></A>
<A HREF="../lg_backpage45.html"><IMG SRC="../../gx/fwd.gif" ALT=" Next "></A>
<P> <hr> <P> 
</BODY>
</HTML>
<!--endcut ============================================================-->
