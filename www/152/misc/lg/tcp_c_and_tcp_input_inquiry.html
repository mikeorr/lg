<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>tcp.c and tcp_input inquiry</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>tcp.c and tcp_input inquiry</h3>
<p>
<b><p>

</p>
</b><br />
<b>Fri, 30 May 2008 12:13:58 +0930</b>
</p>

<p>
Hi guys,
</p>

<p>
Good day!
</p>

<p>
I am currently doing my phd in telecommunications  working on tcp. I
found the document tcp_input.c  and tc.c source code document at a
website  but browsing through my kernel, I cannot find the source codes
mentioned.  Thus, this inquiry.
</p>

<p>
It would be appreciated if you can kindly help me on my questions since
I am new to tcp.
</p>

<p>
1.      I am using fedora core6 linux and I cannot find the file
tcp_input.c  and tcp.c in the kernel. Where can I find this code in the
kernel  since I need to do some modification on the tcp header as part
of my thesis?
</p>

<p>
2.      What are the steps  in inserting an estimated value into a
kernel variable?
</p>

<p>
I have already visited the linux kernel faq and I cannot find the answer
to my questions ( or maybe I need to browse more<img src="../gx/frown.png" alt=":-(">). I hope you can
shed light on the above queries. Thank you very much in advance.
</p>

<p>
Cheers,
</p>

<p>
Dom Ignacio
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]

</p>
</b><br />
<b>Fri, 30 May 2008 09:51:44 +0700</b>
</p>

<p>
Hello...
</p>


<p>
On Fri, May 30, 2008 at 9:43 AM, Ignacio, Domingo Jr Ostria - igndo001
&lt;DomingoJr.Ignacio@postgrads.unisa.edu.au&gt; wrote:
</p>

<pre>
&gt; Hi guys,
&gt;
&gt; Good day!
&gt;
&gt; I am currently doing my  phd in telecommunications  working on tcp. I found
&gt; the document tcp_input.c  and tc.c source code document at a website  but
&gt; browsing through my kernel, I cannot find the source codes mentioned.  Thus,
&gt; this inquiry.
&gt;
&gt; It would be appreciated if you can kindly help me on my questions since I am
&gt; new to tcp.
&gt;
&gt; 1.      I am using fedora core6 linux and I cannot find the file
&gt; tcp_input.c  and tcp.c in the kernel. Where can I find this code in the
&gt; kernel  since I need to do some modification on the tcp header as part of my
&gt; thesis?
</pre>

<p>
IIRC, check net/ipv4 directory inside Linux kernel source tree. Most
likely, you need to check sk_buff structure. To speed up the search,
use cscope or utilize online tool such as lxr.linux.no
</p>


<pre>
&gt; 2.      What are the steps  in inserting an estimated value into a kernel
&gt; variable?
</pre>

<p>
I don't get it..... can you elaborate?
</p>


<p>
regards,
</p>

<p>
Mulyadi.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Fri, 30 May 2008 00:17:48 -0400</b>
</p>

<p>
On Fri, May 30, 2008 at 12:13:58PM +0930, Ignacio, Domingo Jr Ostria - igndo001 wrote:
</p>

<pre>
&gt;    Hi guys,
&gt; 
&gt;    Good day!
&gt; 
&gt;    I am currently doing my  phd in telecommunications  working on tcp. I
&gt;    found the document tcp_input.c  and tc.c source code document at a
&gt;    website  but browsing through my kernel, I cannot find the source codes
&gt;    mentioned.  Thus, this inquiry.
&gt; 
&gt;    It would be appreciated if you can kindly help me on my questions since I
&gt;    am new to tcp.
&gt; 
&gt;    1.      I am using fedora core6 linux and I cannot find the file
&gt;    tcp_input.c  and tcp.c in the kernel. Where can I find this code in the
&gt;    kernel  since I need to do some modification on the tcp header as part of
&gt;    my thesis?
</pre>

<p>
Oh, good - an easy one. <img src="../gx/smile.png" alt=":)">
</p>

<p>
<pre class='code'>
ben@Tyr:~$ find /usr/src/linux-2.6.20 -name 'tcp.c' -o -name 'tcp_input.c'
/usr/src/linux-2.6.20/fs/ocfs2/cluster/tcp.c
/usr/src/linux-2.6.20/net/ipv4/tcp.c
/usr/src/linux-2.6.20/net/ipv4/tcp_input.c
</pre>

<pre>
&gt;    2.      What are the steps  in inserting an estimated value into a kernel
&gt;    variable?
</pre>

<p>
[blink] That sounds like getting sent to get a gasket stretcher or a
hundred yards of flight line. An <em>estimated</em> value? Either somebody is
playing with your mind, or you've misunderstood your assignment.
 
</p>

<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Piyush_Mundra [Piyush_Mundra at satyam.com]

</p>
</b><br />
<b>Fri, 30 May 2008 11:59:50 +0530</b>
</p>

<p>
Hi,
</p>

<p>
It might be that your FC6 is not having the kernel source code in the
/usr/src directory. If possible do one thing:
</p>

<p>
Download any tar of latest kernel 2.6 and build it. Then u will be able
to find the files in the /usr/src/ &lt;kernel-number&gt; directory.
</p>

<p>
To build a kernel from scratch there are lots of sites out there which
will help u out.
</p>

<p>
Happy kernel building.
</p>


<p>
Cheers,
</p>

<p>
Piyush
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Fri, 30 May 2008 08:34:29 -0400</b>
</p>

<p>
[ eliding querent ]
</p>

<p>
On Fri, May 30, 2008 at 11:59:50AM +0530, Piyush_Mundra wrote:
</p>

<pre>
&gt;    Hi,
&gt; 
&gt;    It might be that your FC6 is not having the kernel source code in the
&gt;    /us                r/src directory. If possible do one thing:
&gt; 
&gt;    Download any tar of latest kernel 2.6 and build it. Then u will be able to
&gt;    find the files in the /usr/src/ &lt;kernel-number&gt; directory.
&gt; 
&gt;    To build a kernel from scratch there are lots of sites out there which
&gt;    will help u out.
&gt; 
&gt;    Happy kernel building.
</pre>
 
Hi, Piyush -
</p>

<p>
Welcome to TAG and thanks for trying to help out; I appreciate that. The
list policy violations, on the other hand, not so much.
</p>

<p>
1) You clearly have not read The Answer Gang FAQ <strong>or</strong> "Asking Questions
of The Answer Gang" - strike one, a big one. It's considered rude,
netiquette-wise, to just jump into a group without understanding its
culture and policies.
</p>

<p>
<a href="../../../faq/ask-the-gang.html">http://linuxgazette.net/faq/ask-the-gang.html</a>
<a href="../../../faq/members-faq.html">http://linuxgazette.net/faq/members-faq.html</a>
</p>

<p>
2) Top-posting is considered rude pretty much everywhere.
</p>

<p>
3) Sending HTML mail instead of plain text - you're just stacking them
up, aren't you? This is inconsiderate of other people's bandwidth, as
well as requiring our Mailbag Editor to mess about deleting the
unnecessary extra copy of your mail. Turn that off, please.
</p>

<p>
4) I don't know who this "u" is that you keep talking to, but I'd
appreciate it if you'd leave him out of TAG. The second person informal
pronoun - the standard English construction used in these cases - is
"you"; please use it if that's what you mean. A reasonable amount of
attention paid to spelling and grammar is also considered polite in
communicating with other people.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Fri, 30 May 2008 08:42:53 -0400</b>
</p>

<p>
On Fri, May 30, 2008 at 11:59:50AM +0530, Piyush_Mundra wrote:
</p>

<pre>
&gt;    Hi,
&gt; 
&gt;    It might be that your FC6 is not having the kernel source code in the
&gt;    /us                r/src directory. If possible do one thing:
</pre>
 
As far as I'm aware, <em>no</em> Linux distro contains a 
<pre>"/us                r/src"</pre>directory. They generally do have a "/usr/src" directory, though.
 
</p>

<pre>
&gt;    Download any tar of latest kernel 2.6 and build it. Then u will be able to
&gt;    find the files in the /usr/src/ &lt;kernel-number&gt; directory.
</pre>
 
It is not necessary to build anything - the ".c" files are the source
code, not the compiled programs.
</p>


<pre>
&gt;   To build a kernel from scratch there are lots of sites out there which
&gt;   will help u out.
&gt;
&gt;   Happy kernel building.
</pre>

<p>
None of which, unfortunately, is related to the question that was asked.
</p>


<p>
I've also just noticed that Piyush's post was not CCd to the original
querent, so I'm re-adding him to the list.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Mon, 2 Jun 2008 18:30:04 -0400</b>
</p>

<p>
----- Forwarded message from "Ignacio, Domingo Jr Ostria - igndo001" &lt;DomingoJr.Ignacio@postgrads.unisa.edu.au&gt; -----
</p>

<pre>
Subject: RE: [TAG] tcp.c and tcp_input inquiry
Date: Mon, 2 Jun 2008 12:52:53 +0930
From: "Ignacio, Domingo Jr Ostria - igndo001" &lt;DomingoJr.Ignacio@postgrads.unisa.edu.au&gt;
To: Ben Okopnik &lt;ben@linuxgazette.net&gt;
</pre>
Hi Ben,
</p>

<p>
Thank you for the reply. 
</p>

<p>
I used  2.6.18-1.2798.fc6-i586 and going into the path file:
/usr/src/kernels/2.6.18-1.2798.fc6-i586/include/linux, I can only find
the header file tcp.h and there is no tcp.c or any source codes
available. I just wonder whether I have to rebuild the kernel again or
grab the latest fedora core release to get the source codes. The tcp.c
and the tcp_input files must be somewhere hidden in the kernel but I
cannot just find it. Would appreciate your help guys and thank you in
advance... cheers, dom
</p>

<p>
----- End forwarded message -----
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Tue, 3 Jun 2008 01:41:00 +0200</b>
</p>

<p>
On Jun 02, 2008 at 1830 -0400, Ben Okopnik appeared and said:
</p>

<pre>
&gt; ----- Forwarded message from "Ignacio, Domingo Jr Ostria - igndo001" &lt;DomingoJr.Ignacio@postgrads.unisa.edu.au&gt; -----
&gt;
&gt; Subject: RE: [TAG] tcp.c and tcp_input inquiry
&gt; Date: Mon, 2 Jun 2008 12:52:53 +0930
&gt; From: "Ignacio, Domingo Jr Ostria - igndo001" &lt;DomingoJr.Ignacio@postgrads.unisa.edu.au&gt;
&gt; To: Ben Okopnik &lt;ben@linuxgazette.net&gt;
&gt;
&gt; Hi Ben,
&gt; Thank you for the reply.
&gt; I used  2.6.18-1.2798.fc6-i586 and going into the path file:
&gt; /usr/src/kernels/2.6.18-1.2798.fc6-i586/include/linux, I can only find
&gt; the header file tcp.h and there is no tcp.c or any source codes
&gt; available. I just wonder whether I have to rebuild the kernel again or
&gt; grab the latest fedora core release to get the source codes. The tcp.c
&gt; and the tcp_input files must be somewhere hidden in the kernel but I
&gt; cannot just find it. Would appreciate your help guys and thank you in
&gt; advance... cheers, dom
</pre>

<p>
Try the following:
<pre class='code'>
cd /usr/src/kernels/2.6.18-1.2798.fc6-i586
find . -type f -name tcp.h
find . -type f -name tcp.c
</pre>

<p>
On my system it produces the following (albeit with a different kernel
version):
<pre>
lynx@nightfall:/lib/modules/2.6.24.4/build$ find . -type f -name tcp.h
./fs/ocfs2/cluster/tcp.h
./include/config/nfsd/tcp.h
./include/config/iscsi/tcp.h
./include/linux/tcp.h
./include/net/tcp.h
lynx@nightfall:/lib/modules/2.6.24.4/build$ find . -type f -name tcp.c
./fs/ocfs2/cluster/tcp.c
./net/ipv4/tcp.c
lynx@nightfall:/lib/modules/2.6.24.4/build$
</pre>

<p>
The command "cd /lib/modules/`uname -r`/build" will often take you to
the source tree for your running kernel version (mind the `, they are
important).
</p>

<p>
If this doesn't provide a similar output the chances are that you still
don't have the kernel source. You can always use the source from
www.kernel.org and compile it.
</p>

<p>
Cheers,
Ren&eacute;.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Deividson Okopnik [deivid.okop at gmail.com]

</p>
</b><br />
<b>Mon, 2 Jun 2008 21:36:36 -0300</b>
</p>

<p>
Just something important for this thread:
</p>


<pre>
&gt;&gt; I just wonder whether I have to rebuild the kernel again or
&gt;&gt; grab the latest fedora core release to get the source codes.
</pre>

<p>
I see a little misunderstanding there
</p>

<p>
You do NOT need to compile your kernel to see the source. If the .c
file you are looking for is not there, it means you dont have the
kernel source (thus cant build/compile it).
</p>

<p>
As Ren&eacute; said - www.kernel.org is a good start to download it.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>

</p>
</b><br />
<b>Tue, 3 Jun 2008 14:14:15 +0930</b>
</p>

<p>
Hi guys,
</p>

<p>
 Thank you very much for the help. I finally found the codes after
getting the source from www.kernel.org and building it. It was a great
help. One more question guys, is there a tcp option part in the code (
tcp.c or tcp_input.c) where I can modify and/or insert a new variable
like congestion window or rtt? Any help would be appreciated.
</p>

<p>
Cheers, dom
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Tue, 3 Jun 2008 12:06:24 +0200</b>
</p>

<p>
ed and said:
</p>

<pre>
&gt; Hi guys,
&gt;  Thank you very much for the help. I finally found the codes after
&gt;  getting the source from www.kernel.org and building it.
</pre>

<p>
Great. <img src="../gx/smile.png" alt=":)">
</p>


<pre>
&gt; [...] One more question guys, is there a tcp option part in the
&gt;  code ( tcp.c or tcp_input.c) where I can modify and/or insert a new
&gt;  variable like congestion window or rtt? Any help would be
&gt;  appreciated.
</pre>

<p>
The recent kernels starting with 2.6.13 allow TCP congestion algorithms
added as a module. <a href="http://acs.lbl.gov/TCP-tuning/linux-2.6.13-tcp.txt">http://acs.lbl.gov/TCP-tuning/linux-2.6.13-tcp.txt</a>
has some short information about that. At the end of my article in LG
#135 (<a href="http://www.luchs.at/linuxgazette/135/pfeiffer.html">http://www.luchs.at/linuxgazette/135/pfeiffer.html</a> links to a
mirror, I can't reach the main site right now) you can find links to
implementations of congestion algorithms. The code of most modules isn't
too big and you might use one of the implementations to see how it
works.
</p>

<p>
Cheers,
Ren&eacute;.
</p>

<pre>-- 
  )\._.,--....,'``.  fL  Let GNU/Linux work for you while you take a nap.
 /,   _.. \   _\  (`._ ,. R. Pfeiffer &lt;lynx at luchs.at&gt; + <a href="http://web.luchs.at/">http://web.luchs.at/</a>
`._.-(,_..'--(,_..'`-.;.'  - System administration + Consulting + Teaching -
Got mail delivery problems? <a href="http://web.luchs.at/information/blockedmail.php">http://web.luchs.at/information/blockedmail.php</a>
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-tcp_c_and_tcp_input_inquiry">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>