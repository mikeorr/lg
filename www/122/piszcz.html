
<html>
<head>
<link href="../lg.css" rel="stylesheet" type="text/css" media="screen, projection"  />
<link rel="shortcut icon" href="../favicon.ico" />
<title>Benchmarking Filesystems Part II LG #122</title>

<style type="text/css" media="screen, projection">
<!--

-->
</style>

<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" />

</head>

<body>


<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
<p id="fun">...making Linux just a little more fun!</p>


<div class="content articlecontent">

<div id="previousnexttop">
<A HREF="howell.html" >&lt;-- prev</A> | <A HREF="smith.html" >next --&gt;</A>
</div>



<h1>Benchmarking Filesystems Part II</h1>
<p id="by"><b>By <A HREF="../authors/piszcz.html">Justin Piszcz</A></b></p>

<p>
<h2>Introduction</h2>

<p>After the last article was published, I have received more than
a dozen requests for a second filesystem benchmark using the 2.6
kernel. Since that time, I have converted entirely to XFS for every
Linux machine I use, so I may be a bit bias regarding the XFS
filesystem. I tried to keep the hardware roughly the same. Instead
of a Western Digital 250GB and Promise ATA/100 controller, I am now
am using a Seagate 400GB and Maxtor ATA/133 Promise controller. The
physical machine remains the same, there is an additional 664MB of
swap and I am now running Debian Etch. In the previous article, I
was running Slackware 9.1 with custom compiled filesystem
utilities. I've added a small section in the beginning that shows
the filesystem creation and mount time, I've also added a graph
showing these new benchmarks. After the first round of benchmarks,
I received a sleuth of e-mails asking for the raw numbers. The
numbers are now included in tables at the end of this e-mail for
both the last and current set of benchmarks.</p>

<h3>What's new?</h3>

<p>1) Unify the graphs so all but one are the same type.<br>
2) Run tests with a recent distribution and the 2.6.14.4
kernel.<br>
3) Included the ReiserFS Version 4 benchmarks.<br>
4) Included the raw data in matrix form at the bottom of this
page.<br>
5) Included three additional graphs:<br>
&nbsp;&nbsp;&nbsp;a) Creation time to make the actual
filesystem.<br>
&nbsp;&nbsp;&nbsp;b) Time it takes to mount the filesystem.<br>
&nbsp;&nbsp;&nbsp;c) The amount of space available after formatting
with the default options.</p>

<h2>Specifications</h2>

<h3>Hardware</h3>

<pre class="code">
    COMPUTER: Dell Optiplex GX1
         CPU: Pentium III 500MHZ
         RAM:  768MB
        SWAP: 2200MB
  CONTROLLER: Maxtor Promise ATA/133 TX2 - IN PCI SLOT #1 
 DRIVES USED: 1] Seagate 400GB ATA/100 8MB CACHE 7200RPM
              2] Maxtor 61.4GB ATA/66 2MB CACHE 5400RPM
DRIVE TESTED: The Seagate 400GB.
</pre>

<h3>Software</h3>

<pre class="code">
 LIBC VERSION: 2.3.5
       KERNEL: linux-2.6.14.4
COMPILER USED: gcc-4.0.3
         EXT2: e2fsprogs-1.38/sbin/mkfs.EXT2
         EXT3: e2fsprogs-1.38/sbin/mkfs.EXT3
          JFS: jfsutils-1.1.8/sbin/mkfs.jfs 
   REISERFSv3: reiserfsprogs-3.6.19/sbin/mkreiserfs
   REISERFSv4: reiser4progs-1.0.5/sbin/
               (Used patch reiser4-for-2.6.14-1.patch w/ libaal-1.0.5 + reiser4progs-1.0.5)
          XFS: xfsprogs-2.6.36/sbin/mkfs.xfs
</pre>

<h3>Tests Performed</h3>

<pre class="code">
001] Create 10,000 files with touch in a directory.
002] Run 'find' on that directory.
003] Remove the directory.
004] Create 10,000 directories with mkdir in a directory.
005] Run 'find' on that directory.
006] Remove the directory containing the 10,000 directories.
007] Copy kernel tarball from other disk to test disk.
008] Copy kernel tarball from test disk to other disk.
009] Untar kernel tarball on the same disk.
010] Tar kernel tarball on the same disk.
011] Remove kernel source tree.
012] Copy kernel tarball 10 times.
013] Create 1GB file from /dev/zero.
014] Copy the 1GB file on the same disk.
015] Split a 10MB file into 1000/1024/2048/4096/8192 byte pieces.
016] Copy kernel source tree on the same disk.
017] Cat a 1GB file to /dev/null.

NOTE1: Between each test run, a 'sync' and 10 second sleep   
       were performed.
NOTE2: Each file system was tested on a cleanly made file
       System.
NOTE3: All file systems were created using default options.
NOTE4: All tests were performed with the cron daemon killed   
       and with 1 user logged in.
NOTE5: All tests were run 3 times and the average was taken,  
       if any tests were questionable, they were re-run and 
       checked with the previous average for consistency.
</pre>

<h3>Creating the Filesystems</h3>

<h4>EXT2</h4>

<pre class="code">
p500:~# mkfs.EXT2 /dev/hde1
mke2fs 1.38 (30-Jun-2005)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
48840704 inodes, 97677200 blocks
4883860 blocks (5.00%) reserved for the super user
First data block=0
2981 block groups
32768 blocks per group, 32768 fragments per group
16384 inodes per group
Superblock backups stored on blocks: 
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 
        4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968

Writing inode tables: done                            
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 34 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
p500:~#
</pre>

<h4>EXT3</h4>

<pre class="code">
p500:~# mkfs.EXT3 /dev/hde1
mke2fs 1.38 (30-Jun-2005)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
48840704 inodes, 97677200 blocks
4883860 blocks (5.00%) reserved for the super user
First data block=0
2981 block groups
32768 blocks per group, 32768 fragments per group
16384 inodes per group
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
        4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968

Writing inode tables: done
Creating journal (32768 blocks): done
Writing superblocks and filesystem accounting information: done

This filesystem will be automatically checked every 34 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
p500:~#
</pre>

<h4>JFS</h4>

<pre class="code">
p500:~# mkfs.jfs -q /dev/hde1
mkfs.jfs version 1.1.8, 03-May-2005
   \

Format completed successfully.

390708801 kilobytes total disk space.
0.03user 1.01system 0:02.62elapsed 40%CPU (0avgtext+0avgdata 0maxresident)k
0inputs+0outputs (0major+224minor)pagefaults 0swaps
p500:~#
</pre>

<h4>REISERFS V3</h4>

<pre class="code">
p500:~# mkreiserfs -q /dev/hde1
mkreiserfs 3.6.19 (2003 www.namesys.com)

A pair of credits:
Continuing core development of ReiserFS is  mostly paid for by Hans Reiser from
money made selling licenses  in addition to the GPL to companies who don't want
it known that they use ReiserFS  as a foundation for their proprietary product.
And my lawyer asked 'People pay you money for this?'. Yup. Life is good. If you
buy ReiserFS, you can focus on your value add rather than reinventing an entire
FS.

Chris Mason wrote the journaling code for V3,  which was enormously more useful
to users than just waiting until  we could create a wandering log filesystem as
Hans would have unwisely done without him.
Jeff Mahoney optimized the bitmap  scanning code for V3,  and performed the big
endian cleanups. 
p500:~# 
</pre>

<h4>REISERFS V4</h4>

<pre class="code">
p500:~# mkfs.reiser4 -y /dev/hde1
p500:~# 
</pre>

<h4>XFS</h4>

<pre class="code">
p500:~# mkfs.xfs -f /dev/hde1
meta-data=/dev/hde1              isize=256    agcount=16, agsize=6104825 blks
         =                       sectsz=512  
data     =                       bsize=4096   blocks=97677200, imaxpct=25
         =                       sunit=0      swidth=0 blks, unwritten=1
naming   =version 2              bsize=4096  
log      =internal log           bsize=4096   blocks=32768, version=1
         =                       sectsz=512   sunit=0 blks
realtime =none                   extsz=65536  blocks=0, rtextents=0
p500:~# 
</pre>

<h3>Benchmark Set 1 of 4</h3>

<p><img src="misc/piszcz/group001/image001.png"><br clear="all">
Both extended filesystem revisions take a backseat to their
counterparts.</p>

<p><img src="misc/piszcz/group001/image002.png"><br clear="all">
ReiserFS takes a VERY long time to mount the filesystem. I included
this test because I found it actually takes minutes to hours
mounting a ReiserFS filesystem on a large RAID volume.</p>

<p><img src="misc/piszcz/group001/image003.png"><br clear="all">
People always complain about how hard drive manufacturers equate
1000 kilobytes as a megabyte, well the filesystem is also part of
the problem!</p>

<h3>Benchmark Set 2 of 4</h3>

<p><img src="misc/piszcz/group002/image001.png"><br clear="all">
In the first test, ReiserFSv3 continues to lead the pack, with
ReiserFSv4 and JFS not far behind.</p>

<p><img src="misc/piszcz/group002/image002.png"><br clear="all">
ReiserFSv4 is now the slowest filesystem to search for files,
previously, it had been XFS.</p>

<p><img src="misc/piszcz/group002/image003.png"><br clear="all">
XFS is no longer the slowest filesystem for removing many files.
However, EXT2 and EXT3 still win by far.</p>

<p><img src="misc/piszcz/group002/image004.png"><br clear="all">
Similar to the first test, EXT2 and EXT3 lag behind the other
journaling filesystems.</p>

<p><img src="misc/piszcz/group002/image005.png"><br clear="all">
Contrary to the first set of benchmarks I ran, it appears XFS has
slightly improved, ReiserFSv4 is now the slowest with ReiserFSv3
behind it. Also in the previous test, EXT3 had suffered a huge
performance hit in this area, it is now comparable to EXT2.</p>

<p><img src="misc/piszcz/group002/image006.png"><br clear="all">
It appears ReiserFS v3 and v4 have some serious issues deleting
large numbers of directories.</p>

<p><img src="misc/piszcz/group002/image007.png"><br clear="all">
In the first benchmark test, EXT2 won the test, now XFS is the new
leader.</p>

<p><img src="misc/piszcz/group002/image008.png"><br clear="all">
This benchmark represents how fast the tar ball can be read from
each file system. Surprisingly, XFS now exceeds EXT3.</p>

<p><img src="misc/piszcz/group002/image009.png"><br clear="all">
ReiserFSv3 won the last benchmarking round; however, EXT2 and EXT3
now dominate this test.</p>

<p><img src="misc/piszcz/group002/image010.png"><br clear="all">
The best journaling file system here used to be ReiserFSv3;
however, JFS now wins the benchmark.</p>

<p><img src="misc/piszcz/group002/image011.png"><br clear="all">
ReiserFSv3 used to be the winner, it is now ousted by EXT2 and
EXT3.</p>

<p><img src="misc/piszcz/group002/image012.png"><br clear="all">
The biggest difference here is most of the filesystems have evened
out compared to the first benchmarking test.</p>

<p><img src="misc/piszcz/group002/image013.png"><br clear="all">
This test has remained relatively the same.</p>

<p><img src="misc/piszcz/group002/image014.png"><br clear="all">
Once again, mostly the same; however, it is important to note that
the performance of EXT2 and EXT3 are much closer this time.</p>

<p><img src="misc/piszcz/group002/image015.png"><br clear="all">
EXT2 and EXT3 take the biggest hit up to about 4096 bytes which is
surprising.</p>

<p><img src="misc/piszcz/group002/image016.png"><br clear="all">
EXT2 and EXT3 now outperform ReiserFSv3. In most of these
benchmarks thus far, ReiserFSv4 is the slowest; however, here we
see that V4 is about 12 seconds faster than V3.</p>

<p><img src="misc/piszcz/group002/image017.png"><br clear="all">
JFS continues to lead this test with EXT2 and EXT3 not far
behind.</p>

<p><img src="misc/piszcz/group002/image018.png"><br clear="all">
The following represents the combined test times.</p>

<h3>Benchmark Set 3 of 4</h3>

<p><img src="misc/piszcz/group002/image019.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image020.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image021.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image022.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image023.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image024.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image025.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image026.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image027.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image028.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image029.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image030.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image031.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image032.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image033.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image034.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image035.png"><br clear="all">
The following is the CPU utilization for this test.</p>

<p><img src="misc/piszcz/group002/image036.png"><br clear="all">
Here is a line chart of representing all of the test times.</p>

<h3>Benchmark Set 4 of 4</h3>

<p><img src="misc/piszcz/group002/image037.png"><br clear="all">
Here is a composite of the total test time for all tests.</p>

<h3>File Benchmark II Data</h3>

<table border="1" cellpadding="3">
<tr>
<td align="center" colspan="8"><strong>Seconds Elapsed</strong></td>
</tr>

<tr>
<td align="center"><strong>Test</strong></td>
<td align="left"><strong>Task</strong></td>
<td align="right"><strong>EXT2</strong></td>
<td align="right"><strong>EXT3</strong></td>
<td align="right"><strong>JFS</strong></td>
<td align="right"><strong>REISERv3</strong></td>
<td align="right"><strong>REISERv4</strong></td>
<td align="right"><strong>XFS</strong></td>
</tr>

<tr>
<td align="center">001</td>
<td align="left">Touch 10,000 Files</td>
<td align="right">48.25</td>
<td align="right">48.25</td>
<td align="right">34.59</td>
<td align="right">33.59</td>
<td align="right">34.08</td>
<td align="right">37.47</td>
</tr>

<tr>
<td align="center">002</td>
<td align="left">Find 10,000 Files</td>
<td align="right">0.03</td>
<td align="right">0.03</td>
<td align="right">0.03</td>
<td align="right">0.03</td>
<td align="right">0.07</td>
<td align="right">0.04</td>
</tr>

<tr>
<td align="center">003</td>
<td align="left">Remove 10,000 Files</td>
<td align="right">0.16</td>
<td align="right">0.16</td>
<td align="right">1.64</td>
<td align="right">1.84</td>
<td align="right">2.98</td>
<td align="right">2.51</td>
</tr>

<tr>
<td align="center">004</td>
<td align="left">Make 10,000 Directories</td>
<td align="right">49.76</td>
<td align="right">49.87</td>
<td align="right">34.32</td>
<td align="right">33.74</td>
<td align="right">34.68</td>
<td align="right">37.17</td>
</tr>

<tr>
<td align="center">005</td>
<td align="left">Find 10,000 Directories</td>
<td align="right">0.65</td>
<td align="right">0.65</td>
<td align="right">0.63</td>
<td align="right">1.07</td>
<td align="right">1.46</td>
<td align="right">0.72</td>
</tr>

<tr>
<td align="center">006</td>
<td align="left">Remove 10,000 Directories</td>
<td align="right">1.66</td>
<td align="right">1.67</td>
<td align="right">3.58</td>
<td align="right">43.48</td>
<td align="right">119.42</td>
<td align="right">5.39</td>
</tr>

<tr>
<td align="center">007</td>
<td align="left">Copy Tarball from Other to Current Disk</td>
<td align="right">5.17</td>
<td align="right">5.15</td>
<td align="right">5.74</td>
<td align="right">5.12</td>
<td align="right">7.34</td>
<td align="right">4.26</td>
</tr>

<tr>
<td align="center">008</td>
<td align="left">Copy Tarball from Current to Other Disk</td>
<td align="right">6.96</td>
<td align="right">7.00</td>
<td align="right">6.97</td>
<td align="right">6.89</td>
<td align="right">8.21</td>
<td align="right">6.69</td>
</tr>

<tr>
<td align="center">009</td>
<td align="left">UnTAR Kernel 2.6.14.4 Tarball</td>
<td align="right">14.92</td>
<td align="right">15.19</td>
<td align="right">27.64</td>
<td align="right">26.92</td>
<td align="right">21.45</td>
<td align="right">40.81</td>
</tr>

<tr>
<td align="center">010</td>
<td align="left">TAR Kernel 2.6.14.4 Source Tree</td>
<td align="right">14.05</td>
<td align="right">14.08</td>
<td align="right">13.05</td>
<td align="right">33.49</td>
<td align="right">25.82</td>
<td align="right">36.19</td>
</tr>

<tr>
<td align="center">011</td>
<td align="left">Remove Kernel 2.6.14.4 Source Tree</td>
<td align="right">2.47</td>
<td align="right">2.64</td>
<td align="right">6.17</td>
<td align="right">5.65</td>
<td align="right">10.15</td>
<td align="right">9.10</td>
</tr>

<tr>
<td align="center">012</td>
<td align="left">Copy 2.6.14.4 Tarball 10 Times</td>
<td align="right">39.48</td>
<td align="right">38.29</td>
<td align="right">39.13</td>
<td align="right">45.15</td>
<td align="right">62.16</td>
<td align="right">46.34</td>
</tr>

<tr>
<td align="center">013</td>
<td align="left">Create a 1GB File</td>
<td align="right">15.02</td>
<td align="right">15.02</td>
<td align="right">15.12</td>
<td align="right">15.96</td>
<td align="right">25.40</td>
<td align="right">15.87</td>
</tr>

<tr>
<td align="center">014</td>
<td align="left">Copy a 1GB File</td>
<td align="right">36.87</td>
<td align="right">36.51</td>
<td align="right">38.54</td>
<td align="right">47.60</td>
<td align="right">50.63</td>
<td align="right">41.25</td>
</tr>

<tr>
<td align="center">015</td>
<td align="left">Split 10M File into 1000 Byte Pieces</td>
<td align="right">57.26</td>
<td align="right">57.77</td>
<td align="right">2.99</td>
<td align="right">4.35</td>
<td align="right">2.95</td>
<td align="right">4.87</td>
</tr>

<tr>
<td align="center">016</td>
<td align="left">Split 10M File into 1024 Byte Pieces</td>
<td align="right">28.73</td>
<td align="right">28.97</td>
<td align="right">2.24</td>
<td align="right">4.04</td>
<td align="right">2.61</td>
<td align="right">4.01</td>
</tr>

<tr>
<td align="center">017</td>
<td align="left">Split 10M File into 2048 Byte Pieces</td>
<td align="right">7.02</td>
<td align="right">6.98</td>
<td align="right">1.39</td>
<td align="right">2.26</td>
<td align="right">1.55</td>
<td align="right">1.95</td>
</tr>

<tr>
<td align="center">018</td>
<td align="left">Split 10M File into 4096 Byte Pieces</td>
<td align="right">1.85</td>
<td align="right">1.83</td>
<td align="right">0.67</td>
<td align="right">1.05</td>
<td align="right">0.99</td>
<td align="right">0.98</td>
</tr>

<tr>
<td align="center">019</td>
<td align="left">Split 10M File into 8192 Byte Pieces</td>
<td align="right">0.58</td>
<td align="right">0.58</td>
<td align="right">0.36</td>
<td align="right">0.56</td>
<td align="right">0.62</td>
<td align="right">0.57</td>
</tr>

<tr>
<td align="center">020</td>
<td align="left">Copy 2.6.14.4 Kernel Source Tree</td>
<td align="right">10.02</td>
<td align="right">10.06</td>
<td align="right">35.76</td>
<td align="right">31.64</td>
<td align="right">20.17</td>
<td align="right">43.42</td>
</tr>

<tr>
<td align="center">021</td>
<td align="left">CAT 1GB File to /dev/null</td>
<td align="right">18.90</td>
<td align="right">18.59</td>
<td align="right">18.00</td>
<td align="right">37.33</td>
<td align="right">21.37</td>
<td align="right">18.70</td>
</tr>

<tr>
<td align="center" colspan="8"><strong>CPU Utilization</strong></td>
</tr>

<tr>
<td align="center"><strong>Test</strong></td>
<td align="left"><strong>Task</strong></td>
<td align="right"><strong>EXT2</strong></td>
<td align="right"><strong>EXT3</strong></td>
<td align="right"><strong>JFS</strong></td>
<td align="right"><strong>REISERv3</strong></td>
<td align="right"><strong>REISERv4</strong></td>
<td align="right"><strong>XFS</strong></td>
</tr>

<tr>
<td align="center">001</td>
<td align="left">Touch 10,000 Files</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.33</td>
<td align="right">99.00</td>
</tr>

<tr>
<td align="center">002</td>
<td align="left">Find 10,000 Files</td>
<td align="right">94.00</td>
<td align="right">93.00</td>
<td align="right">94.00</td>
<td align="right">95.00</td>
<td align="right">97.00</td>
<td align="right">95.66</td>
</tr>

<tr>
<td align="center">003</td>
<td align="left">Remove 10,000 Files</td>
<td align="right">98.00</td>
<td align="right">98.66</td>
<td align="right">73.66</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">91.66</td>
</tr>

<tr>
<td align="center">004</td>
<td align="left">Make 10,000 Directories</td>
<td align="right">98.00</td>
<td align="right">97.33</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.66</td>
<td align="right">99.00</td>
</tr>

<tr>
<td align="center">005</td>
<td align="left">Find 10,000 Directories</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
</tr>

<tr>
<td align="center">006</td>
<td align="left">Remove 10,000 Directories</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">88.66</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">97.00</td>
</tr>

<tr>
<td align="center">007</td>
<td align="left">Copy Tarball from Other to Current Disk</td>
<td align="right">74.66</td>
<td align="right">74.66</td>
<td align="right">76.00</td>
<td align="right">74.66</td>
<td align="right">61.33</td>
<td align="right">92.33</td>
</tr>

<tr>
<td align="center">008</td>
<td align="left">Copy Tarball from Current to Other Disk</td>
<td align="right">60.00</td>
<td align="right">59.33</td>
<td align="right">59.33</td>
<td align="right">62.00</td>
<td align="right">86.00</td>
<td align="right">62.66</td>
</tr>

<tr>
<td align="center">009</td>
<td align="left">UnTAR Kernel 2.6.14.4 Tarball</td>
<td align="right">42.33</td>
<td align="right">41.33</td>
<td align="right">27.33</td>
<td align="right">53.00</td>
<td align="right">80.00</td>
<td align="right">26.00</td>
</tr>

<tr>
<td align="center">010</td>
<td align="left">TAR Kernel 2.6.14.4 Source Tree</td>
<td align="right">44.00</td>
<td align="right">43.66</td>
<td align="right">51.33</td>
<td align="right">26.66</td>
<td align="right">48.66</td>
<td align="right">21.00</td>
</tr>

<tr>
<td align="center">011</td>
<td align="left">Remove Kernel 2.6.14.4 Source Tree</td>
<td align="right">39.66</td>
<td align="right">36.66</td>
<td align="right">33.00</td>
<td align="right">89.33</td>
<td align="right">88.33</td>
<td align="right">63.66</td>
</tr>

<tr>
<td align="center">012</td>
<td align="left">Copy 2.6.14.4 Tarball 10 Times</td>
<td align="right">79.33</td>
<td align="right">80.66</td>
<td align="right">93.33</td>
<td align="right">74.33</td>
<td align="right">73.00</td>
<td align="right">90.33</td>
</tr>

<tr>
<td align="center">013</td>
<td align="left">Create a 1GB File</td>
<td align="right">56.00</td>
<td align="right">55.66</td>
<td align="right">67.33</td>
<td align="right">57.00</td>
<td align="right">50.00</td>
<td align="right">64.33</td>
</tr>

<tr>
<td align="center">014</td>
<td align="left">Copy a 1GB File</td>
<td align="right">42.00</td>
<td align="right">42.00</td>
<td align="right">47.00</td>
<td align="right">37.33</td>
<td align="right">52.00</td>
<td align="right">49.33</td>
</tr>

<tr>
<td align="center">015</td>
<td align="left">Split 10M File into 1000 Byte Pieces</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">64.33</td>
<td align="right">96.33</td>
<td align="right">98.00</td>
<td align="right">86.33</td>
</tr>

<tr>
<td align="center">016</td>
<td align="left">Split 10M File into 1024 Byte Pieces</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">77.33</td>
<td align="right">97.66</td>
<td align="right">99.00</td>
<td align="right">97.00</td>
</tr>

<tr>
<td align="center">017</td>
<td align="left">Split 10M File into 2048 Byte Pieces</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">64.00</td>
<td align="right">96.66</td>
<td align="right">99.00</td>
<td align="right">97.33</td>
</tr>

<tr>
<td align="center">018</td>
<td align="left">Split 10M File into 4096 Byte Pieces</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">69.33</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">97.33</td>
</tr>

<tr>
<td align="center">019</td>
<td align="left">Split 10M File into 8192 Byte Pieces</td>
<td align="right">99.00</td>
<td align="right">99.00</td>
<td align="right">87.00</td>
<td align="right">89.66</td>
<td align="right">99.00</td>
<td align="right">97.66</td>
</tr>

<tr>
<td align="center">020</td>
<td align="left">Copy 2.6.14.4 Kernel Source Tree</td>
<td align="right">65.33</td>
<td align="right">65.00</td>
<td align="right">21.33</td>
<td align="right">41.33</td>
<td align="right">70.33</td>
<td align="right">25.33</td>
</tr>

<tr>
<td align="center">021</td>
<td align="left">CAT 1GB File to /dev/null</td>
<td align="right">26.33</td>
<td align="right">27.00</td>
<td align="right">27.33</td>
<td align="right">36.66</td>
<td align="right">46.33</td>
<td align="right">30.00</td>
</tr>
</table>

<h3>File Benchmark I Data</h3>

<h3>Conclusion</h3>

<p>With the second round of filesystem benchmarks, I hope everyone
is now satisfied with the benchmarks using the 2.6 kernel. What I
gleam from these benchmarks is both EXT2 and EXT3 are now roughly
the same speeds in the majority of the tests. It also appears the
XFS has improved in the majority of the tests. ReiserFSv3 has
slowed in many of the tests with ReiserFSv4 being the slowest in
most of the tests. It is important to note that JFS has improved in
some of the tests. Personally, I still choose XFS for filesystem
performance and scalability.</p>

<table border="1" cellpadding="3">
<tr>
<td align="center" colspan="7"><strong>Seconds Elapsed</strong></td>
</tr>

<tr>
<td align="center"><strong>Test</strong></td>
<td align="left"><strong>Filesystem</strong></td>
<td align="right"><strong>EXT2</strong></td>
<td align="right"><strong>EXT3</strong></td>
<td align="right"><strong>JFS</strong></td>
<td align="right"><strong>REISER</strong></td>
<td align="right"><strong>XFS</strong></td>
</tr>

<tr>
<td align="center">001</td>
<td align="left">Touch 10,000 Files</td>
<td align="right">34.14</td>
<td align="right">40.98</td>
<td align="right">24.50</td>
<td align="right">23.03</td>
<td align="right">27.13</td>
</tr>

<tr>
<td align="center">002</td>
<td align="left">Find 10,000 Files</td>
<td align="right">0.02</td>
<td align="right">0.02</td>
<td align="right">0.02</td>
<td align="right">0.02</td>
<td align="right">0.04</td>
</tr>

<tr>
<td align="center">003</td>
<td align="left">Remove 10,000 Files</td>
<td align="right">0.14</td>
<td align="right">0.36</td>
<td align="right">1.37</td>
<td align="right">1.76</td>
<td align="right">2.52</td>
</tr>

<tr>
<td align="center">004</td>
<td align="left">Make 10,000 Directories</td>
<td align="right">73.53</td>
<td align="right">148.46</td>
<td align="right">24.11</td>
<td align="right">23.42</td>
<td align="right">29.19</td>
</tr>

<tr>
<td align="center">005</td>
<td align="left">Find 10,000 Directories</td>
<td align="right">0.44</td>
<td align="right">0.66</td>
<td align="right">0.41</td>
<td align="right">0.87</td>
<td align="right">0.59</td>
</tr>

<tr>
<td align="center">006</td>
<td align="left">Remove 10,000 Directories</td>
<td align="right">1.97</td>
<td align="right">56.31</td>
<td align="right">4.05</td>
<td align="right">5.37</td>
<td align="right">6.70</td>
</tr>

<tr>
<td align="center">007</td>
<td align="left">Copy Tarball from Other to Current Disk</td>
<td align="right">3.26</td>
<td align="right">5.70</td>
<td align="right">4.62</td>
<td align="right">6.08</td>
<td align="right">4.12</td>
</tr>

<tr>
<td align="center">008</td>
<td align="left">Copy Tarball from Current to Other Disk</td>
<td align="right">3.36</td>
<td align="right">3.45</td>
<td align="right">3.49</td>
<td align="right">3.53</td>
<td align="right">3.45</td>
</tr>

<tr>
<td align="center">009</td>
<td align="left">UnTAR Kernel 2.4.26 Tarball</td>
<td align="right">24.49</td>
<td align="right">31.73</td>
<td align="right">34.64</td>
<td align="right">12.36</td>
<td align="right">23.79</td>
</tr>

<tr>
<td align="center">010</td>
<td align="left">TAR Kernel 2.4.26 Source Tree</td>
<td align="right">17.86</td>
<td align="right">23.40</td>
<td align="right">27.06</td>
<td align="right">22.81</td>
<td align="right">24.85</td>
</tr>

<tr>
<td align="center">011</td>
<td align="left">Remove Kernel 2.4.26 Source Tree</td>
<td align="right">4.24</td>
<td align="right">7.26</td>
<td align="right">10.86</td>
<td align="right">3.18</td>
<td align="right">4.48</td>
</tr>

<tr>
<td align="center">012</td>
<td align="left">Copy 2.4.26 Tarball 10 Times</td>
<td align="right">18.28</td>
<td align="right">46.68</td>
<td align="right">38.17</td>
<td align="right">49.16</td>
<td align="right">26.22</td>
</tr>

<tr>
<td align="center">013</td>
<td align="left">Create a 1GB File</td>
<td align="right">18.93</td>
<td align="right">22.35</td>
<td align="right">28.87</td>
<td align="right">25.80</td>
<td align="right">20.49</td>
</tr>

<tr>
<td align="center">014</td>
<td align="left">Copy a 1GB File</td>
<td align="right">45.04</td>
<td align="right">62.48</td>
<td align="right">54.46</td>
<td align="right">71.06</td>
<td align="right">55.89</td>
</tr>

<tr>
<td align="center">015</td>
<td align="left">Split 10M File into 1000 Byte Pieces</td>
<td align="right">53.35</td>
<td align="right">62.70</td>
<td align="right">8.11</td>
<td align="right">4.15</td>
<td align="right">4.34</td>
</tr>

<tr>
<td align="center">016</td>
<td align="left">Split 10M File into 1024 Byte Pieces</td>
<td align="right">26.24</td>
<td align="right">32.61</td>
<td align="right">7.63</td>
<td align="right">3.90</td>
<td align="right">3.96</td>
</tr>

<tr>
<td align="center">017</td>
<td align="left">Split 10M File into 2048 Byte Pieces</td>
<td align="right">6.40</td>
<td align="right">7.94</td>
<td align="right">2.83</td>
<td align="right">2.22</td>
<td align="right">1.95</td>
</tr>

<tr>
<td align="center">018</td>
<td align="left">Split 10M File into 4096 Byte Pieces</td>
<td align="right">1.65</td>
<td align="right">2.10</td>
<td align="right">0.50</td>
<td align="right">0.65</td>
<td align="right">0.97</td>
</tr>

<tr>
<td align="center">019</td>
<td align="left">Split 10M File into 8192 byte Pieces</td>
<td align="right">0.51</td>
<td align="right">0.69</td>
<td align="right">0.31</td>
<td align="right">0.47</td>
<td align="right">0.53</td>
</tr>

<tr>
<td align="center">020</td>
<td align="left">Copy 2.4.26 Kernel Source Tree</td>
<td align="right">24.43</td>
<td align="right">30.65</td>
<td align="right">25.68</td>
<td align="right">22.19</td>
<td align="right">26.53</td>
</tr>

<tr>
<td align="center">021</td>
<td align="left">CAT 1GB File to /dev/null</td>
<td align="right">21.70</td>
<td align="right">23.52</td>
<td align="right">20.40</td>
<td align="right">23.28</td>
<td align="right">21.13</td>
</tr>

<tr>
<td align="center" colspan="8"><strong>CPU Utilization</strong></td>
</tr>

<tr>
<td align="center"><strong>Test</strong></td>
<td align="left"><strong>Filesystem</strong></td>
<td align="right"><strong>EXT2</strong></td>
<td align="right"><strong>EXT3</strong></td>
<td align="right"><strong>JFS</strong></td>
<td align="right"><strong>REISER</strong></td>
<td align="right"><strong>XFS</strong></td>
</tr>

<tr>
<td align="center">001</td>
<td align="left">Touch 10,000 Files</td>
<td align="right">97.66</td>
<td align="right">96.66</td>
<td align="right">92.66</td>
<td align="right">97.66</td>
<td align="right">97.00</td>
</tr>

<tr>
<td align="center">002</td>
<td align="left">Find 10,000 Files</td>
<td align="right">98.33</td>
<td align="right">107.33</td>
<td align="right">109.66</td>
<td align="right">85.66</td>
<td align="right">80.66</td>
</tr>

<tr>
<td align="center">003</td>
<td align="left">Remove 10,000 Files</td>
<td align="right">95.66</td>
<td align="right">98.33</td>
<td align="right">76.66</td>
<td align="right">97.66</td>
<td align="right">91.33</td>
</tr>

<tr>
<td align="center">004</td>
<td align="left">Make 10,000 Directories</td>
<td align="right">63.00</td>
<td align="right">33.00</td>
<td align="right">96.00</td>
<td align="right">97.66</td>
<td align="right">90.66</td>
</tr>

<tr>
<td align="center">005</td>
<td align="left">Find 10,000 Directories</td>
<td align="right">96.66</td>
<td align="right">97.00</td>
<td align="right">99.33</td>
<td align="right">95.33</td>
<td align="right">98.66</td>
</tr>

<tr>
<td align="center">006</td>
<td align="left">Remove 10,000 Directories</td>
<td align="right">99.00</td>
<td align="right">6.33</td>
<td align="right">87.66</td>
<td align="right">98.00</td>
<td align="right">89.33</td>
</tr>

<tr>
<td align="center">007</td>
<td align="left">Copy Tarball from Other to Current Disk</td>
<td align="right">74.66</td>
<td align="right">79.00</td>
<td align="right">79.33</td>
<td align="right">90.33</td>
<td align="right">81.66</td>
</tr>

<tr>
<td align="center">008</td>
<td align="left">Copy Tarball from Current to Other Disk</td>
<td align="right">67.00</td>
<td align="right">64.66</td>
<td align="right">64.00</td>
<td align="right">70.66</td>
<td align="right">75.66</td>
</tr>

<tr>
<td align="center">009</td>
<td align="left">UnTAR Kernel 2.4.26 Tarball</td>
<td align="right">16.00</td>
<td align="right">18.66</td>
<td align="right">15.33</td>
<td align="right">78.33</td>
<td align="right">31.66</td>
</tr>

<tr>
<td align="center">010</td>
<td align="left">TAR Kernel 2.4.26 Source Tree</td>
<td align="right">21.66</td>
<td align="right">22.66</td>
<td align="right">17.00</td>
<td align="right">32.00</td>
<td align="right">18.33</td>
</tr>

<tr>
<td align="center">011</td>
<td align="left">Remove Kernel 2.4.26 Source Tree</td>
<td align="right">11.00</td>
<td align="right">18.33</td>
<td align="right">9.00</td>
<td align="right">96.66</td>
<td align="right">77.33</td>
</tr>

<tr>
<td align="center">012</td>
<td align="left">Copy 2.4.26 Tarball 10 Times</td>
<td align="right">96.66</td>
<td align="right">67.33</td>
<td align="right">66.33</td>
<td align="right">96.00</td>
<td align="right">92.00</td>
</tr>

<tr>
<td align="center">013</td>
<td align="left">Create a 1GB File</td>
<td align="right">35.66</td>
<td align="right">57.66</td>
<td align="right">32.33</td>
<td align="right">84.33</td>
<td align="right">39.00</td>
</tr>

<tr>
<td align="center">014</td>
<td align="left">Copy a 1GB File</td>
<td align="right">30.33</td>
<td align="right">41.33</td>
<td align="right">40.66</td>
<td align="right">53.33</td>
<td align="right">40.00</td>
</tr>

<tr>
<td align="center">015</td>
<td align="left">Split 10M File into 1000 Byte Pieces</td>
<td align="right">97.66</td>
<td align="right">96.66</td>
<td align="right">22.33</td>
<td align="right">89.33</td>
<td align="right">92.33</td>
</tr>

<tr>
<td align="center">016</td>
<td align="left">Split 10M File into 1024 Byte Pieces</td>
<td align="right">97.66</td>
<td align="right">97.33</td>
<td align="right">20.33</td>
<td align="right">89.00</td>
<td align="right">95.66</td>
</tr>

<tr>
<td align="center">017</td>
<td align="left">Split 10M File into 2048 Byte Pieces</td>
<td align="right">95.33</td>
<td align="right">97.33</td>
<td align="right">26.00</td>
<td align="right">88.66</td>
<td align="right">95.66</td>
</tr>

<tr>
<td align="center">018</td>
<td align="left">Split 10M File into 4096 Byte Pieces</td>
<td align="right">98.33</td>
<td align="right">98.00</td>
<td align="right">80.00</td>
<td align="right">97.33</td>
<td align="right">92.33</td>
</tr>

<tr>
<td align="center">019</td>
<td align="left">Split 10M File into 8192 Byte Pieces</td>
<td align="right">99.33</td>
<td align="right">98.33</td>
<td align="right">87.00</td>
<td align="right">96.00</td>
<td align="right">94.66</td>
</tr>

<tr>
<td align="center">020</td>
<td align="left">Copy 2.4.26 Kernel Source Tree</td>
<td align="right">19.33</td>
<td align="right">17.33</td>
<td align="right">18.00</td>
<td align="right">44.33</td>
<td align="right">25.00</td>
</tr>

<tr>
<td align="center">021</td>
<td align="left">CAT 1GB File to /dev/null</td>
<td align="right">26.00</td>
<td align="right">26.00</td>
<td align="right">30.00</td>
<td align="right">30.00</td>
<td align="right">33.66</td>
</tr>
</table>

</p>


<!-- *** BEGIN author bio *** -->
<P>&nbsp;
<P>
<!-- *** BEGIN bio *** -->
<hr>
<!-- P>
<img ALIGN="LEFT" ALT="[BIO]" SRC="../gx/2002/note.png" class="bio">
<em>
I have completed my A.S. in Computer Science at a local community college
and plan to pursue either a C.S. or B.S. degree at a local university this
fall.  I have been using UNIX on and off since 1989.  I grew up around
both Apple and Macintosh computers.  In late 1996 however, I became
frusturated with Macs and how unstable the operating system was.  So in
December, 1996 I installed LinuxPPC R3, this is when I began using Linux
daily.   This  distrubution came with kernel 2.1.24, and KDE 0.2 I believe,
but I primarily used the CLI because xpmac and Gnome/KDE were not quite
complete yet.  Then in 1998 I built a good x86 box, and now use Red Hat
for my desktop machine and Slackware for my Linux router/server.  I have
been using Linux every day since then.  I currently run Slackware 9.1 on
a 2.6GHZ P4 HT w/2GB of ram and 4GB of swap utilizing the (currently)
latest stable 2.6 kernel, 2.6.5.
</em>
<br CLEAR="all" -->
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2006, Justin Piszcz. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 122 of Linux Gazette, January 2006
</p>

</div>


<div id="previousnextbottom">
<A HREF="howell.html" >&lt;-- prev</A> | <A HREF="smith.html" >next --&gt;</A>
</div>


</div>






<div id="navigation">

<a href="../index.html">Home</a>
<a href="../faq/index.html">FAQ</a>
<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="../contact.html">Contact Us</a>

</div>



<div id="breadcrumbs">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">January 2006 (#122)</a> &gt; 
Article

</div>





<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>




</body>
</html>

