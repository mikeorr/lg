<!--startcut ==========================================================-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<!-- -->
<!--    $Id: little.html,v 1.2 2002/10/09 22:24:23 lg Exp $	-->
<!-- -->
<HEAD>

<META NAME="description" 
	CONTENT="Checking out SPARC-Linux with SLXT">
<META NAME="keywords"
	CONTENT="SPARCstation, Linux, Red-Hat, Xkernel, diskless">

<TITLE>Checking out SPARC-Linux with SLXT LG #27</TITLE>
</HEAD>
<BODY BGCOLOR="#A0FBFB" TEXT="#000000">

<!--endcut ============================================================-->

<H4>
"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>

<P> <HR> <P> 
<!--===================================================================-->

<center>
<H1>Checking Out SPARC-Linux with SLXT</H1>
<H2>Grab a bargain SPARC</H2>

<H4>By <a href="mailto:gaijin@pobox.com">John Little</a></H4>
</center>
<P> <HR> <P>  

There are lots of Sun SPARCstations coming onto the second-hand market, or
even being given away for free, nowadays. The attractions of a SPARC
are numerous. The graphics resolution of a typical SPARCstation is 1152x900
(either monochrome, 8-bit or 24-bit colour), all machines have built-in
ethernet controllers and all come with on-board SCSI. 
<P>

Unfortunately, there are also a couple of drawbacks. It's not unusual for
these machines to come onto the market with only very small internal disks
(dual 100MB or a single 200MB is fairly common), or even minus disks
completely and, as anyone who has bought one recently will tell you, SCSI
disks are still more expensive, megabyte for megabyte, than their IDE
cousins.
<P>

There's also a SPARC-Linux specific problem, commonly referred to
as the "IPC slowdown bug" which, as the name suggests, plagues some
of the low-end Sun4c architecture machines, especially the IPC,
SPARCstation 1 and 1+ models. This doesn't affect all machines
(which is one of the reasons that a fix is proving difficult to
find), but on those which it does, even simple operations such as
an "ls /etc" can take several minutes. It's the computing equivalent
of that nightmare which everyone has had at one time or another
where you're trying to run away from something horrible, through
waist-deep, sticky treacle. 
<P>

So, if your SPARCstation comes without a disk, or you load SPARC-Linux and
your machine proves to be one of the ones susceptible to treacle, what can
you do?
<P>

<H3>Don't panic!</H3>

All is not lost. SPARCstations make excellent Xterminals.
As already mentioned, they come equipped for the job with on-board ethernet
and high resolution graphics.
Even the most treacle-bound IPC will provide adequate performance
for most users when served by an i386 level machine and absolutely
stunning performance when served by a machine of Pentium-level
performance. The secret is, of course, that application processing
is offloaded onto the server, while the SPARCstation runs only a
cut-down kernel and the Xserver process. This is basically a
SPARC-Linux implementation of Seth Robertson's Xkernel package.
The principal of operation is the same, but the binaries,
libraries and code are 100% Linux (it is important to note here
that there's no Sun code included in the package, so you do
<STRONG>not</STRONG>
need a Sun "Right To Use" software licence to run the
SPARC-Linux Xterminal package).
<P>

<I>
NOTE - People are frequently confused by the Xterminal concept and the
fact that when they log-in to an Xterminal they find themselves in a shell
on the server. Perhaps the easiest way to understand it is to think
of the Xterminal as simply being a display attached to the server (which,
in effect, it is) and of the Xterminal hardware as being a remote video card.
</I>
<P>

The 
<A HREF="http://www2.gol.com/gaijin/Linux">SLXT package</A>
contains a SPARC-Linux, network-bootable kernel for sun4c and sun4m
architectures, as well as scripts to automate the installation
process and the administration of Xterminal clients. The scripts are
Linux specific, but the package can be installed manually (on
virtually any system which provides tftpboot and X support) in about
ten to fifteen minutes by an experienced system administrator. The
author has run SPARC-Linux Xterminal clients from Solaris servers,
as well as from a variety of Linux machines.
<P>

Because the kernel is cut down, it will run quite happily on a
machine which has only 12MB of main memory (an 8MB machine will
boot, but will eventually crash with "out of memory" errors). In
fact, because the system only runs the kernel and Xserver processes,
any more than about 24MB of main memory is wasted, as it will never
be accessed. The kernel is small because it does not contain any disk
or floppy drivers. This also means that the SPARC-Linux Xterminal
package can be booted on an existing, diskfull machine with no fear
of accidentally overwriting the filesystems, thus making it possible
to have the same machine boot, say, Solaris from an internal disk, or
come up as an Xterminal when booted over the net. Of course, at around
2.5MB, the SLXT package is also much easier to download than the full
SPARC-Linux distribution if you just want to check whether your system
will run the Linux kernel.
<P>

<H3>Booting SLXT</H3>

Before you can boot your SPARC client machine, you'll need to make a
note of the ethernet address (the 
<I>add_xterm</I>
administration script will ask for this information). This is visible,
along with information on the boot PROM revision and memory size,
immediately after the power on selftest has completed. Your machine will
probably be set up to boot directly from disk, so you may need to hold
down the 
<I>"Stop"</I>
and the
<I>"a"</I>
keys simultaneously to prevent the ethernet address from scrolling off
the screen (this key sequence is commonly referred to as an
<I>"L1-A"</I>
in Sun circles because the "stop" key is also the first key on
the left-hand keypad of a Sun keyboard).
<P>

After entering the ethernet address and choosing a hostname and IP address
for your client,
<I>add_xterm</I>
will update the configuration files and the ARP and RARP caches on your
server. You can then boot your SPARC client using
<I>"boot net"</I>
(from the 
<I>"ok"</I>
prompt), or
<I>"ble()"</I>
(from the
<I>"&gt;"</I>
prompt), depending upon which revision of boot PROM your machine has.
<P>

The most common question asked about the SLXT boot process is
<I>"Why does it take so long to boot?".</I>
<BR>
The answer is that the machine is downloading a complete kernel 
image from the server and then executing it, unlike a normal SunOS
or Solaris boot, where the bootstrap reads in a second-stage loader, which
in turn downloads the kernel. Be patient! Once the kernel is downloaded, the
time taken to start the Xserver process and display a login prompt is very
much shorter than the rest of a typical SunOS/Solaris boot. You'll need to
be very quick to catch a glimpse of the SPARC-Linux, beer-swilling penguin.

<H3>More Information</H3>

The SLXT package includes a
<A HREF="http://www2.gol.com/gaijin/Linux/SLXT_FAQ">FAQ,</A>
a 
<A HREF="http://www2.gol.com/gaijin/Linux/CHANGES">CHANGES</A>
file and a
<A HREF="http://www2.gol.com/gaijin/Linux/slxt.lsm">package info</A>
file. Unfortunately, at the time of writing the version on SunSite had
not been updated for some time (the last update, along with dozens
of other packages, is still languishing in the Linux/Incoming directory).
The latest revision, along with documentation, should always be available
from the author's home site at
<A HREF="http://www2.gol.com/gaijin/Linux">http://www2.gol.com/gaijin/Linux,</A>
though.
<P>

<HR SHADE SIZE=5>

<H4>What do you need to run your SPARC as an Xterminal client?</H4>

<UL>
<LI> You must have your SPARCstation connected to a network on
which there is at least one other machine.  This second, "boot
server" machine must have a minimum of 7MB of free space available
for the SPARC-Linux Xterminal package, and should have a complete
X11 tree.  It can be anything from a standalone i386 Linux system
upwards (although it obviously makes sense to use a server which
is more powerful than the clients, especially where multiple clients
will be operating simultaneously). 
<P>

<LI> Your SPARCstation must have at least 12MB of main memory (it will
boot with 8MB, but will crash with "out of memory" errors as soon as
you start using applications).  In the same vein, because the client
machine only runs a Linux kernel and the X-server process, any more
than about 24MB of memory is a complete waste.
<P>

<LI> Your SPARCstation does NOT need a disk.  There are no disk drivers
included in the kernel, so even if the machine has a hard disk
installed, it can not be accessed (this also means that it is quite
safe to use a diskfull system for testing).
<P>

<LI> Your SPARCstation must have a frame-buffer, monitor and keyboard.
</UL>
<P>

<HR SHADE SIZE=5>

The gzipped-tar file, for the current version,
<A HREF="http://www2.gol.com/gaijin/Linux/SLXT_0.5c.tar.gz"> SLXT_0.5c.tar.gz </A> is approximately 2.5MB
and will take up slightly more than 6MB when installed.
<P>

<HR SHADE SIZE=5>

<I>Last updated: $Date: 2002/10/09 22:24:23 $.</I>
<ADDRESS>
gaijin@pobox.com
</ADDRESS>

<!--===================================================================-->
<P> <hr> <P> 
<center><H5>Copyright &copy; 1998, John Little <BR> 
Published in Issue 27 of <i>Linux Gazette</i>, April 1998</H5></center>

<!--===================================================================-->
<P> <hr> <P> 
<A HREF="./index.html"><IMG ALIGN=BOTTOM SRC="../gx/indexnew.gif" 
ALT="[ TABLE OF CONTENTS ]"></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../gx/homenew.gif"
ALT="[ FRONT PAGE ]"></A>
<A HREF="./kodis.html"><IMG SRC="../gx/back2.gif"
ALT=" Back "></A>
<A HREF="./marsden.html"><IMG SRC="../gx/fwd.gif" ALT=" Next "></A>
<P> <hr> <P> 
<!--startcut ==========================================================-->
</BODY>
</HTML>
<!--endcut ============================================================-->
