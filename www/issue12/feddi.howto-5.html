<HTML>
<HEAD>
<TITLE>FEddi-COMO: Messages, collaborations, tricks</TITLE>
</HEAD>
<BODY>
<A HREF="feddi.howto-4.html">Previous</A>
<A HREF="feddi.howto-6.html">Next</A>
<A HREF="feddi.howto.html#toc5">Table of Contents</A>
<HR>
<H2><A NAME="s5">5. Messages, collaborations, tricks</A></H2>


<P>>From here on I'll state things I received from fido users.</P>

<H2><A NAME="ss5.1">5.1 <CODE>futility</CODE></A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 1 from area R34.LINUX
------------------------------------------------------------------------------
From: Jesus Gambero (2:345/201.3)
From: All
Subj: FEddi
Send: 25 Nov 95  15:43:57
------------------------------------------------------------------------------
Hi.

For now, FEddi hasn't got too much documentation, so after a couple of
tests, finally I'm able to maintain the message base.

        futility tool delete &quot;age+15&amp;&amp;protect-&amp;&amp;new-&quot; R34.LINUX
        futility pack

This will delete the messages older than 15 days which are not protected
and which have been read.

If you don't specify the area name, it'll refer to all. It happens that
I leave some areas more days than others, so I have to specify a line for
each area, but my customize it at will.

Bye.

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: Message written and send by Linux, of course!!
(2:345/201.3)
</PRE>
</CODE></BLOCKQUOTE>
</P>





<H2><A NAME="ss5.2">5.2 File request (<I>FREQ</I>).</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 4 from area R34.LINUX
------------------------------------------------------------------------------
From: Javier Hernandez (2:346/207.48)
From: ALL
Subj: FILE REQUEST
Send: 07 Dec 95  06:15:45
------------------------------------------------------------------------------
Hi!

I have been trying to find out how to do the RE: with the Linux software,
and I already fetched my first file. I'll explain how I did it, just if
anybody is interested, or knows about a more correct manner.

First I write a Net, usually to my sysop. After finishing I exit with
(Alt+x). Having the message activated, I hit (Alt+g) to open a small
window which displays some data. Once seeing it, I pulse `Inc' and type
the name of the file I wish to download. Finally I push `Esc'.

This should be enough. Next time you call you'll receive the file. At
least this is how it worked for me.

Any comments?

Bye,
  Javier

                    fjherna@ibm.net                    _\|/_
    ***********************************************-----(O)---****
    * Javi(Canary)                              * Valencia/Spain *

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: RAMERA: persona que comercia con su RAM. (2:346/207.48)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.3">5.3 Frequent addresses.</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 6 from area R34.LINUX
------------------------------------------------------------------------------
From: Javier Hernandez (2:346/207.48)
From: Manuel Soriano
Subj: Testing send.
Send: 11 Dec 95  23:58:55
------------------------------------------------------------------------------
Hi Manuel!

As of 07 Dec 95, Manuel Soriano wrote to Javier Hernandez
concerning &quot;Testing send.&quot;:

 MS&gt; I've received it correctly, in the write area, just tell us how you
 MS&gt; did it. Hope you'll write us a feddi.howto :-)

See, I put a file called &quot;names&quot; into /home/fido/fnet/msgbase which might
be similar for you. The file's contents:
-------------------------start here-------------------------------------
*fj,Javier Hernandez,2:346/207.48
*fm,Francisco Moreno,2:346/207.1
*ap,Alfonso Perez-Almazan,2:346/207.2
*vk,Viktor Martinez,2:346/207.4
*sz,Salvador Zarzo,2:346/207.6
*el,Eduardo Lluna Gil,2:346/207.8
*bs,Bernardino Soldan,2:346/207.10
*ms,Manuel Soriano,2:346/207.14
*js,Jose Luis Sanchez,2:346/207.17
*jv,Jose Villanueva,2:346/207.28
*am,Alberto Mendoza,2:346/207.44
*pe,pepsales@portables.com,2:342/3
*am,areamgr,2:346/207
*rt,rtorres@gimn.upv.es,2:342/3
----------------------------stop here-----------------------------------
This causes that, inserting a net instead of writing a To:, push PgUp or
PgDown, you can see the different names. As you see, I've even added some
Internet addresses which I'm using sometimes. The first field, I think, is
some kind of short keys to make a call directly to this line. I don't remember
right now how is this done, but it's easy and you'll find it in the man page
for feddi.

I don't know if I missed something. If you agree, just add it to feddi.como.
Let me know if you think there is missing something, I'll send it to you.

See ya.

Bye,
  Javier

             fjherna@ibm.net
             fj.chicha@p48.europa3.encomix.com         _\|/_
    ***********************************************-----(O)---****
    * Javi(Canary)                              * Valencia/Spain *

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: RAMERA: person dealing with his RAM. (2:346/207.48)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.4">5.4 Scripts and tools.</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 11 from area R34.LINUX
------------------------------------------------------------------------------
From: Jose Carlos Gutierrez (2:341/45.17)
From: all
Subj: Feddi-como, Scripts
Send: 26 Dec 95  11:42:31
------------------------------------------------------------------------------
Hi

These are the files I'm using to automate mail.

file /usr/local/bin/fido
#!/bin/bash
pushd ~/fnet/inbound
.minusculas
if [ -f snetlist.a* ] ||
   [ -f subptlst.a* ] || [ -f region34.l* ] || [ -f ptlstr34.l* ]; then
      ~/fnet/nodelist/compilar
fi
ftoss
futility link
fmbedit
fscan
futility pack
popd

 |------------|
file ~/fnet/inbound/.minusculas
(the dot is to avoid that it converts itself to lower case)

#!/usr/bin/perl
while ($nombre = &lt;*&gt;) {
   $nuevo_nombre = $nombre;
   $nuevo_nombre=~ tr/A-Z,Ñ/a-z,ñ/;
   print &quot;$nombre -&gt; $nuevo_nombre \n&quot;;
   rename($nombre,&quot;$nuevo_nombre&quot;); }
 |------------|
file ~/fnet/nodelist/compilar

#!/bin/bash
# file to compile the nodelist
pushd ~/fnet/nodelist
if [ -f ~/fnet/inbound/ptlstr34.l* ]; then
        rm ptlstr34*
        unpack ~/fnet/inbound/ptlstr34.l*
fi
if [ -f ~/fnet/inbound/region34.l* ]; then
        rm region34*
        unpack ~/fnet/inbound/region34.l*
fi
if [ -f ~/fnet/inbound/snetlist.a* ]; then
        rm snetlist*
        unpack ~/fnet/inbound/snetlist.a*
fi
if [ -f ~/fnet/inbound/subptlst.a* ]; then
        rm subptlst*
        unpack ~/fnet/inbound/subptlst.a*
fi
# what I'm doing here is insert the line of my Boss for him to call the bt
# with ctrl + y (this is probably the most difficult way to do it, by I know
# of no other).
grep -i -B 4000  'Boss,2:341/45' ptlstr34.* &gt; /tmp/file1
grep -i -A 4000  'Boss,2:341/45' ptlstr34.* &gt; /tmp/file2
grep -v 'Boss,2:341/45' /tmp/file2 &gt; /tmp/file3
rm ptlstr34.*
cat /tmp/file1 &gt; ptlstr34
# you'll have to adapt this line to your system
echo &quot;,0,Ma~ana_Remoto,Madrid,Rafa,34-1-6463023,9600,CM,V34,VFC&quot; &gt;&gt; ptlstr34
cat /tmp/file3 &gt;&gt; ptlstr34
rm /tmp/file1
rm /tmp/file2
rm /tmp/file3
#
rm -f ~/fnet/inbound/ptlstr34*
rm -f ~/fnet/inbound/region34*
rm -f ~/fnet/inbound/snetlist*
rm -f ~/fnet/inbound/subptlst*
rm fnlc.*
fnlc
popd



Bye,
                Guti.

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: THE GANG TM (2:341/45.17)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.5">5.5 Automation: The personal area.</A></H2>


<P>
<BLOCKQUOTE><CODE>
<PRE>
------------------------------------------------------------------------------
Message Number 1358 from area R34.LINUX
------------------------------------------------------------------------------
From: Pablo Gomez (2:341/43.40)
From: All
Subj: The personal area in FEDDI, a fine(ally) version ;-)
Send: 24 Jun 96  00:35:31
------------------------------------------------------------------------------
Hi!

Will since some time we have been trying to find out a possibility to provide
in FEDDI a personal area allowing the reception of mail directed to us
from any area, and, over all, (as the former isn't difficult) reply them
in a comfortable way, sending them back to the original areas.

The following scripts at least allowed Francisco Jose Montilla and the author
of this message to do the trick.

The first step is creating an area which will later serve as PERSONAL.
We can do it like:

(As user fido)

$ cd ~/msgbase
$ mkdir +PERSONAL
$ cp +R34.LINUX/* +PERSONAL/

(PERSONAL is the name you want to give the personal area) Check if the
permissions and the owner of this new directory are the same as those
you have in other areas. If not, correct them.

Next, to clean the messages, do:

$ futility &quot;+delete&quot; &quot;all+&quot; PERSONAL
$ futility pack PERSONAL

If you invoke fmbedit again, you'll the the new area, called PERSONAL!
:-) magic? :-)

Now we've got the base. Next part: Copy the new messages that are arriving
to the system to our name. This is done (almost) automatically.

If we create a file like:

                                      ,,,
                                     (o o)  File: ~/msgbase/tosspath
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---

copy    t&quot;Pablo Gomez&quot; PERSONAL

---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

that's it. Obviously you'll have to replace my name (Pable Gomez) with yours,
and PERSONAL with the name of your personal area. Each time we run ftoss,
this will copy to the personal area the messages directed to us.

This point deserves a comment. In fact, this will copy also the messages
directed to us and received in NETMAIL. In my opinion, this is somewhat
brain-dead, as the NETMAIL area is already our personal area. I don't know
of no modification to avoid this copy. So a little later we'll have to
make a certain adjustment.

This is a piece (the important one ;-)) of the script I run to receive the
mail.
                                      ,,,
                                     (o o)  File: ~/bin/mimport
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---
#!/bin/sh

# To manage the personal area
PERSAREA=PERSONAL

# Mail import
ftoss

#
# Feeding personal area
# We just have delivered the messages, generating the necessary duplicates in
# PERSONAL. But we'd liked to delete the messages which we just copied to
# the PERSONAL area, and which come from the NETMAIL area
#
futility tool &quot;+delete&quot; \
  &quot;new+&amp;&amp;text+\*\*\* ftoss: copied from NETMAIL&quot; $PERSAREA


# reconstruct threads
futility pack
futility link

#[...]
---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

Be careful: the lines `futility tool ...' and `new ...&quot; are just one. The
aim is to delete this redundant messages from NETMAIL.


Going on with message handling. The messages in the PERSONAL area contain
lines like:

*** ftoss: copied from R34.LINUX

(for instance) :-)

I reply (just in the PERSONAL area) the message, and don't care for anything,
_EXCEPT_ to not delete this line, which will serve later as a `witness' to
allow the message be replied in the correct area.

Then, exporting the mail, I run the following script:
                                      ,,,
                                     (o o)  File: ~/bin/mexport
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---
#!/bin/sh

USER_BIN_DIR=/home/fido/bin
LOCAL_BIN_DIR=/usr/local/bin
# Name of personal area
PERSAREA=PERSONAL

# user name
USERNOM=&quot;Pablo Gomez&quot;

# temp output file name
OUTFILE=/tmp/persanswr




# Extraction of the messages in the personal area which are due for process
# and which will then be marked as `sent'
#
futility tool &quot;display&quot; &quot;attribute-se&amp;&amp;from+Pablo Gomez&quot; $PERSAREA &gt; $OUTFILE
futility tool &quot;+se&quot; &quot;attribute-se&amp;&amp;from+Pablo Gomez&quot; $PERSAREA

# distribution to the new areas...
awk -f $USER_BIN_DIR/persreply.awk &lt; $OUTFILE

# scan the message base
#
$LOCAL_BIN_DIR/fscan
---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

And the `awk' line included in the file persreply.awk reads:

                                      ,,,
                                     (o o)  File: ~/bin/persreply.awk
---*reiss*------*schnippel*------oOO--(_)--OOo-------*knabber*-----*fetz*---

BEGIN   {
#
# Touch this if necessary
# ATTENTION: Watch also for instruction blocks marked with &quot;####&quot;:
# these too will need adjustment.
#
        outputfile=&quot;/tmp/tmpreply&quot;
#
#
# down here I suppose only the blocks marked with `###' my need changes
#
        borracmd=sprintf(&quot;rm -f %s&quot;, outputfile)
        replyarea=&quot;&quot;
        estado=1
        system(borracmd)
        }

# It's only valid the first time found in each message.
# Avoid copying, so it won't reach another system which is using the same
# system
/\*\*\* ftoss: copied from /{
        if (estado==1) {
                viejoestado=2
                estado=3
                replyarea=$NF
### Modify:

        print &quot;*** pers_area: Copiado desde area PERSONAL&quot; &gt;&gt; &quot;/tmp/tmpreply&quot;
        }
        }

/^#To: / {
        user=&quot;&quot;
        for (n=2; n &lt;= NF; n++)  {
                user=sprintf(&quot;%s %s &quot;,user,$n)
        }
        }
# Avoid writing the following lines:
/^#Area: / {
        viejoestado=estado
        estado=3
        }

/^#@To: / {
        viejoestado=estado
        estado=3
        }



# always but in the before mentioned cases...
estado != 3{
#####
#
# ATTENTION!: Modify as above.
#  Sorry for the hack, but I couldn't make it work otherwise.
#
        print $0 &gt;&gt; &quot;/tmp/tmpreply&quot;
        }
# Restore the previous state
estado==3 { estado=viejoestado }


/^###MESSAGE_END###/{
        if (estado==2) {
                close (outputfile)
                comando=sprintf(&quot;cat %s | futility addmsg %s&quot;,outputfile,
replyarea)
                system(comando)
                system(borracmd)
                estado=1
                replyarea=&quot;&quot;
        }
        }

END     {
        system(borracmd)
        }
---*reiss*------*schnippel*--------------------------*knabber*-----*fetz*---

Be careful: there are cut off lines (visibly), and there is a double hack
which I wasn't able to resolve better. Instead of defining all of the above
variables, there is one, `outputfile' which I had to redefine half way of
the script as a constant, because I didn't know how to do it better. I tried
to pass the variable quoted in different styles, but I couldn't achieve it.
Maybe one of you could give me a hint.

This was tested with several simultaneous messages, but I think I never
failed to destroy the line with ***ftoss...

Regards until the next time. I hope you'll find it useful. I'll be pleased
to get comments, improvements, etc.


Bye,
Pablo GOMEZ
pgomez@p12.laereas.encomix.com

--- FEddi 0.9pl5 via BinkleyTerm
 * Origin: Puntomatico Remoto. Linux en Hoyo de Manzanares (2:341/43.40)
</PRE>
</CODE></BLOCKQUOTE>
</P>


<H2><A NAME="ss5.6">5.6 A few `tricks' for those that don't agree with RTFM.</A></H2>



<H3>Replying mail.</H3>


<P>
<UL>
<LI>To reply -in the normal way- the <I>From:</I> in the same area, <CODE>Alt+r</CODE></LI>
<LI>To reply the <I>To:</I> in the same area as the message: <CODE>Ctrl+r</CODE>.</LI>
<LI>To reply -via <I>net</I>- the message's <I>From</I>: <CODE>Alt+n</CODE></LI>
<LI>To reply -via <I>net</I>- the message's <I>To</I>: <CODE>Ctrl+n</CODE> <BR>

To be able to do the latter, the addressee must be in the <CODE>pointlist</CODE>,
otherwise just nothing happens.</LI>
</UL>
</P>

<H3>``Navigating'' around the message base.</H3>


<P>
<UL>
<LI>To get a list of the areas messages, pulse <CODE>Alt+l</CODE>; using then the
cursor right key, you'll be changing to the list of areas. </LI>
<LI>To follow the conversation's <I>thread</I> upon it's <I>Re:</I>, you'll need
to hit the <CODE>Tab</CODE> key, and see a list similar to that which appears
in the previous item. If you continue using this key you'll change the
references to the linked messages. <BR>

You will know that there multiple linked messages (this is what <CODE>futility
link</CODE> does) by one and the same <I>Re:</I> and by some yellow codes which
appear in the right upper corner of the screen, in the zone dedicated to
the message's header.</LI>
</UL>
</P>

<H3>File operations</H3>


<P>
<UL>
<LI>To do a <I>File Attach</I>, or sending a file ``attached'' to a message,
<I>netmail</I>, -once the addressee has been typed- push <CODE>Alt+y</CODE>, followed
by <CODE>f</CODE>; then <CODE>Alt+j</CODE> and finally <CODE>Tab</CODE>; you'll be able to ``navigate''
up to the file. <BR>

The latter <CODE>Tab</CODE> applies to all operations related to files(insert file,
export message to file, etc...)</LI>
</UL>
</P>


<H2><A NAME="ss5.7">5.7 Grouping by tens Binkley's appearance:</A></H2>


<P>
<UL>
<LI>Create the following file and execute it in place of the <CODE>bt</CODE>: <BR>

File <CODE>/usr/bin/bbs</CODE>

<BLOCKQUOTE><CODE>
<PRE>
echo -e &quot;\033(U&quot;
/usr/bin/bt
echo -e &quot;\033(B&quot;
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Type the command:
<BLOCKQUOTE><CODE>
<PRE>
chmod 755 /usr/bin/bbs
</PRE>
</CODE></BLOCKQUOTE>

</LI>
<LI>Edit <CODE>/usr/lib/binkley/binkley.cfg</CODE> changing the value of the
line <CODE>BoxType</CODE> to <CODE>3</CODE>:

<BLOCKQUOTE><CODE>
<PRE>
[...]
BoxType 3
[...]
</PRE>
</CODE></BLOCKQUOTE>

</LI>
</UL>
</P>


<HR>
<A HREF="feddi.howto-4.html">Previous</A>
<A HREF="feddi.howto-6.html">Next</A>
<A HREF="feddi.howto.html#toc5">Table of Contents</A>
</BODY>
</HTML>
