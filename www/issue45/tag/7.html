<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.2M.l">
<TITLE>The Answer Guy 45: Virtual E-mail Domains</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H4>"The Linux Gazette...<I>making Linux just a little more fun!</I>"</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Guy</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	LinuxCare,
	<A HREF="http://www.linuxcare.com/">http://www.linuxcare.com/</A> 
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 7 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Virtual E-mail Domains</H3>


<p><strong>From Netvigator  on Fri, 20 Aug 1999  
</strong></p>
<!-- ::
Virtual E-mail Domains
~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
Dear Answerguy,
</STRONG></P>
<P><STRONG>
I recently install RH6 and use linuxconf to add virtual email
domain as well as POP3 account. I test it with sending email to
that virtual email domain and sucessfull without returning
mail. However, I cannot retrieve mail using POP3. Can you give me
any idea about that ? (The DNS setup is OK since the Web virtual
domain can function properly).
</STRONG></P>
<P><STRONG>
Regards
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
When you send mail to the account into which
you are funneling this virtual e-mail domain traffic,
is the spool file created under <TT>/var/spool/mail/?</TT>
</BLOCKQUOTE>
<BLOCKQUOTE>
Is it a normal mbox file (a text file with a series of
e-mail messages concatenated together, delimited by lines
of the form <tt>^From ....*</tt>)?
</BLOCKQUOTE>
<BLOCKQUOTE>
Does your POP daemon work for any of your other accounts?
</BLOCKQUOTE>
<BLOCKQUOTE>
What mail client are you using?  Does '<tt>fetchmail</tt>' work
when you use it to fetch your POP mail from localhost?
</BLOCKQUOTE>
<BLOCKQUOTE>
Are there any messages in <TT>/var/log/messages</TT> that might be
related to any of this?
</BLOCKQUOTE>
<BLOCKQUOTE>
You'll have to at least isolate the problem to the MTA (mail
transport agent, presumably <tt>sendmail</tt>) or the MSA (mail
storage agent: presumably UW's IMAP/POP3 daemon package), or
the client/delivery agents (<tt>procmail</tt>, <tt>fetchmail</tt>, 
or whatever you're using).
</BLOCKQUOTE>
<BLOCKQUOTE>
Once you've isolated a problem down to the relevant
subsystem you can then work on isolating it to a specific
operation.  Is your POP3 daemon being started by  TCP
wrappers, tcpd (almost certainly)?  Is tcpd preventing the
access from your client (quite a common problem)?
</BLOCKQUOTE>
<BLOCKQUOTE>
The fact that this is being done through <tt>linuxconf</tt> doesn't
offer me any clues.  I've only played with linuxconf very
briefly, and so far I don't like it and wouldn't trust it
to set up a virtual e-mail domain.
</BLOCKQUOTE>
<BLOCKQUOTE>
Is it generating a <tt>.mc</tt> file for sendmail?  I don't want to
see a <tt>sendmail.cf</tt> --- those are too long and too tedious to
read.  However, if the mbox file(s) are being properly
created under <TT>/var/spool/mail</TT> as you expect then you don't
need to worry about the MTA at all.
</BLOCKQUOTE>
<BLOCKQUOTE>
Incidentally, the fact that your virtually hosted web server
works doesn't actually eliminate the possibility of DNS
problems.  It could be that you have MX records pointing to
never-never-land.  Those would take precedence over the
A records (which are all that are required for web browsers
to resolve your server's IP address).
</BLOCKQUOTE>
<BLOCKQUOTE>
Try doing a bit of troubleshooting to isolate the
symptoms in more detail.  That will probably make the
problem more clear and suggest a solution.
</BLOCKQUOTE>
<!-- sig -->

<!-- end 7 -->
<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 1999, James T. Dennis 
<BR>Published in <I>The Linux Gazette</I> Issue 45 September 1999</H5>
<H6 ALIGN="center">HTML transformation  by
	<A HREF="mailto:star@starshine.org">Heather Stern</a> of
	Starshine Technical Services,
	<A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H6>
<P> <hr> <P>
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<TABLE WIDTH="98%"><TR VALIGN="center" ALIGN="center">
<TD ROWSPAN="2" COLSPAN="2" WIDTH="42%"><A 
	HREF="../lg_answer45.html"
	><IMG SRC="../../gx/dennis/answernew.gif"
              ALT="[ Answer Guy Index ]"></A></td>
  <TD WIDTH="14%"><A HREF="1.html">1</A></TD>
  <TD WIDTH="14%"><A HREF="2.html">2</A></TD>
  <TD WIDTH="14%"><A HREF="3.html">3</A></TD>
  <TD WIDTH="14%"><A HREF="4.html">4</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="14%"><A HREF="5.html">5</A></TD>
  <TD WIDTH="14%"><A HREF="6.html">6</A></TD>
  <TD WIDTH="14%"><A HREF="7.html">7</A></TD>
  <TD WIDTH="14%"><A HREF="8.html">8</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="9.html" >9</A></TD>
  <TD><A HREF="10.html">10</A></TD>
  <TD><A HREF="11.html">11</A></TD>
  <TD><A HREF="12.html">12</A></TD>
  <TD><A HREF="13.html">13</A></TD>
</TR></TABLE>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> <P>
<!-- begin lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"
	><IMG SRC="../../gx/indexnew.gif" ALT="[ Table Of Contents ]"></A>
<A HREF="/index.html"
	><IMG SRC="../../gx/homenew.gif" ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes45.html"
	><IMG SRC="../../gx/back2.gif" ALT="[ Previous Section ]"></A>
<A HREF="../lg_tips45.html"
	><IMG SRC="../../gx/fwd.gif" ALT="[ Next Section ]"></A>
<!-- end lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
