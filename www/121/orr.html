
<html>
<head>
<link href="../lg.css" rel="stylesheet" type="text/css" media="screen, projection"  />
<link rel="shortcut icon" href="../favicon.ico" />
<title>DNS definitions LG #121</title>

<style type="text/css" media="screen, projection">
<!--

-->
</style>

<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" />

</head>

<body>


<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
<p id="fun">...making Linux just a little more fun!</p>


<div class="content articlecontent">

<div id="previousnexttop">
<A HREF="moen.html" >&lt;-- prev</A> | <A HREF="savage.html" >next --&gt;</A>
</div>



<h1>DNS definitions</h1>
<p id="by"><b>By <A HREF="../authors/orr.html">Mike Orr (Sluggo)</A></b></p>

<p>
<p>DNS administrators often speak of <em>master/slave</em> servers,
<em>primary/secondary</em> servers, and
<em>authoritative/non-authoritative</em> servers. These do not all
mean the same thing but are often confused, both due to ignorance
and because the official usage has changed over time. So the person
you're speaking with may match any term with any of the meanings
below, and you'll have to figure out from context what he means.
This also means you should explain the term with anybody you're
speaking with, or at least put a few words of context so they know
which meaning you intend. Note that all these terms are
domain-specific. A server can be master for one domain while
simultaneously being slave for another domain.</p>

<h4>master/slave</h4>
A <strong>master</strong> server knows about a domain from its own
configuration files. A <strong>slave</strong> server knows because
a master has told it. The slave is configured to retrieve that
particular domain from a certain master, either through a DNS zone
transfer or out-of-band (via 'rsync' or another mechanism.)
Master/slave is a private relationship between the servers; neither
the registrar nor the public know which IP is in the slave's
configuration file, or even that it is a slave. A slave's "master"
may in fact be slave to another master.

<h4>authoritative/non-authoritative</h4>
An <strong>authoritative</strong> server is listed at the registrar
as having the official information for that domain. A
<strong>non-authoritative</strong> server has the information
because it earlier asked an authoritative server and cached the
answer. You might say, "All slave servers are non-authoritative,"
but this is misleading. Slave servers contact their masters
directly, while non-authoritative servers query the DNS hierarchy.

<h4>primary/secondary</h4>
These unfortunate terms were used for master/slave in earlier
versions of BIND. However, some people think the primary is the
first nameserver IP listed at the registrar, and any others others
are secondary. In fact, all the nameserver IPs are equal and
"authoritative"; the first one does not have a special status.
Still other people think primary means the nameserver listed in the
zonefile's SOA header, and others think primary means "the domain I
personally edit". So avoid the terms primary/secondary. If you do
use them (and it's hard not to let them slip out), take care to
explain what you mean.

<p>When I originally set up a domain for a nonprofit organization,
I thought the first IP listed at the registrar had to be a master,
and the others had to be slaves or the zone transfers wouldn't work
properly. This turned out to be hogwash. A "hidden master" is
actually quite common. That's where the real records are kept at a
private or unadvertised server, and all the authoritative servers
are slaves. This protects you from attacks: the cracker can get the
money but he can't get the family silverware.</p>

<p>A question that comes up in those cases is "what value do I put
in the SOA record?" (the item at the top of a DNS zone that tells
which computers have the original configuration data). Traditional
practice is to list the masters, but that is what you would
<strong>not</strong> do if you really wanted to hide the masters.
No DNS program actually uses the SOA value for anything as far as
we know; it's more a note to humans than anything else, so you can
use it to cue yourself, or your fellow system administrators, in whatever way
you prefer.</p>


</p>


<!-- *** BEGIN author bio *** -->
<P>&nbsp;
<P>
<!-- *** BEGIN bio *** -->
<hr>
<P>
<IMG ALT="picture" SRC="../gx/2003/authors/orr.jpg" WIDTH="235" HEIGHT="333" ALIGN="left"  HSPACE="10" VSPACE="10" class="bio">
<em>
Mike is a Contributing Editor at <I>Linux Gazette</I>. He has been a
Linux enthusiast since 1991, a Debian user since 1995, and now Gentoo.
His favorite tool for programming is Python.  Non-computer interests include
martial arts, wrestling, ska and oi! and ambient music, and the international
language Esperanto.  He's been known to listen to Dvorak, Schubert,
Mendelssohn, and Khachaturian too.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2005, Mike Orr (Sluggo). Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication license</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 121 of Linux Gazette, December 2005
</p>

</div>


<div id="previousnextbottom">
<A HREF="moen.html" >&lt;-- prev</A> | <A HREF="savage.html" >next --&gt;</A>
</div>


</div>






<div id="navigation">

<a href="../index.html">Home</a>
<a href="../faq/index.html">FAQ</a>
<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="../contact.html">Contact Us</a>

</div>



<div id="breadcrumbs">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">December 2005 (#121)</a> &gt; 
Article

</div>





<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>




</body>
</html>

