<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>Ten Tips to Harden Your Website LG #180</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="../lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="../lg.rdf" />
<!-- link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" / -->
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/listinfo.cgi">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">November 2010 (#180)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="silva.html" >&lt;-- prev</A> | <A HREF="collinge.html" >next --&gt;</A>
</div>

<h1>Ten Tips to Harden Your Website</h1>
<p id="by"><b>By <a href="../authors/temme.html">Sander Temme</a></b></p>

<p class="editorial">
Sander will be presenting &#8220;Hardening Enterprise Apache Installations
Against Attacks&#8221; and is Apache HTTP Server Track Chair at <a
href="http://na.apachecon.com/">ApacheCon</a>, the ASF&#8217;s official
conference, training, and expo, taking place 1-5 November 2010 in Atlanta,
Georgia.
</p>

<hr>

<h3>Introduction</h3>

<p>
Websites are under continuous attack. Defacement, malware insertion and
data theft are but a few of motivators for the attackers, and anyone who
runs an Internet-facing website should be prepared to defend themselves.
</p>

<p>
Website owners have many tools at their disposal with which to thwart
online attackers; entire books have been written about this
field. Here are ten tips that will quickly improve the security of your
website.
</p>

<h3> 1. Harden your Operating System</h3>

<p>
The default installation of your server operating system likely comes
with a number of features you would not use. Turn off operating system
services that are not used by your web application. Be especially wary of
running anything that exposes a network listener (a network listener is a
system task that listens on a given network port for incoming client
connections). Uninstall software
packages you do not use, or opt not to install them in the first
place: the smaller your software installation, the smaller the attack
surface. Use the extra security features offered by your operating system
like SELinux or BSD securelevel. For instance, default SELinux
configuration on Red Hat Enterprise Linux strikes a good balance where
server programs that listen on the network are locked down tightly (which
makes sense), but regular system maintenance utilities have the run of the
system (because locking them down would be very complex to configure and
maintain).
</p>

<h3>2. Use Software and Operating System that You can Maintain</h3>

<p>
The idea that one vendor&#8217;s operating system is inherently more secure
than any others is largely a myth. You do not achieve increased security
just by picking an operating system and then forgetting about it. Every
operating system environment is subject to vulnerabilities, which get fixed
and patched over time. Run your website on an operating system that you and
your organization are comfortable maintaining and patching: a well
maintained, up-to-date Windows server may well be more secure than a stale,
unmaintained Linux installation. Your task is to maintain and defend your
website, not to engage in a religious war of one operating system versus
another.
</p>

<h3>3. Slim Down your Server Software</h3>

<p>
When first installed, the default configuration of server software is
often intended to be a feature showcase, rather than an Internet facing
deployment. Turn off unused Apache modules. Slim down your server
configuration file: only include configuration directives for functionality
that you actually use. Remove sample code, default accounts and manual
pages: install those on your development system. Turn off all error
reporting to the browser. A lean server configuration is easier to manage,
and presents attackers with less opportunity.
</p>

<h3>4. Access your Management Interface over SSL</h3>

<p>
Many website environments and Content Management Systems are managed
through an interface that is part of the website itself. Consider running
this part of your site over SSL to protect login credentials and other
sensitive data. An SSL-enabled website is protected by a cryptographic key
and certificate that identify the server. You do not need to buy an
expensive certificate to do this: generate your own certificate and add it to the
trusted certificate store of your browser: as website manager, you are the
only one who needs to trust your own certificate. Content Management
Systems like Wordpress allow you to enable SSL on the management interface
with a few configuration settings. Encrypting management connections with
SSL is an effective way to protect your all-important login credentials.

</p>

<h3>5. White-list Allowed Actions, Blacklist Attacks</h3>

<p>
As site manager, you should know which legitimate HTTP
operations users can perform on your site. Ideally, you should treat any
other action as hostile, and deny it. Unfortunately, this is not always
feasible or politically achievable: you may have inherited an environment
in which all the valid URL and operation combinations are simply unknown,
and aggressive restrictions may interfere with business operations. On the
Apache web server, you can use a Web Application Firewall like ModSecurity
by Ivan Ristic to allow and disallow access to particular URLs and actions.
Other web server software packages provide similar features. If you are
unable to white-list allowed actions, you should be able to blacklist
attacks as you see them happen.
</p>

<h3>6. Use a Firewall</h3>

<p>
After a web application is compromised, the attackers will often attempt
to have the application download additional malware. Or, installed malware
may connect to a command-and-control server hosted elsewhere. Generally, a
web application should only respond to incoming requests, and not be
allowed to make outgoing TCP connections. This makes server maintenance a
little more cumbersome, but it is a small price to pay for stopping
attackers&#8217; operations.
</p>

<h3>7. Keep your Software Up-to-date</h3>

<p>
Vulnerabilities are discovered on a regular basis in
every operating system and on all application platforms. Fortunately, once
discovered, they are usually fixed reasonably swiftly. Be sure to keep your
system and software up-to-date and install all vendor patches.
</p>

<h3>8. Peruse your Logs</h3>

<p>
Your web server will log every request it handles, and will note any
errors that occur. An attempt to attack your web server will likely leave a
rash of error messages in your server logs, and you should monitor those
logs on a regular basis to see how you are being attacked. Log monitoring
can also reveal URLs and operations that initiate attacks and should be
blacklisted.
</p>

<h3>9. Prevent Writing to Document Root</h3>

<p>
Your website might serve two types of content: content that you put
there, and content that someone else puts there unbeknownst to you. The
Internet-facing network listener that provides access to your application
is its lifeline: without it your application would not be usable. However,
it is also an attack vector. Through specially crafted HTTP requests,
attackers will probe vulnerabilities in your application and configuration.
They will try to upload content or scripts to your website: if they can get
a PHP script uploaded and call it through the web server, it runs with the
same privileges as the web server program and can likely be used to wreak
havoc.
</p>

<p>
Content Management Systems like Joomla! and Wordpress allow site
managers to upload and update plug-ins, and in some cases, to configure the
server-side software through a web browser. This makes these packages
really easy to use, but the drawback is that the web server program must be
able to write to the server directories that contain the software. This
capability is easily abused by intruders. Never allow the web server
program to write to directories within the URL space of the site, where
uploaded content can be served and possibly called as interpreted scripts.
Instead, upload your software and plug-ins through an out-of-band mechanism
like SSH or SFTP.
</p>

<h3>10. Use One Time Passwords</h3>

<p>
Abuse of login credentials is often a more successful attack method than
exploitation of software vulnerabilities. Active Internet users often have
dozens of User IDs and passwords on dozens of different websites. Expecting
users to follow the recommendations concerning password strength and change
frequency is unrealistic.
</p>

<p>
However, if there is one site for which you use strong passwords that
you change on a regular basis, make it your own website management
interface.
</p>

<p>
An even better way to protect login credentials is through use of One
Time Passwords. This method lets you calculate a new password for every
time you log into your site management interface, based on a challenge sent
by the site and a PIN that only you know. Programs to calculate One Time
Passwords are available for all operating systems, including smart phones,
so you can carry your OTP generator with you and separate it from the
network interaction with your website. Since an OTP can never be used
twice, this technique makes your website management interface immune to
keystroke loggers and network sniffers: even if your login information is
sniffed or captured, the attackers cannot re-use it.
</p>

<h3>Conclusion: Use &#8220;The CLUB&trade;&#8221;</h3>

<p>
The CLUB&trade; is a lock that you put on the steering wheel of your car as you
park it. It is inexpensive and clearly visible to anyone who might consider
breaking into your car and stealing it. In addition, it will encourage
miscreants to skip your car and move on to a car that does not have a
visible security device. Making your own car a less attractive target is a
highly effective security control technique.
</p>

<p>
There is a clear analogy to the CLUB&trade; for defending your website: with
a few relatively simple measures like the ones described above, you can
thwart the scripts that automatically scan the web for vulnerable sites,
and have their owners focus their attention on the many, many websites that
lack basic protection.
</p>

<p>
Of course basic protective measures do not absolve you entirely: your
website is likely up 24/7 and unlike car thieves, who operate in a public
place, web attackers have all the time in the world to quietly pick away at
the locks on your website until they find a weakness they can exploit. As a
webmaster, you need to plug all the holes, but the villains need to find
only one leak. Therefore, your continued vigilance is required and the tips discussed
above should give you a good start.
</p>

<br clear="all" />

<table align='center' cellspacing='10'>
<tr>
<td>
<script type='text/javascript'>
digg_url = 'http://linuxgazette.net/180/temme.html';
digg_title = 'Ten Tips to Harden Your Website';
digg_bodytext = '<p> Websites are under continuous attack. Defacement, malware insertion, and data theft are but a few of motivators for the attackers, and anyone who runs an Internet-facing website should be prepared to defend themselves. </p> ';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
</td>
<td>
<a name="fb_share" type="box_count" href="http://www.facebook.com/sharer.php">Share</a>
<script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share" type="text/javascript"></script>
</td>
<td>
<a href="http://twitter.com/home?status=Currently%20reading:%20http://linuxgazette.net/180/temme.html%20at%20Linux%20Gazette%20%23linuxgazette" title="Click to share this post on Twitter"><img src="../gx/twitter.png" width="50" height="85" border="0"></a>
</td>
</tr>
</table>


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:180/temme.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/temme.jpg" class="bio">
</p>

<em>
<p>
Sander Temme is an Enterprise Solutions Engineer for Thales E-security,
 whose clients include Fortune 500 companies, financial services
 companies and government agencies. He is a member of the Apache Software
 Foundation and is active in the httpd, Infrastructure and Gump projects.
</p>
</em>

<br clear="all">


<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2010, Sander Temme. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 180 of Linux Gazette, November 2010
</p>

</div>

<div id="previousnextbottom">
<A HREF="silva.html" >&lt;-- prev</A> | <A HREF="collinge.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

