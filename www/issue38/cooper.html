<!--startcut ==========================================================-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<title>Adding a Second IDE Hard Drive LG #38</title>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!--endcut ============================================================-->

<H4>
"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>

<P> <HR> <P> 
<!--===================================================================-->

<center>
<H1><font color="maroon">Adding a Second IDE Hard Drive to Your System</font></H1>
<H4>By <A HREF="mailto:thegrendel@theriver.com">Mendel Leo Cooper</A></H4> 
</center>
<P> <HR> <P>  

<FONT SIZE=2 COLOR=#000000>
Consider the advantages of adding a second drive to your system. True,
replacing your present drive with a new, low cost, high capacity one
would seem a better alternative, but...  If you can pick up a used 1.3
gig drive for a coupla bucks at a flea market or you local computer
dealer (he might have accepted it as a trade-in), then this is indeed
the cheapest way to upgrade your storage capacity. If you are planning
to update the kernel on a production system, but are afraid of breaking
some of your apps, then it is a simple matter to copy your entire ~/,
/etc, and /usr directories to the second drive, where they would remain
pristine and untouched by the upgrade. If a few hundred megs would tide
you over for a few months, until you finish paying off your new patio
or gambling debts, then save those bucks until next year, when 20 gig
IDE drives will be a loss leader at your local "Five 'n Dime".
</FONT>

<BR><BR><BR><BR>

<H5>


<OL>

<LI>The physical mount.
<PRE>
     Copy down the specs from the label on the drive.
     Make sure it's jumpered as "slave".
     Mount the drive in a spare drive bay, securing it with several screws.
     Attach an IDE cable from the IDE port on the motherboard.
</PRE>
     
<LI>Update the BIOS with the info for the new drive.
<PRE>
     It may autodetect, but don't count on it. Check the BIOS settings to make
     certain. Setting the 'LBA' option not necessary.
</PRE>

<LI>Partitioning.
<PRE>
     Boot up Linux and partition the new drive:
     As root, fdisk /dev/hdb.
     [primary partition, Linux native]
</PRE>

<LI>Format the new drive.
<PRE>
     mke2fs -cv /dev/hdb1
     [verbose output and check for bad blocks]
</PRE>

<LI>Create a mount point.
<PRE>
     Decide where you will be mounting it and create a mount point.
     For example, if you will mount it as /mnt/drive2, as root,
         cd /mnt
         mkdir drive2
         chmod 777 drive 2
         [makes the new drive accessible to ordinary users.]
</PRE>

<LI>Testing.
<PRE>
     As root, mount -t ext2 /dev/hdb1 /mnt/drive2.
     If no error messages, cd /mnt/drive2, and try creating a directory and
     writing a couple of files.
     If it works, hurray!
     Continue to the final steps.
</PRE>

<LI>Modify /etc/fstab.
<PRE>
     Add the following line to /etc/fstab:
     /dev/hdb1         /mnt/drive2          ext2    defaults     1 1
</PRE>

<LI>Reboot and see if the new drive automounts.

</OL>

</H5>

<BR><BR><BR>

<FONT SIZE=1 COLOR=#000000>

The <A
HREF="http://metalab.unc.edu/LDP/HOWTO/mini/Hard-Disk-Upgrade.html">Hard-Disk-Upgrade
miniHOWTO</A>, by <A HREF="mailto:an@ottawa.com"> Yves Bellefeuille</A>
contains some of the above info, but in a somewhat different context. In
any case, the author of this article figured out how to do it mostly by
<I>trial and error</I> and read the miniHOWTO after the fact.

</FONT>

<!--===================================================================-->
<P> <hr> <P> 
<center><H5>Copyright &copy; 1999, Mendel Leo Cooper <BR> 
Published in Issue 38 of <i>Linux Gazette</i>, March 1999</H5></center>

<!--===================================================================-->
<P> <hr> <P> 
<A HREF="./index.html"><IMG ALIGN=BOTTOM SRC="../gx/indexnew.gif" 
ALT="[ TABLE OF CONTENTS ]"></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../gx/homenew.gif"
ALT="[ FRONT PAGE ]"></A>
<A HREF="./lg_tips38.html"><IMG SRC="../gx/back2.gif"
ALT=" Back "></A>
<A HREF="./pollman.html"><IMG SRC="../gx/fwd.gif" ALT=" Next "></A>
<P> <hr> <P> 
<!--startcut ==========================================================-->
</BODY>
</HTML>
<!--endcut ============================================================-->
