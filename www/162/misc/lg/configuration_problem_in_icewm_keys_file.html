<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>configuration problem in icewm keys file</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>configuration problem in icewm keys file</h3>
<p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Sat, 4 Apr 2009 12:19:45 +0530</b>
</p>

<p>
Hello,
</p>

<p>
I have a working configuration at .icewm/toolbar to take screen shot
</p>

<pre>
----------------------------------------
prog "screenshot" /usr/share/pixmaps/khelpcenter-16.xpm  scrot -s -q
100 -e 'feh $f'
------------------------------------------------
</pre>

<p>
I have put the same configuration in a shell script and it also has the
u+x permission. I manually executed it and it worked as expected. Now I
have create a rule in .icewm/keys like
</p>

<pre>
---------------------------------
# Super is the microsoft key at key board
 
key "Super+g" grun
key "Super+Power" gmrun
key "Super+s" /home/joy/call
 
----------------------------------
</pre>

<p>
But this time it is not working any more. Though the configuration from
toolbar as well as the script is working well. My other key combination
is also working well except the above screenshot. What might be the
problem here ?
</p>

<p>
Thanks
</p>

<p>
PS: Kindly CC me
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sat, 4 Apr 2009 10:05:04 -0400</b>
</p>

<p>
On Sat, Apr 04, 2009 at 12:19:45PM +0530, J. Bakshi wrote:
</p>

<pre>
&gt; Hello,
&gt; 
&gt; I have a working configuration at .icewm/toolbar to take screen shot
&gt; 
&gt; ----------------------------------------
&gt; prog "screenshot" /usr/share/pixmaps/khelpcenter-16.xpm  scrot -s -q
&gt; 100 -e 'feh $f'
&gt; ------------------------------------------------
</pre>

<p>
Presumably, that's all on one line. It certainly should be.
 
</p>

<pre>
&gt; I have put the same configuration in a shell script and it also has the
&gt; u+x permission. I manually executed it and it worked as expected. Now I
&gt; have create a rule in .icewm/keys like
&gt; 
&gt; ---------------------------------
&gt; # Super is the microsoft key at key board
&gt; 
&gt; key "Super+g" grun
&gt; key "Super+Power" gmrun
&gt; key "Super+s" /home/joy/call
&gt; ----------------------------------
&gt; 
&gt; But this time it is not working any more. Though the configuration from
&gt; toolbar as well as the script is working well. My other key combination
&gt; is also working well except the above screenshot. What might be the
&gt; problem here ?
</pre>

<p>
Good question. Does the "Super+s" combination actually work? Try it with
a program that'll definitely run - e.g., "xeyes". In the past, I've also
found that some hot-key systems (not the one in IceWM - this was in
GNOME) will not run a script that doesn't have a shebang at the top. You
might want to try that, just in case.
</p>

<p>
Also, just as a general principle, you shouldn't scatter your scripts
all over the place - you'll never remember where to find them later. I
suggest you create a "/home/joy/bin" subdirectory, add it to your PATH,
and place your scripts in there. Anything that you want to make
available to all the users on your system (assuming that you have root
access) should go into /usr/local/bin.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Sat, 4 Apr 2009 17:34:45 +0100</b>
</p>

<p>
2009/4/4 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
</p>

<pre>
&gt; On Sat, Apr 04, 2009 at 12:19:45PM +0530, J. Bakshi wrote:
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; I have a working configuration at .icewm/toolbar to take screen shot
&gt;&gt;
&gt;&gt; ----------------------------------------
&gt;&gt; prog "screenshot" /usr/share/pixmaps/khelpcenter-16.xpm  scrot -s -q
&gt;&gt; 100 -e 'feh $f'
&gt;&gt; ------------------------------------------------
&gt;
&gt; Presumably, that's all on one line. It certainly should be.
&gt;
&gt;&gt; I have put the same configuration in a shell script and it also has the
&gt;&gt; u+x permission. I manually executed it and it worked as expected. Now I
&gt;&gt; have create a rule in .icewm/keys like
&gt;&gt;
&gt;&gt; ---------------------------------
&gt;&gt; # Super is the microsoft key at key board
&gt;&gt;
&gt;&gt; key "Super+g" grun
&gt;&gt; key "Super+Power" gmrun
&gt;&gt; key "Super+s" /home/joy/call
&gt;&gt; ----------------------------------
&gt;&gt;
&gt;&gt; But this time it is not working any more. Though the configuration from
&gt;&gt; toolbar as well as the script is working well. My other key combination
&gt;&gt; is also working well except the above screenshot. What might be the
&gt;&gt; problem here ?
&gt;
&gt; Good question. Does the "Super+s" combination actually work? Try it with
&gt; a program that'll definitely run - e.g., "xeyes". In the past, I've also
&gt; found that some hot-key systems (not the one in IceWM - this was in
&gt; GNOME) will not run a script that doesn't have a shebang at the top. You
&gt; might want to try that, just in case.
</pre>

<p>
The way to debug this is to post the output of:
</p>

<pre>
xmodmap -pm
</pre>

<p>
And to then use "xev" to determining what the key combinations are.
</p>

<p>
-- Thomas Adam
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Sun, 5 Apr 2009 12:33:28 +0530</b>
</p>

<p>
On Sat, 4 Apr 2009 17:34:45 +0100
Thomas Adam &lt;thomas.adam22@gmail.com&gt; wrote:
</p>


<pre>
&gt; The way to debug this is to post the output of:
&gt; 
&gt; ``
&gt; xmodmap -pm
&gt; ''
&gt; 
&gt; And to then use "xev" to determining what the key combinations are.
</pre>

<p>
Fantastic tip, It will help me know how the special keys are represented.
Thanks a lot <img src="../gx/smile.png" alt=":-)">
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Sun, 5 Apr 2009 12:47:40 +0530</b>
</p>

<p>
On Sat, 4 Apr 2009 10:05:04 -0400
Ben Okopnik &lt;ben@linuxgazette.net&gt; wrote:
</p>


<pre>
&gt; On Sat, Apr 04, 2009 at 12:19:45PM +0530, J. Bakshi wrote:
&gt; &gt; Hello,
&gt; &gt; 
&gt; &gt; I have a working configuration at .icewm/toolbar to take screen shot
&gt; &gt; 
&gt; &gt; ----------------------------------------
&gt; &gt; prog "screenshot" /usr/share/pixmaps/khelpcenter-16.xpm  scrot -s -q
&gt; &gt; 100 -e 'feh $f'
&gt; &gt; ------------------------------------------------
&gt; 
&gt; Presumably, that's all on one line. It certainly should be.
</pre>

<p>
Yes it is in one line in my script
</p>


<pre>
&gt;  
&gt; &gt; I have put the same configuration in a shell script and it also has
&gt; &gt; the u+x permission. I manually executed it and it worked as
&gt; &gt; expected. Now I have create a rule in .icewm/keys like
&gt; &gt; 
&gt; &gt; ---------------------------------
&gt; &gt; # Super is the microsoft key at key board
&gt; &gt; 
&gt; &gt; key "Super+g" grun
&gt; &gt; key "Super+Power" gmrun
&gt; &gt; key "Super+s" /home/joy/call
&gt; &gt; ----------------------------------
&gt; &gt; 
&gt; &gt; But this time it is not working any more. Though the configuration
&gt; &gt; from toolbar as well as the script is working well. My other key
&gt; &gt; combination is also working well except the above screenshot. What
&gt; &gt; might be the problem here ?
&gt; 
&gt; Good question. Does the "Super+s" combination actually work? Try it
&gt; with a program that'll definitely run - e.g., "xeyes". In the past,
&gt; I've also found that some hot-key systems (not the one in IceWM -
&gt; this was in GNOME) will not run a script that doesn't have a shebang
&gt; at the top. You might want to try that, just in case.
</pre>

<p>
yes the combination is working as I already tested it with aterm like
key "Super+s" aterm
</p>


<pre>
&gt; 
&gt; Also, just as a general principle, you shouldn't scatter your scripts
&gt; all over the place - you'll never remember where to find them later. I
&gt; suggest you create a "/home/joy/bin" subdirectory, add it to your
&gt; PATH, and place your scripts in there. Anything that you want to make
&gt; available to all the users on your system (assuming that you have root
&gt; access) should go into /usr/local/bin.
</pre>

<p>
 
Thanks. I have already implemented as per your suggestion i.e. I have
moved all my script in bin folder under my home folder. I have also put
"#! /bin/bash " at the top of my script but no success yet.
Interestingly if I modified my script like  
</p>

<pre>
 key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'" 
</pre>

<p>
I can see that aterm appears just for a moment and then disappears. So
the key combination successfully call the aterm but for an unknown
reason the rest part is not executed.
</p>

<p>
I have no clue to this problem
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Sun, 5 Apr 2009 13:07:34 +0530</b>
</p>

<p>
On Sun, 5 Apr 2009 12:47:40 +0530
"J. Bakshi" &lt;j.bakshi@unlimitedmail.org&gt; wrote:
</p>


<pre>
&gt; Thanks. I have already implemented as per your suggestion i.e. I have
&gt; moved all my script in bin folder under my home folder. I have also
&gt; put "#! /bin/bash " at the top of my script but no success yet.
&gt; Interestingly if I modified my script like  
&gt; 
&gt;  key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'" 
</pre>

<p>
sorry for the type mistake
</p>

<p>
it is
</p>

<p>
key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'
</p>

<p>
I added an extra " before during type.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 08:44:22 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 12:47:40PM +0530, J. Bakshi wrote:
</p>

<pre>
&gt; 
&gt; Thanks. I have already implemented as per your suggestion i.e. I have
&gt; moved all my script in bin folder under my home folder. I have also
&gt; put "#! /bin/bash " at the top of my script but no success yet.
&gt; Interestingly if I modified my script like  
&gt; 
&gt;  key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'" 
</pre>

<p>
Ah - I've just spotted your problem. You've got an extra double-quote at
the end of the line.
</p>


<pre>
&gt; I can see that aterm appears just for a moment and then disappears. So
&gt; the key combination successfully call the aterm but for an unknown
&gt; reason the rest part is not executed.
</pre>

<p>
It sounds like it <em>is</em> executed, but exits immediately - which would
make 'aterm' exit as well.
</p>

<p>
For future reference, here's a tool I use to troubleshoot "xterm
-e"-type interactions:
</p>

<pre>
echo -e \#\!"`which bash`\n\$@\nread" &gt; ~/bin/hold; chmod +x bin/hold
</pre>

<p>
This will create a script called 'hold', which will stop your 'aterm -e'
from exiting, so you can see the error. To troubleshoot, run your
program like this:
</p>

<p>
<pre class='code'>
aterm -e hold scrot -s -q 100 -e 'feh $f'
</pre>

<p>
This will exec scrot, but leave the terminal open so you can see what
failed.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 08:48:41 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 01:07:34PM +0530, J. Bakshi wrote:
</p>

<pre>
&gt; &gt; 
&gt; &gt;  key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'" 
&gt; 
&gt; sorry for the type mistake
&gt; 
&gt; it is
&gt; 
&gt; key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'
&gt; 
&gt; I added an extra " before during type.
</pre>

<p>
Well, that's why I added the other explanation as well.
</p>

<p>
Joydeep, you need to make sure that you always COPY AND PASTE errors -
don't <strong>ever</strong> retype them. In the absolutely worst case - e.g., errors
during boot, when there's no way to copy them - use a digital camera,
post the image somewhere, and give us a link. But don't ever retype
errors. If you miss so much as a character, you'll lead everyone down
the wrong path - and you <em>really</em> don't want to annoy the people who are
helping you.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Sun, 5 Apr 2009 13:57:57 +0100</b>
</p>

<p>
2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
</p>

<pre>
&gt; On Sun, Apr 05, 2009 at 12:47:40PM +0530, J. Bakshi wrote:
&gt;&gt;
&gt;&gt; Thanks. I have already implemented as per your suggestion i.e. I have
&gt;&gt; moved all my script in bin folder under my home folder. I have also
&gt;&gt; put "#! /bin/bash " at the top of my script but no success yet.
&gt;&gt; Interestingly if I modified my script like
&gt;&gt;
&gt;&gt;  key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'"
&gt;
&gt; Ah - I've just spotted your problem. You've got an extra double-quote at
&gt; the end of the line.
&gt;
&gt;&gt; I can see that aterm appears just for a moment and then disappears. So
&gt;&gt; the key combination successfully call the aterm but for an unknown
&gt;&gt; reason the rest part is not executed.
&gt;
&gt; It sounds like it <em>is</em> executed, but exits immediately - which would
&gt; make 'aterm' exit as well.
&gt;
&gt; For future reference, here's a tool I use to troubleshoot "xterm
&gt; -e"-type interactions:
&gt;
&gt; ``
&gt; echo -e \#\!"`which bash`\n\$@\nread" &gt; ~/bin/hold; chmod +x bin/hold
&gt; ''
</pre>

<p>
Nice.  I tend to prefer:
</p>

<pre>
xterm -hold -e some_command
</pre>

<p>
Not generaly portable for all terminal emulators, but most of them
(rxvt{,unicode}, xterm, etc) has such an option.
</p>

<p>
-- Thomas Adam
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 09:31:26 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 01:57:57PM +0100, Thomas Adam wrote:
</p>

<pre>
&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt; &gt;
&gt; &gt; For future reference, here's a tool I use to troubleshoot "xterm
&gt; &gt; -e"-type interactions:
&gt; &gt;
&gt; &gt; ``
&gt; &gt; echo -e \#\!"`which bash`\n\$@\nread" &gt; ~/bin/hold; chmod +x bin/hold
&gt; &gt; ''
&gt; 
&gt; Nice.  I tend to prefer:
&gt; 
&gt; ``
&gt; xterm -hold -e some_command
&gt; ''
&gt; 
&gt; Not generaly portable for all terminal emulators, but most of them
&gt; (rxvt{,unicode}, xterm, etc) has such an option.
</pre>

<p>
Yeah, portability is exactly why I use the script. It's useful to know
about '-hold' as well, though.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Sun, 5 Apr 2009 21:03:14 +0530</b>
</p>

<p>
On Sun, 5 Apr 2009 08:50:35 -0400
Ben Okopnik &lt;ben@linuxgazette.net&gt; wrote:
</p>


<pre>
&gt; On Sun, Apr 05, 2009 at 01:07:34PM +0530, J. Bakshi wrote:
&gt; &gt; &gt; 
&gt; &gt; &gt;  key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'" 
&gt; &gt; 
&gt; &gt; sorry for the type mistake
&gt; &gt; 
&gt; &gt; it is
&gt; &gt; 
&gt; &gt; key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'
&gt; &gt; 
&gt; &gt; I added an extra " before during type.
&gt; 
&gt; Well, that's why I added the other explanation as well.
&gt; 
&gt; Joydeep, you need to make sure that you always COPY AND PASTE errors -
&gt; don't <strong>ever</strong> retype them. In the absolutely worst case - e.g., errors
&gt; during boot, when there's no way to copy them - use a digital camera,
&gt; post the image somewhere, and give us a link. But don't ever retype
&gt; errors. If you miss so much as a character, you'll lead everyone down
&gt; the wrong path - and you <em>really</em> don't want to annoy the people who
&gt; are helping you.
&gt; 
&gt; 
</pre>

<p>
I admit, I am really sorry for that.
I'll also check the hints you have suggested and coming back with the feedback.
Once again I'm really sorry for the typing error
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Sun, 5 Apr 2009 22:08:59 +0530</b>
</p>

<p>
On Sun, 5 Apr 2009 08:44:22 -0400
Ben Okopnik &lt;ben@linuxgazette.net&gt; wrote:
</p>


<pre>
&gt; On Sun, Apr 05, 2009 at 12:47:40PM +0530, J. Bakshi wrote:
&gt; &gt; 
&gt; &gt; Thanks. I have already implemented as per your suggestion i.e. I
&gt; &gt; have moved all my script in bin folder under my home folder. I have
&gt; &gt; also put "#! /bin/bash " at the top of my script but no success yet.
&gt; &gt; Interestingly if I modified my script like  
&gt; &gt; 
&gt; &gt;  key "Super+s" aterm -e scrot -s -q 100 -e 'feh $f'" 
&gt; 
&gt; Ah - I've just spotted your problem. You've got an extra double-quote
&gt; at the end of the line.
&gt; 
&gt; &gt; I can see that aterm appears just for a moment and then disappears.
&gt; &gt; So the key combination successfully call the aterm but for an
&gt; &gt; unknown reason the rest part is not executed.
&gt; 
&gt; It sounds like it <em>is</em> executed, but exits immediately - which would
&gt; make 'aterm' exit as well.
&gt; 
&gt; For future reference, here's a tool I use to troubleshoot "xterm
&gt; -e"-type interactions:
&gt; 
&gt; ``
&gt; echo -e \#\!"`which bash`\n\$@\nread" &gt; ~/bin/hold; chmod +x bin/hold
&gt; ''
&gt; 
&gt; This will create a script called 'hold', which will stop your 'aterm
&gt; -e' from exiting, so you can see the error. To troubleshoot, run your
&gt; program like this:
&gt; 
&gt; ```
&gt; aterm -e hold scrot -s -q 100 -e 'feh $f'
&gt; '''
&gt; 
&gt; This will exec scrot, but leave the terminal open so you can see what
&gt; failed.
&gt; 
&gt; 
</pre>

<p>
Thanks for the debugger. It will also help me to debug other command too.
It has helped me to catch the error.
</p>

<p>
First of all I created "hold" script as you shown above. Then I executed
the actual command as
</p>

<p>
<pre class='code'>
joy@debian:~/bin$ aterm -e ~/bin/hold scrot -s -q 100 -e 'feh $f'
</pre>

<p>
and bingo !! aterm is in holding stage. It allow me to take the
sceenshot but after that the error is
</p>

<p>
<pre class='code'>
giblib error: Saving to file  failed
</pre>

<p>
If I delete the feh part ( so it is only aterm -e ./hold scrot -s -q 100
) there is no error message and there is also a image as
"2009-04-05-214611_286x257_scrot.png"
</p>

<p>
Though the command 
</p>

<p>
<pre class='code'>
scrot -s -q 100 -e 'feh $f'
</pre>

<p>
works fine. I am really confused why it is not working with key
combination ( but with toolbar ) and why the error message when
executing with aterm -e !!
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 18:16:28 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 10:08:59PM +0530, J. Bakshi wrote:
</p>

<pre>
&gt; 
&gt; Thanks for the debugger. It will also help me to debug other command too.
&gt; It has helped me to catch the error.
</pre>

<p>
Good! I'm glad that got you further along.
 
</p>

<pre>
&gt; First of all I created "hold" script as you shown above. Then I
&gt; executed the actual command as
&gt; 
&gt; ```
&gt; joy@debian:~/bin$ aterm -e ~/bin/hold scrot -s -q 100 -e 'feh $f'
&gt; '''
&gt; 
&gt; and bingo !! aterm is in holding stage. It allow me to take the
&gt; sceenshot but after that the error is
&gt; 
&gt; ```
&gt; giblib error: Saving to file  failed
&gt; '''
</pre>

<p>
Ah. I just tried it out with "xterm -e", and got exactly the same error.
</p>

<p>
 
</p>

<pre>
&gt; If I delete the feh part ( so it is only aterm -e ./hold scrot -s -q
&gt; 100 ) there is no error message and there is also a image as
&gt; "2009-04-05-214611_286x257_scrot.png"
&gt; 
&gt; Though the command 
&gt; 
&gt; ```
&gt; scrot -s -q 100 -e 'feh $f'
&gt; '''
&gt; 
&gt; works fine. I am really confused why it is not working with key
&gt; combination ( but with toolbar ) and why the error message when
&gt; executing with aterm -e !!
</pre>

<p>
I strongly suspect that the shortcut key processor in IceWM launches a
shell to process the command; in fact, I can't really imagine what else
it could do, given that you can use shell constructs as programs to be
launched. So the above is, unfortunately, a preview of what happens
"inside" IceWM when you try to run your 'scrot' command. As a test, I
just tried it out myself - and got the same result as you (i.e.,
nothing.)
</p>

<p>
The simple solution is to do what I've always done with it (which is, I
suppose, why I never had a problem with it) - make it a toolbar icon.
Just add the following to ~/.icewm/toolbar:
</p>

<p>
<pre class='code'>
prog 'Snap' 'image_16x16.xpm' scrot -s -q 100 -e 'feh $f'
</pre>

<p>
I have something similar, and it's worked fine ever since I set it up.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Sun, 5 Apr 2009 23:26:27 +0100</b>
</p>

<p>
2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
</p>

<pre>
&gt; On Sun, Apr 05, 2009 at 10:08:59PM +0530, J. Bakshi wrote:
&gt;&gt;
&gt;&gt; Thanks for the debugger. It will also help me to debug other command too.
&gt;&gt; It has helped me to catch the error.
&gt;
&gt; Good! I'm glad that got you further along.
&gt;
&gt;&gt; First of all I created "hold" script as you shown above. Then I
&gt;&gt; executed the actual command as
&gt;&gt;
&gt;&gt; ````
&gt;&gt; joy@debian:~/bin$ aterm -e ~/bin/hold scrot -s -q 100 -e 'feh $f'
&gt;&gt; ''''
&gt;&gt;
&gt;&gt; and bingo !! aterm is in holding stage. It allow me to take the
&gt;&gt; sceenshot but after that the error is
&gt;&gt;
&gt;&gt; ```
&gt;&gt; giblib error: Saving to file  failed
&gt;&gt; '''
&gt;
&gt; Ah. I just tried it out with "xterm -e", and got exactly the same error.
</pre>

<p>
Because most terminal emulators won't do their option-parsing in
<strong>serial</strong> with multiple actions.  Hence what you're asking for here is:
</p>

<pre>
xterm -options -e foo &amp;&amp; bar
</pre>

<p>
[..snip..]
</p>

<p>
-- Thomas Adam
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 18:49:21 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 11:26:27PM +0100, Thomas Adam wrote:
</p>

<pre>
&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt; &gt;
&gt; &gt; Ah. I just tried it out with "xterm -e", and got exactly the same error.
&gt; 
&gt; Because most terminal emulators won't do their option-parsing in
&gt; <strong>serial</strong> with multiple actions.  Hence what you're asking for here is:
&gt; 
&gt; ``
&gt; xterm -options -e foo &amp;&amp; bar
&gt; ''
</pre>

<p>
Actually, no: the 'feh $f' is supposed to be an argument to 'scrot'
(clearly, '$f' is not a shell variable of any sort.) The problem happens
because '-e' screws up even that minor level of indirection (i.e., it
strips off the single quotes, and then - oh, <strong>brother</strong>.) To take it a
step back, that's why I wasn't going to tell Joydeep to do
</p>

<pre>
xterm -e 'blah; read'
 
or
 
xterm -e '(blah; read)'
</pre>

<p>
That's the other reason for the 'hold' script vs. the '-hold' option:
the script actually allows you a little more flexibility after the '-e'
since everything that comes after it is interpeted by the shell - a nice
little bonus. The default '-e' processing is abysmally crude, in my
opinion.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Sun, 5 Apr 2009 23:57:38 +0100</b>
</p>

<p>
2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
</p>

<pre>
&gt; On Sun, Apr 05, 2009 at 11:26:27PM +0100, Thomas Adam wrote:
&gt;&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt;&gt; &gt;
&gt;&gt; &gt; Ah. I just tried it out with "xterm -e", and got exactly the same error.
&gt;&gt;
&gt;&gt; Because most terminal emulators won't do their option-parsing in
&gt;&gt; <strong>serial</strong> with multiple actions.  Hence what you're asking for here is:
&gt;&gt;
&gt;&gt; ``
&gt;&gt; xterm -options -e foo &amp;&amp; bar
&gt;&gt; ''
&gt;
&gt; Actually, no: the 'feh $f' is supposed to be an argument to 'scrot'
&gt; (clearly, '$f' is not a shell variable of any sort.) The problem happens
&gt; because '-e' screws up even that minor level of indirection (i.e., it
&gt; strips off the single quotes, and then - oh, <strong>brother</strong>.) To take it a
&gt; step back, that's why I wasn't going to tell Joydeep to do
</pre>

<p>
I thihk we're talking about two different things here -- my example
was poor, but of course still valid.  In your case, as is such an
old-age thing to do, spawn the app in an explicit shell (sh -c).
</p>

<p>
-- Thomas Adam
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 19:08:35 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 11:57:38PM +0100, Thomas Adam wrote:
</p>

<pre>
&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt; &gt; On Sun, Apr 05, 2009 at 11:26:27PM +0100, Thomas Adam wrote:
&gt; &gt;&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Ah. I just tried it out with "xterm -e", and got exactly the same error.
&gt; &gt;&gt;
&gt; &gt;&gt; Because most terminal emulators won't do their option-parsing in
&gt; &gt;&gt; <strong>serial</strong> with multiple actions.  Hence what you're asking for here is:
&gt; &gt;&gt;
&gt; &gt;&gt; ``
&gt; &gt;&gt; xterm -options -e foo &amp;&amp; bar
&gt; &gt;&gt; ''
&gt; &gt;
&gt; &gt; Actually, no: the 'feh $f' is supposed to be an argument to 'scrot'
&gt; &gt; (clearly, '$f' is not a shell variable of any sort.) The problem happens
&gt; &gt; because '-e' screws up even that minor level of indirection (i.e., it
&gt; &gt; strips off the single quotes, and then - oh, <strong>brother</strong>.) To take it a
&gt; &gt; step back, that's why I wasn't going to tell Joydeep to do
&gt; 
&gt; I thihk we're talking about two different things here -- my example
&gt; was poor, but of course still valid.  In your case, as is such an
&gt; old-age thing to do, spawn the app in an explicit shell (sh -c).
</pre>

<p>
What, like this?
</p>

<pre>
xterm -e sh -c scrot -s -q 100 -e 'feh $f'
</pre>

<p>
Sorry, that still won't work. Although setting up the shortcut key
command as "sh -c scrot -s -q 100 -e 'feh $f'" does have <em>some</em> effect:
it takes a full-screen screenshot (instead of the nice 'select a shot
and display the result' functionality that the above is supposed to
provide.)
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 5 Apr 2009 19:18:02 -0400</b>
</p>

<p>
On Sun, Apr 05, 2009 at 07:08:35PM -0400, Benjamin Okopnik wrote:
</p>

<pre>
&gt; On Sun, Apr 05, 2009 at 11:57:38PM +0100, Thomas Adam wrote:
&gt; &gt; 
&gt; &gt; I thihk we're talking about two different things here -- my example
&gt; &gt; was poor, but of course still valid.  In your case, as is such an
&gt; &gt; old-age thing to do, spawn the app in an explicit shell (sh -c).
&gt; 
&gt; What, like this?
&gt; 
&gt; ``
&gt; xterm -e sh -c scrot -s -q 100 -e 'feh $f'
&gt; ''
&gt; 
&gt; Sorry, that still won't work. Although setting up the shortcut key
&gt; command as "sh -c scrot -s -q 100 -e 'feh $f'" does have <em>some</em> effect:
&gt; it takes a full-screen screenshot (instead of the nice 'select a shot
&gt; and display the result' functionality that the above is supposed to
&gt; provide.)
</pre>

<p>
Following up to myself, but:
</p>

<pre>
xterm -e sh -c "/usr/bin/scrot -s -q 100 -e 'feh $f'"
</pre>

<p>
works fine. I figured that <em>some</em> level of fiddling with "sh -c" would
produce a result.
</p>

<p>
Joydeep, you should be able to set up your hot-key combo with this. I'll
let you experiment with it, since I'm busy waging a battle (seems like a
losing one, unfort) to get WiFi working on my new Acer Aspire netbook.
"One time-suck at a time" should be my motto, dammit...
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Mon, 6 Apr 2009 00:24:46 +0100</b>
</p>

<p>
2009/4/6 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
</p>

<pre>
&gt; On Sun, Apr 05, 2009 at 11:57:38PM +0100, Thomas Adam wrote:
&gt;&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt;&gt; &gt; On Sun, Apr 05, 2009 at 11:26:27PM +0100, Thomas Adam wrote:
&gt;&gt; &gt;&gt; 2009/4/5 Ben Okopnik &lt;ben@linuxgazette.net&gt;:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; Ah. I just tried it out with "xterm -e", and got exactly the same error.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Because most terminal emulators won't do their option-parsing in
&gt;&gt; &gt;&gt; <strong>serial</strong> with multiple actions.  Hence what you're asking for here is:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; ``
&gt;&gt; &gt;&gt; xterm -options -e foo &amp;&amp; bar
&gt;&gt; &gt;&gt; ''
&gt;&gt; &gt;
&gt;&gt; &gt; Actually, no: the 'feh $f' is supposed to be an argument to 'scrot'
&gt;&gt; &gt; (clearly, '$f' is not a shell variable of any sort.) The problem happens
&gt;&gt; &gt; because '-e' screws up even that minor level of indirection (i.e., it
&gt;&gt; &gt; strips off the single quotes, and then - oh, <strong>brother</strong>.) To take it a
&gt;&gt; &gt; step back, that's why I wasn't going to tell Joydeep to do
&gt;&gt;
&gt;&gt; I thihk we're talking about two different things here -- my example
&gt;&gt; was poor, but of course still valid.  In your case, as is such an
&gt;&gt; old-age thing to do, spawn the app in an explicit shell (sh -c).
&gt;
&gt; What, like this?
&gt;
&gt; ``
&gt; xterm -e sh -c scrot -s -q 100 -e 'feh $f'
&gt; ''
&gt;
&gt; Sorry, that still won't work. Although setting up the shortcut key
&gt; command as "sh -c scrot -s -q 100 -e 'feh $f'" does have <em>some</em> effect:
&gt; it takes a full-screen screenshot (instead of the nice 'select a shot
&gt; and display the result' functionality that the above is supposed to
&gt; provide.)
</pre>

<p>
No, look at the <strong>quoting</strong> :
</p>

<pre>
xterm -e sh -c "/usr/bin/scrot -q 100 -s -e 'feh $f'"
</pre>

<p>
Or some variation thereof should sort you out.
</p>

<p>
-- Thomas Adam
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Mon, 6 Apr 2009 23:04:19 +0530</b>
</p>

<pre>
&gt; 
&gt; On Sun, Apr 05, 2009 at 07:08:35PM -0400, Benjamin Okopnik wrote:
&gt; &gt; On Sun, Apr 05, 2009 at 11:57:38PM +0100, Thomas Adam wrote:
&gt; &gt; &gt; 
&gt; &gt; &gt; I thihk we're talking about two different things here -- my
&gt; &gt; &gt; example was poor, but of course still valid.  In your case, as is
&gt; &gt; &gt; such an old-age thing to do, spawn the app in an explicit shell
&gt; &gt; &gt; (sh -c).
&gt; &gt; 
&gt; &gt; What, like this?
&gt; &gt; 
&gt; &gt; ``
&gt; &gt; xterm -e sh -c scrot -s -q 100 -e 'feh $f'
&gt; &gt; ''
&gt; &gt; 
&gt; &gt; Sorry, that still won't work. Although setting up the shortcut key
&gt; &gt; command as "sh -c scrot -s -q 100 -e 'feh $f'" does have <em>some</em>
&gt; &gt; effect: it takes a full-screen screenshot (instead of the nice
&gt; &gt; 'select a shot and display the result' functionality that the above
&gt; &gt; is supposed to provide.)
&gt; 
&gt; Following up to myself, but:
&gt; 
&gt; ``
&gt; xterm -e sh -c "/usr/bin/scrot -s -q 100 -e 'feh $f'"
&gt; ''
&gt; 
&gt; works fine. I figured that <em>some</em> level of fiddling with "sh -c" would
&gt; produce a result.
&gt; 
&gt; Joydeep, you should be able to set up your hot-key combo with this.
&gt; I'll let you experiment with it, since I'm busy waging a battle
&gt; (seems like a losing one, unfort) to get WiFi working on my new Acer
&gt; Aspire netbook. "One time-suck at a time" should be my motto,
&gt; dammit...
&gt; 
&gt; 
</pre>
Hello Ben and Thomas,
</p>

<p>
I really enjoyed the discussion. I have come to know many other things
from this discussion.
</p>

<p>
<pre class='code'>
aterm -e sh -c "/usr/bin/scrot -s -q 100 -e 'feh $f'"
</pre>

<p>
works for me too
</p>

<p>
Though it only takes the full screen shot with out preview in feh and
even with key combination it open the terminal.  I hope little more
digging with sh can do the trick. I'll experiment with it.
</p>

<p>
thanks a lot
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-configuration_problem_in_icewm_keys_file">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>