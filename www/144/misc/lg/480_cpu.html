<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>480% CPU?</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>480% CPU?</h3>
<p>
<b><p>
Neil Youngman [ny at youngman.org.uk]

</p>
</b><br />
<b>Mon, 22 Oct 2007 13:07:52 +0100</b>
</p>

<p>
Would anyone care to hazard a guess why top is claiming that the top 3 process 
are between them using 480% CPU on a dual core box?
</p>

<p>
Neil
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-480_cpu">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Mon, 22 Oct 2007 13:09:27 -0400</b>
</p>

<p>
On Mon, Oct 22, 2007 at 01:07:52PM +0100, Neil Youngman wrote:
</p>

<pre>
&gt; Would anyone care to hazard a guess why top is claiming that the top 3 process 
&gt; are between them using 480% CPU on a dual core box?
</pre>

<p>
In my experience, 'top' sometimes goes off into lulu land and claims
silly crap. For some reason - I recall that someone explained it to me
once, but I've lost the index to the brain cells containing the
explanation - it has a problem with some processes (e.g. XFree86) which
do some strange thing that 'top' can't cope with - so it just lies.
</p>

<p>
In other words, put not your complete trust in the reports of 'top';
'tis a weak reed.
</p>

<pre>
A prudent navigator will never limit himself to a single method,
particularly one requiring ... a device that is subject to mechanical
damage or loss.
 -- Nathaniel Bowditch, compiler of the first American compendium on
	navigation
</pre>

<p>
It would be interesting to go through all the possible combinations of
the three processes (if possible) to get a better handle on what
triggers it, though.
</p>

<p>
Does the machine actually bog when you see this report, or is it just
showing this stuff without any external effect?
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-480_cpu">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Neil Youngman [Neil.Youngman at youngman.org.uk]

</p>
</b><br />
<b>Tue, 23 Oct 2007 13:27:44 +0100</b>
</p>

<p>
On Monday 22 October 2007 18:09, Ben Okopnik wrote:
</p>

<pre>
&gt; It would be interesting to go through all the possible combinations of
&gt; the three processes (if possible) to get a better handle on what
&gt; triggers it, though.
</pre>

<p>
They're all running today and top is behaving perfectly normally. I did 
observe that pressing 'I' changed the output, so that 480% became more like 
250%. This seems to be an "Irix mode" toggle and I have no idea why it should 
make any difference. Also I see little point in choosing between 2 different 
values of wrong, unless it offers any further clues.
</p>


<pre>
&gt; Does the machine actually bog when you see this report, or is it just
&gt; showing this stuff without any external effect?
</pre>

<p>
No, they were all 'nice 19' processes, BOINC clients and the like, and the 
system was coping just fine.
</p>

<p>
Neil
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-480_cpu">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Karl-Heinz Herrmann [khh at khherrmann.de]

</p>
</b><br />
<b>Tue, 23 Oct 2007 23:26:53 +0200</b>
</p>

<p>
On Tue, 23 Oct 2007 13:27:44 +0100
Neil Youngman &lt;Neil.Youngman at youngman.org.uk&gt; wrote:
</p>


<pre>
&gt; observe that pressing 'I' changed the output, so that 480% became
&gt; more like 250%. This seems to be an "Irix mode" toggle and I have no
&gt; idea why it should 
</pre>

<p>
Maybe you could also try to press "1" -- then all CPUs will be shown
individually. 
</p>


<p>
K.-H.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-480_cpu">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Neil Youngman [Neil.Youngman at youngman.org.uk]

</p>
</b><br />
<b>Wed, 24 Oct 2007 08:58:36 +0100</b>
</p>

<p>
On Tuesday 23 October 2007 22:26, Karl-Heinz Herrmann wrote:
</p>

<pre>
&gt; On Tue, 23 Oct 2007 13:27:44 +0100
&gt;
&gt; Neil Youngman &lt;Neil.Youngman at youngman.org.uk&gt; wrote:
&gt; &gt; observe that pressing 'I' changed the output, so that 480% became
&gt; &gt; more like 250%. This seems to be an "Irix mode" toggle and I have no
&gt; &gt; idea why it should
&gt;
&gt; Maybe you could also try to press "1" -- then all CPUs will be shown
&gt; individually.
</pre>

<p>
Yeah, that showed individual CPU stats which were phone, but the process stats 
were still garbage.
</p>

<p>
Neil
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-480_cpu">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Jim Jackson [jj at franjam.org.uk]

</p>
</b><br />
<b>Wed, 24 Oct 2007 13:21:15 +0100 (BST)</b>
</p>

<p>
On Wed, 24 Oct 2007, Neil Youngman wrote:
</p>


<pre>
&gt; On Tuesday 23 October 2007 22:26, Karl-Heinz Herrmann wrote:
&gt; &gt; On Tue, 23 Oct 2007 13:27:44 +0100
&gt; &gt;
&gt; &gt; Neil Youngman &lt;Neil.Youngman at youngman.org.uk&gt; wrote:
&gt; &gt; &gt; observe that pressing 'I' changed the output, so that 480% became
&gt; &gt; &gt; more like 250%. This seems to be an "Irix mode" toggle and I have no
&gt; &gt; &gt; idea why it should
&gt; &gt;
&gt; &gt; Maybe you could also try to press "1" -- then all CPUs will be shown
&gt; &gt; individually.
&gt;
&gt; Yeah, that showed individual CPU stats which were phone, but the process stats
&gt; were still garbage.
</pre>

<p>
I recall a thread on lkml prompted by bizarre TOP figures.
</p>

<p>
<a href="http://lkml.org/lkml/2007/10/3/123">http://lkml.org/lkml/2007/10/3/123</a>
</p>

<p>
this contribution seems to imply there were problems with dual core AMD64
see...
</p>

<p>
<a href="http://lkml.org/lkml/2007/10/3/276">http://lkml.org/lkml/2007/10/3/276</a>
</p>

<p>
but there were other issues around an actual kernel bug.
</p>

<p>
A change of kernel may get rid of the problem?
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-480_cpu">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>