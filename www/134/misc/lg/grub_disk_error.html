<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Mailbag</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Grub Disk Error</h3>
<p>
<b>clarjon1 [clarjon1 at gmail.com]</b><br />
<b>Mon, 27 Nov 2006 08:43:45 -0500</b>
</p>

<p>
<p class="editorial">
 This is a continuation of a discussion begun last month
<a href="../../../133/misc/lg/Grub_Disk_Error.html">http://linuxgazette.net/133/misc/lg/Grub_Disk_Error.html</a> - Kat 
</p>

</p>

<p>
On 11/24/06, Benjamin A. Okopnik &lt;ben@linuxgazette.net&gt; wrote:
</p>

<pre>
&gt;
&gt; Yep. The first thing to look at - and, of course, the first thing that
&gt; Jonathan should have sent in - is the content of his GRUB configuration
&gt; and the output of 'displaymem' and 'geometry' GRUB commands. However, at
&gt; this point, the advice that he got from Neil should be sufficient to fix
&gt; the problem. If it's not, then it'll be time to come back here, to
&gt; checkpoint #1, and try again.
&gt;
</pre>

<p>
Thanks guys.  Neil's suggestion worked (with a little tweaking).
Here's what I did to fix it:
<pre>
grub&gt; root (hd0,0)
grub&gt; find /boot/grub/stage1
grub&gt; setup (hd0)
</pre>
Now it works.
</p>

<p>
Ben, you are right, I should have brought in the config files, I'll
remember that for next time.
Thanks for your help!  And to clarify, the error from grub, upon boot, was:
Grub Hard Disk Error
Not much help.  I was able to boot because the LiveCD, which I installed from,
has an option to boot hda1.  Very useful.  Once again, thanks for the help.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>clarjon1 [clarjon1 at gmail.com]</b><br />
<b>Tue, 28 Nov 2006 08:53:25 -0500</b>
</p>

<p>
Hello again, the problem won't go away!
</p>

<p>
I'm not sure, but I think the BIOS could be at fault, or it could
be that my HDD is becoming flaky.  My data seems to be intact...
Anyways, to describe the problem.
</p>

<p>
I did the whole install back to the MBR, as was in my last post, and
that worked...
</p>

<p>
For a while...
</p>

<p>
I rebooted, and Grub was there.  I thought, all was fixed.  So, after a
while, I powered down my machine, to save power since I wasn't going to
use it for a while.  I come back that afternoon, and &lt;slight sarcasm&gt;
you'll never guess what was back... &lt;/sarcasm&gt;
</p>

<p>
So I think to myself, it could be the bios/CMOS, so I tell it to
redetect the drive.  It had said it was 20020 MB, so I hit enter (which
in my CMOS, tells it to detect the drive, and save it's settings as a
'USER' configured drive. )  Suddenly, it was a 20019MB drive.  All other
values (as best as I can remember) stayed the same.  So, I figured that
was the problem, no need to worry.
</p>

<p>
Re-install grub, reboot (Yay!  A menu!), turn off, leave for a couple of
hours, turn back on, and GRUB Disk Error.  CTRL-ALT-DEL, enter CMOS, and
try redetecting.  Now, it's a 20027MB drive, no changes to heads,
platters, etc.  Repeat.  Still doing it.
</p>

<p>
Any ideas what could be wrong?  It's kinda annoying, but no problems
with my data on my HDD.
</p>

<p>
Still can boot, thanks to LiveCD's Boot from HDA1 option.
Any advice would be nice!
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Steve Brown [steve.stevebrown at gmail.com]</b><br />
<b>Tue, 28 Nov 2006 14:37:48 +0000</b>
</p>

<p>
Hi,
</p>

<p>
I'm not much of an expert, but all of my PC's are made up from
<em>donations</em> and some of the drives are a bit iffy. Maybe I can help
you to trouble shoot?
</p>

<p>
On 28/11/06, clarjon1 &lt;clarjon1@gmail.com&gt; wrote:
</p>


<pre>
&gt; I'm not sure, but I think the BIOS could be at fault,
</pre>

<p>
Possible, but the problem appears to be that the MBR is either corrupt
or gets overwritten at some point.
</p>


<pre>
&gt; be that my HDD is becoming flaky.  My data seems to be intact...
</pre>

<p>
I'd make sure at this piint that you have a very current back up. You
may lose the drive suddenly if it's getting really bad.
</p>



<pre>
&gt; I did the whole install back to the MBR, as was in my last post, and
&gt; that worked...
&gt; For a while...
&gt; I rebooted, and Grub was there.  I thought, all was fixed.  So, after
&gt; a while, I powered down my
&gt; machine, to save power since I wasn't going to use it for a while.  I
&gt; come back that afternoon,
&gt; and &lt;slight sarcasm&gt; you'll never guess what was back... &lt;/sarcasm&gt;
</pre>

<p>
So, an immediate reboot and all's well, but a longer shutdown and grubs gone?
</p>


<pre>
&gt; So I think to myself, it could be the bios/CMOS, so I tell it to
&gt; redetect the drive.  It had
&gt; said it was 20020 MB, so I hit enter (which in my CMOS, tells it to
&gt; detect the drive, and save it's
&gt; settings as a 'USER' configured drive. )  Suddenly, it was a 20019MB
&gt; drive.  All other values
&gt; (as best as I can remember) stayed the same.  So, I figured that was
&gt; the problem, no need to worry.
</pre>

<p>
Does this process actually change the problem at all? Does
re-detecting the drive solve the problem - even for a short time? What
if you re-installed grub without detecting the drive?
</p>


<pre>
&gt; Re-install grub, reboot (Yay!  A menu!), turn off, leave for a couple
&gt; of hours, turn back on, and GRUB Disk Error.
</pre>

<p>
Okay so you answered my earlier question.
</p>

<p>
Some thoughts:
</p>

<p>
If it's the CMOS battery then the BIOS will reset back to preset
defaults. You should be able to confirm this by changing an unrelated
setting (unrelated to the drives) and comparing after the problem
crops up again - if it has reset to default settings I'd think about
changine the battery. Some can be swapped out quite easily, some need
soldering, I've no idea how easy they are to obtain though.
</p>

<p>
Also, if there are no changes to the drive data itself, then simply
resetting the BIOS to the correct settings should mean that your drive
would boot into Grub okay.
</p>

<p>
Is ther an anti-virus setting on the BIOS that re-writes the boot
sector in case a virus overwrites it? My flaky memory is tapping me on
the shoulder and saying that this the case on at least one of my
machines. Maybe Grub is neing treated as an unwelcome virus?
</p>

<p>
I feel that if it were to be the hard drive, there'd be other data problems.
</p>

<p>
My Ubuntu system messses up my Grub settings after a kernel update
(I've added drives and moved partitions since I installed the systems,
works sweet providing I re-install Grub) but then I know when my
system has been changed. Is there a script that runs as a cron job
that alters Grub? I'm really pulling at straws now though.
</p>

<p>
I hope I've some and not a hindrance,
</p>

<p>
Steve
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Tue, 28 Nov 2006 11:08:00 -0500</b>
</p>

<p>
On Tue, Nov 28, 2006 at 02:37:48PM +0000, Steve Brown wrote:
</p>

<pre>
&gt; On 28/11/06, clarjon1 &lt;clarjon1@gmail.com&gt; wrote:
&gt; 
&gt; &gt; For a while...
&gt; &gt; I rebooted, and Grub was there.  I thought, all was fixed.  So, after
&gt; &gt; a while, I powered down my
&gt; &gt; machine, to save power since I wasn't going to use it for a while.  I
&gt; &gt; come back that afternoon,
&gt; &gt; and &lt;slight sarcasm&gt; you'll never guess what was back... &lt;/sarcasm&gt;
</pre>

<p>
&lt;humor type="mild"&gt;
<strong>OH-OH.</strong> Do you <em>realize</em> what you just did? You opened a '&lt;slight sarcasm&gt;'
tag, but you "closed" it with '&lt;/sarcasm&gt;' - which didn't match the first
tag and therefore left it open. As a result, everything here in TAG will
be slightly sarcastic from now on. Man, are <em>you</em> in trouble!
&lt;/humor&gt;
 
</p>

<pre>
&gt; So, an immediate reboot and all's well, but a longer shutdown and grubs gone?
</pre>

<p>
I do believe that you're looking around in the right area. A bit more
info from Jon wouldn't hurt, but that's what this is starting to look
like to me as well.
</p>


<pre>
&gt; Some thoughts:
&gt; 
&gt; If it's the CMOS battery then the BIOS will reset back to preset
&gt; defaults. You should be able to confirm this by changing an unrelated
&gt; setting (unrelated to the drives) and comparing after the problem
&gt; crops up again - if it has reset to default settings I'd think about
&gt; changine the battery. Some can be swapped out quite easily, some need
&gt; soldering, I've no idea how easy they are to obtain though.
</pre>

<p>
Usually, battery problems produce a series of POST beeps and a
diagnostic message from the motherboard ROM - all of which happens
before GRUB ever gets a chance at it. However, I can visualize a
brain-dead motherboard that would just bypass that part of the POST
(I've seen all sorts of weirdness like that in the past) and leave the
reporting to the OS - in which case the result would be pretty much
what's reported. Replacing the battery (assuming it's the easily
removable type, which most are these days) is the smart way to go -
particularly if it's one of the widely-available watch battery types.
</p>

<p>
Just to check, though: Jon, you're not hearing any weird beeps or seeing
any odd messages before GRUB freaks out - right? The POST - that is, the
bit where you normally get a single beep and a single flash from the
keyboard LEDs almost immediately after you turn on the computer - is
very important, although (to most people) it's nearly invisible. If it
changes in any way from the usual sequence, that's a great big loud
message that Something Is Definitely Wrong.
 
(Historical note: my all-time favorite POST message was the famous
"Keyboard not found, press any key to continue"; the second place is
occupied by the user-panic-inducing "ROM BASIC NOT FOUND" - which latter
has sadly gone away now that IBM doesn't do its own BIOS messages
anymore.)
</p>


<pre>
&gt; Is ther an anti-virus setting on the BIOS that re-writes the boot
&gt; sector in case a virus overwrites it? My flaky memory is tapping me on
&gt; the shoulder and saying that this the case on at least one of my
&gt; machines. Maybe Grub is neing treated as an unwelcome virus?
</pre>

<p>
That would be a <strong>seriously</strong> weird thing to do. I do know that some
BIOSes had an "anti-virus" option, although I never knew exactly what it
did, but rewriting the boot sector would be like shooting yourself in
the head at the first sign of a cold - it would "fix" the problem, but
there would be some minor problems associated with it. (True, disposing
of the body would be someone <em>else's</em> problem, but still.) I'm sure that
Micr0s0ft would love the idea, but I'm pretty certain that no BIOS
manufacturer would tie themselves to a single OS that way.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Steve Brown [steve.stevebrown at gmail.com]</b><br />
<b>Tue, 28 Nov 2006 16:47:55 +0000</b>
</p>

<p>
On 28/11/06, Benjamin A. Okopnik &lt;ben@linuxgazette.net&gt; wrote:
</p>

<pre>
&gt; On Tue, Nov 28, 2006 at 02:37:48PM +0000, Steve Brown wrote:
&gt; &gt; On 28/11/06, clarjon1 &lt;clarjon1@gmail.com&gt; wrote:
&gt; &gt;
&gt; &gt; &gt; For a while...
&gt; &gt; &gt; I rebooted, and Grub was there.  I thought, all was fixed.  So, after
&gt; &gt; &gt; a while, I powered down my
&gt; &gt; &gt; machine, to save power since I wasn't going to use it for a while.  I
&gt; &gt; &gt; come back that afternoon,
&gt; &gt; &gt; and &lt;slight sarcasm&gt; you'll never guess what was back... &lt;/sarcasm&gt;
&gt;
&gt; &lt;humor type="mild"&gt;
&gt; <strong>OH-OH.</strong> Do you <em>realize</em> what you just did? You opened a '&lt;slight sarcasm&gt;'
&gt; tag, but you "closed" it with '&lt;/sarcasm&gt;' - which didn't match the first
&gt; tag and therefore left it open. As a result, everything here in TAG will
&gt; be slightly sarcastic from now on. Man, are <em>you</em> in trouble!
&gt; &lt;/humor&gt;
</pre>

<p>
An ideal opportunity to introduce a &lt;/slight sarcasm&gt; then?
</p>

<p>
Or does that only match your &lt;sarcasm&gt; ?
</p>

<p>
Aaargh,my brain is melting - will this end the madness: 
&lt;/slightsarcasm&gt;&lt;/slight sarcasm&gt;
</p>

<p>
Nope, sadly, I'm still mad <img src="../gx/frown.png" alt=":(">
</p>


<pre>
&gt;
&gt; &gt; Is ther an anti-virus setting on the BIOS that re-writes the boot
&gt; &gt; sector in case a virus overwrites it? My flaky memory is tapping me on
&gt; &gt; the shoulder and saying that this the case on at least one of my
&gt; &gt; machines. Maybe Grub is neing treated as an unwelcome virus?
&gt;
&gt; That would be a <strong>seriously</strong> weird thing to do. I do know that some
&gt; BIOSes had an "anti-virus" option, although I never knew exactly what it
&gt; did, but rewriting the boot sector would be like shooting yourself in
&gt; the head at the first sign of a cold - it would "fix" the problem, but
&gt; there would be some minor problems associated with it. (True, disposing
&gt; of the body would be someone <em>else's</em> problem, but still.) I'm sure that
&gt; Micr0s0ft would love the idea, but I'm pretty certain that no BIOS
&gt; manufacturer would tie themselves to a single OS that way.
</pre>

<p>
Ah yes, you see my flaky memory is also a liar - tells me just enough
of a plausible answer to make a fool of myself in public, while it
sits in a deckchair laughing. He also enjoys my entering rooms only to
have to stand there wondering why I'm there at all, only to remind me
once I've sat down again. I thought the notebook would do it - but
I've misplaced it somewhere.
</p>

<p>
Steve
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Tue, 28 Nov 2006 13:28:23 -0500</b>
</p>

<p>
On Tue, Nov 28, 2006 at 04:47:55PM +0000, Steve Brown wrote:
</p>

<pre>
&gt; On 28/11/06, Benjamin A. Okopnik &lt;ben@linuxgazette.net&gt; wrote:
&gt; &gt;
&gt; &gt; &lt;humor type="mild"&gt;
&gt; &gt; <strong>OH-OH.</strong> Do you <em>realize</em> what you just did? You opened a '&lt;slight sarcasm&gt;'
&gt; &gt; tag, but you "closed" it with '&lt;/sarcasm&gt;' - which didn't match the first
&gt; &gt; tag and therefore left it open. As a result, everything here in TAG will
&gt; &gt; be slightly sarcastic from now on. Man, are <em>you</em> in trouble!
&gt; &gt; &lt;/humor&gt;
&gt; 
&gt; An ideal opportunity to introduce a &lt;/slight sarcasm&gt; then?
</pre>

<p>
But that wouldn't be any <strong>fun</strong>. If you can't snark at mis-formatted
imaginary tags... well, I ask you - is life worth living at that point?
 
</p>

<pre>
&gt; Or does that only match your &lt;sarcasm&gt; ?
</pre>

<p>
Nah. Mine is single-quoted in order to defang it. Otherwise, we'd have
multiple instances of mild sarcasm running, and they just might be
additive. [shudder]
</p>


<pre>
&gt; Aaargh,my brain is melting - will this end the madness: &lt;/slight
&gt; sarcasm&gt;&lt;/slight sarcasm&gt;
&gt; 
&gt; Nope, sadly, I'm still mad <img src="../gx/frown.png" alt=":(">
</pre>
 
It's all about the prions, really. I made an appointment with a
physicist and had mine extracted early on; unfortunately, as you've just
learned, that just takes away the <em>excuse,</em> not the madness.
</p>


<pre>
&gt; &gt; That would be a <strong>seriously</strong> weird thing to do. I do know that some
&gt; &gt; BIOSes had an "anti-virus" option, although I never knew exactly what it
&gt; &gt; did, but rewriting the boot sector would be like shooting yourself in
&gt; &gt; the head at the first sign of a cold - it would "fix" the problem, but
&gt; &gt; there would be some minor problems associated with it. (True, disposing
&gt; &gt; of the body would be someone <em>else's</em> problem, but still.) I'm sure that
&gt; &gt; Micr0s0ft would love the idea, but I'm pretty certain that no BIOS
&gt; &gt; manufacturer would tie themselves to a single OS that way.
&gt; 
&gt; Ah yes, you see my flaky memory is also a liar - tells me just enough
&gt; of a plausible answer to make a fool of myself in public, while it
&gt; sits in a deckchair laughing.
</pre>

<p>
Nah. Computers are just weird, that's all - and BIOS writers who put in
"anti-virus protection" are weirder still.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Rick Moen [rick at linuxmafia.com]</b><br />
<b>Tue, 28 Nov 2006 12:01:01 -0800</b>
</p>

<p>
Quoting Steve Brown (steve.stevebrown@gmail.com):
</p>


<pre>
&gt; Or does that only match your &lt;sarcasm&gt; ?
&gt; 
&gt; Aaargh,my brain is melting - will this end the madness: &lt;/slight
&gt; sarcasm&gt;&lt;/slight sarcasm&gt;
&gt; 
&gt; Nope, sadly, I'm still mad <img src="../gx/frown.png" alt=":(">
</pre>

<p>
&lt;/insanity&gt;
</p>

<p>
You're welcome.
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>clarjon1 [clarjon1 at gmail.com]</b><br />
<b>Tue, 28 Nov 2006 15:27:08 -0500</b>
</p>

<pre>
&gt; Nah. Computers are just weird, that's all - and BIOS writers who put in
&gt; "anti-virus protection" are weirder still.
&gt;
</pre>


<p>
Nope Ben, no AntiVirus thingy.  I have seen those antivirus things
(real pain when installing linux), and it just halts the PC when it
detects a change to the MBR.
</p>

<p>
I'm suspicious of the changing HD size in the CMOS, so I'm putting my
money on a somewhat flaky hard drive.  It used to drop LILO about, i
dunno, once every two months or so, forcing me to find a live CD to
chroot. <img src="../gx/smile.png" alt=":)"> I should see about downloading LILO for FreeSpire, see if
that helps.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Tue, 28 Nov 2006 16:08:19 -0500</b>
</p>

<p>
On Tue, Nov 28, 2006 at 03:27:08PM -0500, clarjon1 wrote:
</p>

<pre>
&gt; &gt; Nah. Computers are just weird, that's all - and BIOS writers who put in
&gt; &gt; "anti-virus protection" are weirder still.
&gt; 
&gt; Nope Ben, no AntiVirus thingy.  I have seen those antivirus things
&gt; (real pain when installing linux), and it just halts the PC when it
&gt; detects a change to the MBR.
</pre>

<p>
So... if it halts the PC... how are you supposed to fix it? I assume
that some sort of a "Doom on you" [1] message pops up, and you're
grudgingly allowed to get the keys to the kingdom... but if that's what
you have to deal with every time you change the MBR, it may be time to
change BIOS vendors.
 
</p>

<pre>
&gt; I'm suspicious of the changing HD size in the CMOS, so I'm putting my
&gt; money on a somewhat flaky hard drive.  
</pre>

<p>
It could be, but I doubt it. HD electronics are usually pretty much
binary in operation - and magnetic signatures don't fade like they used
to.
</p>


<p>
[1] This being how Cpt. Dick Marcinko (USN[Ret]), author of the various
"Rogue Warrior" books, glosses "du-ma-nhieu" - for which see Google or
any unexpurgated Vietnamese dictionary. <img src="../gx/smile.png" alt=":)">
</p>

<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Suramya Tomar [security at suramya.com]</b><br />
<b>Tue, 28 Nov 2006 18:55:48 -0500</b>
</p>

<p>
Hey,
</p>


<pre>
&gt; So... if it halts the PC... how are you supposed to fix it? I assume
&gt; that some sort of a "Doom on you" [1] message pops up, and you're
&gt; grudgingly allowed to get the keys to the kingdom... but if that's what
&gt; you have to deal with every time you change the MBR, it may be time to
&gt; change BIOS vendors.
</pre>

<p>
It doesn't actually halt the PC, It gives you a flashing screen with a 
warning message (complete with annoying beeping) telling you that the 
MBR is being changed and you have to press Y to continue. Atleast that 
was my experience with Antivirus in the bios. I guess this used to be 
useful when the only OS around were DOS &amp; windows and boot sector 
viruses were common.
</p>

<p>
This feature saved my system once when I got hit with the Die Hard2 
virus (The first and only time that happened.. That too from a disk 
given to me by a friend containing the latest antivirus program) I was 
installing the software and all of a sudden the system started beeping 
and I saw flashing lights (Scared the crap out of me..). Took me about 6 
hours to recover my system from that...
</p>


<pre>
&gt; It could be, but I doubt it. HD electronics are usually pretty much
&gt; binary in operation - and magnetic signatures don't fade like they used
&gt; to.
</pre>

<p>
Don't think you should use this drive for any important data... Doesn't 
look like its reliable anymore.
</p>

<p>
Oh, try using a different cable to connect the drive to the IDE 
controller and maybe try connecting to a different controller. 'cause it 
might be that the cable or controller thats bad.
</p>

<p>
Hope that helps.
</p>

<p>
- Suramya
</p>

<pre>-- 
<pre>
Name : Suramya Tomar
Homepage URL: <a href="http://www.suramya.com">http://www.suramya.com</a>
</pre>
</pre>************************************************************
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>clarjon1 [clarjon1 at gmail.com]</b><br />
<b>Wed, 29 Nov 2006 08:46:57 -0500</b>
</p>

<p>
On 11/28/06, Suramya Tomar &lt;security@suramya.com&gt; wrote:
</p>


<pre>
&gt; Don't think you should use this drive for any important data... Doesn't
&gt; look like its reliable anymore.
</pre>

<p>
It's not the drive, it's gotta be the bios/CMOS, or something...
I tried disabling the drive in the bios, booted via CD, installed GRUB to my
second HDD, then rebooted.  All was fine.  Of course, I was suspicious of how
fine things were, so I turned it off, left it for 10 minutes this time, and...
</p>

<p>
Grub Hard Disk Error
</p>

<p>
Grr....
</p>


<pre>
&gt;
&gt; Oh, try using a different cable to connect the drive to the IDE
&gt; controller and maybe try connecting to a different controller. 'cause it
&gt; might be that the cable or controller thats bad.
&gt;
</pre>

<p>
I'll have to try that when I get home tonight...  Both HDDs are on the
same cable,
but only one of them was giving troubles from the CMOS.
</p>

<p>
Heh, well, I can't complain that Linux is boring, every time I think
I've got everything
fixed up, and get kinda bored, I seem to either break something or
something fails on
me.
</p>


<pre>
&gt; Hope that helps.
&gt;
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Steve Brown [steve.stevebrown at gmail.com]</b><br />
<b>Wed, 29 Nov 2006 14:06:53 +0000</b>
</p>

<p>
On 29/11/06, clarjon1 &lt;clarjon1@gmail.com&gt; wrote:
</p>

<pre>
&gt; On 11/28/06, Suramya Tomar &lt;security@suramya.com&gt; wrote:
</pre>



<pre>
&gt; &gt; Oh, try using a different cable to connect the drive to the IDE
&gt; &gt; controller and maybe try connecting to a different controller. 'cause it
&gt; &gt; might be that the cable or controller thats bad.
&gt; &gt;
&gt;
&gt; I'll have to try that when I get home tonight...  Both HDDs are on the
&gt; same cable,
&gt; but only one of them was giving troubles from the CMOS.
&gt;
</pre>

<p>
That's because only one of them had an MBR.
</p>

<p>
Can you get another battery? It really does sound like there's just
enough charge for it to keep the Bios settings for a minute before
failing. Or do you have a spare motherboard?
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>clarjon1 [clarjon1 at gmail.com]</b><br />
<b>Wed, 29 Nov 2006 11:50:31 -0500</b>
</p>

<p>
On 11/29/06, Steve Brown &lt;steve.stevebrown@gmail.com&gt; wrote:
</p>


<pre>
&gt; Can you get another battery? It really does sound like there's just
&gt; enough charge for it to keep the Bios settings for a minute before
&gt; failing. Or do you have a spare motherboard?
</pre>

<p>
Oh, I forgot to mention that it doesn't seem to be the battery.  It's keeping
all of the settings, like date, time, boot options, etc...  It's just that the
thing can't decide a permanent drive size.  I dunno.  And I don't have any spare
motherboards for this.
</p>

<p>
Of course, I could just accept this annoyance as something beyond my control,
and move on...
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Bob van der Poel [bob at mellowood.ca]</b><br />
<b>Wed, 29 Nov 2006 10:02:24 -0700</b>
</p>

<p>
clarjon1 wrote:
</p>

<pre>
&gt; On 11/29/06, Steve Brown &lt;steve.stevebrown@gmail.com&gt; wrote:
&gt; 
&gt;&gt; Can you get another battery? It really does sound like there's just
&gt;&gt; enough charge for it to keep the Bios settings for a minute before
&gt;&gt; failing. Or do you have a spare motherboard?
&gt; 
&gt; Oh, I forgot to mention that it doesn't seem to be the battery.  It's keeping
&gt; all of the settings, like date, time, boot options, etc...  It's just that the
&gt; thing can't decide a permanent drive size.  I dunno.  And I don't have any spare
&gt; motherboards for this.
&gt; 
&gt; Of course, I could just accept this annoyance as something beyond my control,
&gt; and move on...
</pre>

<p>
A complete stab in the dark ... but I was having some goofy problems 
awhile ago on my machine after upgrading to a newer kernel/distro. For 
some reason I had the "spin down HD after 15 minutes" setting enabled in 
the BIOS power-save settings. After resetting that to "never" A whole 
bunch of problems went away. I have no idea what really was happening, 
but I sense that this set up some kind of conflict between the BIOS and 
linux power settings.
</p>

<p>
Which brings up a point ... if I am correct in assuming that the BIOS is 
disabled after linux boots, why would a setting like that cause a problem?
</p>

<pre>-- 
Bob van der Poel ** Wynndel, British Columbia, CANADA **
EMAIL: bob@mellowood.ca
WWW:   <a href="http://www.mellowood.ca">http://www.mellowood.ca</a>
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Steve Brown [steve.stevebrown at gmail.com]</b><br />
<b>Wed, 29 Nov 2006 17:22:03 +0000</b>
</p>

<p>
On 29/11/06, clarjon1 &lt;clarjon1@gmail.com&gt; wrote:
</p>

<pre>
&gt; On 11/29/06, Steve Brown &lt;steve.stevebrown@gmail.com&gt; wrote:
&gt;
&gt; &gt; Can you get another battery? It really does sound like there's just
&gt; &gt; enough charge for it to keep the Bios settings for a minute before
&gt; &gt; failing. Or do you have a spare motherboard?
&gt;
&gt; Oh, I forgot to mention that it doesn't seem to be the battery.  It's keeping
&gt; all of the settings, like date, time, boot options, etc...  It's just that the
&gt; thing can't decide a permanent drive size.  I dunno.  And I don't have any spare
&gt; motherboards for this.
</pre>

<p>
Okay ...
</p>

<p>
What about the other drives you have installed? You mentioned that you
have two drives on one cable, does this mean that you have the CDROM
on the other cable? And if so can you swap this hard drive to that
other cable? Are the cables seated properly? And are they set up as
master/slave correctly or do they use cable select?
</p>

<p>
If it's only the drive settings that change, and it's not the hard
drive (both drives have the same problem), then it must be the
controller. If swapping the drives removes the problem then we've
proved that idea, but I'd guess your motherboard needs
repair/replacement.
</p>

<p>
I can't think what else it could be, and we're right at the limit of
where my knowledge ends - literally change everything one item at a
time, at some point you'll swap out the fault (drives, cables,
controller etc.) or ultimately be left with it (your motherboard).
</p>



<pre>
&gt; Of course, I could just accept this annoyance as something beyond my control,
&gt; and move on...
</pre>

<p>
Now where's the fun in that?
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-grub_disk_error">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>