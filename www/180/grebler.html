<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>Enemy Action LG #180</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="../lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="../lg.rdf" />
<!-- link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" / -->
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/listinfo.cgi">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">November 2010 (#180)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="dyckoff.html" >&lt;-- prev</A> | <A HREF="grebler1.html" >next --&gt;</A>
</div>

<h1>Enemy Action</h1>
<p id="by"><b>By <a href="../authors/grebler.html">Henry Grebler</a></b></p>


<pre>
	"Once is happenstance. Twice is coincidence. Three times is
	enemy action." 
			- Ian Fleming (spoken by Auric Goldfinger)
</pre>

<h3>Once</h3>

<p>
Sometimes I buy tickets on the Internet. About a month ago, I bought
tickets to the <a
href="http://en.wikipedia.org/wiki/Australian_rules_football">footy</a>.
There are several options, but I choose to get the tickets emailed to
me as a PDF. I have no idea what research the ticketing agencies do,
but they obviously do not include me in the profile of their typical
user.
</p>

<p>
I planned to go with a friend, Jeremy, who supports the opposition
team. Jeremy is in paid employment, whereas I am currently "between
engagements". He intended to ride his bicycle to the stadium; I would
take the train. I agreed to meet Jeremy inside the stadium.
</p>

<p>
But I've still got to get him his ticket.
</p>

<p>
Sometimes the tickets come as separate PDF files, but this time they
were both in a single PDF. I struggled mindlessly for some time and
eventually sent Jeremy a 6.5 MB .ppm! Fortunately, it gzipped very
nicely and the email was less than 350 KB. 
</p>


<h3>Twice</h3>

<p>
Recently, I bought more tickets for some future footy game. Again,
they came as a single PDF. This time it was Mark and Matt to whom I
wanted to send tickets.
</p>

<p>
I went to my help directory to see what I had done the previous time.
Nothing. As disciplined as I try to be, I remain disappointingly
human.
</p>

<p>
Never mind. I've had lots of time living with myself. I now know there
are two of me. I've learnt to put up with the hopeless deficiencies of
the Bad Henry. After all, what can you do?
</p>

<p>
So, I worked out (again!) how to split out pages from a PDF. Between
the first and second time, I'd been on a ten-day trip to Adelaide.
Before I leave home on long trips I shut down my computer. And my
brain.
</p>

<p>
My solution this time involved PostScript files. I wrote it up (Good
Henry was in charge). Then, for completeness (Good Henry can be quite
anal), I reconstructed what I probably did the first time and wrote that up
also.
</p>


<h3>Three times</h3>

<p>
Today it happened again. Last night I booked tickets for the theatre.
(You see? There's more to me than just football.) When I looked at
the tickets, I found a single PDF containing 4 tickets: two for me and
my wife, two for Peter and his wife, Barbara.
</p>

<p>
And finally I hit the roof. I'd tried <tt>Adobe Acrobat</tt>,
<tt>xpdf</tt>, and <tt>evince</tt>. They all have the same problem:
they insist on honouring the stupid restrictions included in the PDF,
things like "no copying".
</p>

<pre class="code">
	Encrypted:      yes (print:yes copy:no change:no addNotes:no)
</pre>

<p>
Think about it. How stupid is this? If I have <strong>x.pdf</strong>,
no matter what some cretin includes in the file, nothing can stop me
from going:
</p>

<pre class="code">
	cp x.pdf x2.pdf
</pre>

<p>
So what has been achieved by the restriction? The words of the song
about the benefits of war come to mind: absolutely nothing! And I
<strong>am</strong> tempted to say it again: absolutely nothing.
</p>

<p class="editorial">
[ These days, there are so many ways to remove/bypass/eliminate/ignore that
so-called "protection" - e.g., <a
href="http://ensode.net/pdf-crack.jsf">ensode.net</a>'s online "unlocker" -
that it is indeed meaningless. -- Ben ]
</p>

<p>
So let's say I send Jeremy or Mark or Matt a copy of the entire PDF.
What I'm concerned about is that they may inadvertently print the
wrong ticket. Sure, in the email, I tell each person which ticket is
his. But... since each ticket has a barcode, perhaps the stadium
checks and complains about a second attempt to present the same
ticket. Embarrassment all round.
</p>

<p>
Notice that I'm not trying to do anything illegal or underhanded. I'm
not trying to violate some cretin's digital rights. I'm not trying to
harm anyone. I'm trying to get a ticket to my friend; a ticket that I
bought legitimately; one that I'm not only entitled, but required, to
print out. I guess they want me to fax it to him. But isn't that also
making a copy? Do they expect me to drive across town to get him his
ticket?
</p>

<p>
It seems to me amazing that I'm the only one who wants this
capability. Every time I've looked on my computer (<tt>apropos</tt>)
or anywhere else (Internet), I've never found a convenient mechanism.
I now have a mechanism (see next section), but this is really a plea
for help. Can anyone suggest something a little more elegant than what
I've come up with?
</p>


<h3>2-Cent Tip</h3>

<p>
Here is the best method I could come up with for extracting one page,
or several contiguous pages, from a PDF into a separate PDF:
</p>

<pre class="code">
	gs -dSAFER -sDEVICE=pdfwrite -dNOPAUSE -dBATCH \
		-dFirstPage=3 -dLastPage=4 \
		-sOutputFile=PeterAndBarbara.pdf Tickets.pdf
</pre>

<p>
Basically this command says to extract pages 3 and 4 from Tickets.pdf
and put them into PeterAndBarbara.pdf. The first line consists mainly
of window dressing.
</p>

<p>
If you want to extract each page as a separate PDF file (not a bad
idea), here's a script:
</p>

<pre class="code">

#! /bin/sh
#       pdfsplit.sh - extract each page of a PDF into a separate file

        myname=`basename $0`

#----------------------------------------------------------------------#
Usage () {
        cat &lt;&lt;EOF
Usage: $myname file

where   file    is the PDF to split

Output goes to /tmp/page_n.pdf
EOF
        exit
}

#----------------------------------------------------------------------#
Die () {
        echo $myname: $*
        exit
}

#----------------------------------------------------------------------#
        [ $# -eq 1 ] || Usage

        pages=`pdfinfo $1 | grep Pages | awk '{print $2}'`
        [ "$pages" = '' ] &amp;&amp; Die "No pages found. Perhaps $1 is not a pdf."
        [ "$pages" -eq 1 ] &amp;&amp; Die "Only 1 page in $1. Nothing to do."

        jj=1
        while [ $jj -le $pages ]
        do
                gs -dSAFER -sDEVICE=pdfwrite -dNOPAUSE -dBATCH \
                        -dFirstPage=$jj -dLastPage=$jj \
                        -sOutputFile=/tmp/page_$jj.pdf $1
                jj=`expr $jj + 1`
        done


</pre>

<h3>Notes</h3>

<p>
You can look at <tt>gs(1)</tt> for a limited amount of help. For more
useful help, do this:
</p>

<pre class="code">
	gs -h
</pre>

<p>
and look at the second last line. Mine says:
</p>

<pre class="code">
	For more information, see /usr/share/ghostscript/8.15/doc/Use.htm.
</pre>

<p>
I've probably broken my system, because it is actually in
<strong>/usr/share/doc/ghostscript-8.15/Use.htm</strong>. Another
system refers correctly to
<strong>/usr/local/share/ghostscript/8.64/doc/Use.htm</strong>.
</p>

<p>
You can use your usual browser or you can use:
</p>

<pre class="code">
	lynx /usr/share/doc/ghostscript-8.15/Use.htm
</pre>

<p>
See also <tt>pdfinfo(1)</tt>. Here's an example of its output:
</p>

<pre class="code">
pdfinfo Tickets.pdf
Producer:       Acrobat Distiller 7.0.5 (Windows)
CreationDate:   Tue Mar 16 04:21:58 2010
ModDate:        Tue Mar 16 04:21:58 2010
Tagged:         no
Pages:          4
Encrypted:      yes (print:yes copy:yes change:no addNotes:no)
Page size:      595 x 842 pts (A4)
File size:      1290313 bytes
Optimized:      no
PDF version:    1.4
</pre>


<br clear="all" />

<table align='center' cellspacing='10'>
<tr>
<td>
<script type='text/javascript'>
digg_url = 'http://linuxgazette.net/180/grebler.html';
digg_title = 'Enemy Action';
digg_bodytext = '<p> Sometimes I buy tickets on the Internet. About a month ago, I bought tickets to the footy. There are several options, but I choose to get the tickets emailed to me as a PDF. I have no idea what research the ticketing agencies do, but they obviously do not include me in the profile of their typical user. </p> ';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
</td>
<td>
<a name="fb_share" type="box_count" href="http://www.facebook.com/sharer.php">Share</a>
<script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share" type="text/javascript"></script>
</td>
<td>
<a href="http://twitter.com/home?status=Currently%20reading:%20http://linuxgazette.net/180/grebler.html%20at%20Linux%20Gazette%20%23linuxgazette" title="Click to share this post on Twitter"><img src="../gx/twitter.png" width="50" height="85" border="0"></a>
</td>
</tr>
</table>


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:180/grebler.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/grebler.jpg" class="bio">
</p>

<em>
<p>
Henry has spent his days working with computers, mostly for computer
 manufacturers or software developers. His early computer experience
 includes relics such as punch cards, paper tape and mag tape. It is
 his darkest secret that he has been paid to do the sorts of things he
 would have paid money to be allowed to do. Just don't tell any of his
 employers. 
</p>

<p>
He has used Linux as his personal home desktop since the family got its
 first PC in 1996. Back then, when the family shared the one PC, it was a
 dual-boot Windows/Slackware setup. Now that each member has his/her own
 computer, Henry somehow survives in a purely Linux world.
</p>

<p>
He lives in a suburb of Melbourne, Australia.
</p>



</em>

<br clear="all">


<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2010, Henry Grebler. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 180 of Linux Gazette, November 2010
</p>

</div>

<div id="previousnextbottom">
<A HREF="dyckoff.html" >&lt;-- prev</A> | <A HREF="grebler1.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

