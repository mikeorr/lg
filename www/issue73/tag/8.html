<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.4F.j">
<TITLE>The Answer Gang 73: Installing tulip.o in 6.2</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer73.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer73.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By Jim Dennis, Ben Okopnik, Dan Wilder, Breen, Chris, and the Gang,
	the Editors of Linux Gazette... 
	and You!
<br>Send questions (or interesting answers) to
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
</H4>
<p><em><font color="#990000">There is no guarantee</font></em> 
	that your questions here will <b>ever</b> be answered.  
	<em><font color="#990000">Readers at confidential sites</font></em> 
	must provide permission to publish.  However, 
	<em><font color="#990000">you can be published anonymously</font></em>
	- just let us know!
</p>
<p>TAG <a href="../tag/bios.html">Member bios</a>
     | <a href="../../tag/members-faq.html">FAQ</a>
     | <a href="../../tag/kb.html">Knowledge base</a></p>
</center>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<p><hr><p>
<!-- begin 8 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Installing tulip.o in 6.2</H3>


<p><strong>From William Laing 
</strong></p> 
<p></strong></p>

<!-- sig -->


<p align="right"><strong>Answered By  Ben Okopnik, Breen Mullins
</strong></p>
<P><STRONG>
hello
</STRONG></P>
<P><STRONG>
Can someone instruct me how to install the module/ driver in Linux 6.2 .for
the Linksys networking card.
</STRONG></P>
<P><STRONG>
The following module came with the card on a floppy and I was able to load
it in as follows as per the instructions.
I have tulip.o loaded in at this location.
</STRONG></P>

<pre><strong># locate tulip.o
   /lib/modules/2.2.17-14/net/old_tulip.o
   /lib/modules/2.2.17-14/net/tulip.o
</strong></pre>
<P><STRONG>
Does the old file require to be deleted or may it stay ?
I am be having some fun, but not making any headway on insmod.At this point
I cant go ant further.
</STRONG></P>
<P><STRONG>
Thanking you.
Bill
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Did you try loading the module that was already on your system? I would do
that before using the new one, by preference - consider that to be your
fallback position if the new one fails, or gives you any problems.
Presumably, you're using the 2.2.17 kernel; all you have to do is type
</blockQuote>

<blockquote><pre>insmod tulip
</pre></blockquote>
<blockQuote>
If the module loads without errors, check to see if the system actually
"sees" the card as it should:
</blockQuote>

<blockquote><pre>ben@Baldur:~$ ifconfig eth0
eth0      Link encap:Ethernet  HWaddr 00:4C:69:6E:75:79
          inet addr:192.168.0.3  Bcast:192.168.0.255  Mask:255.255.255.0
          BROADCAST PROMISC MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:100
          RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
          Interrupt:11 Base address:0x200
</pre></blockquote>
<blockQuote>
Note that your numbers may not be the same as mine; in fact, the line
starting with "inet addr" will most likely be absent. This is normal.
</blockQuote>
<blockQuote>
Truth to tell, I'm a little surprised at the fact that the manufacter
included a module: they're normally compiled for a given kernel, and
will error out (although they can be force-loaded) when pushed onto a
different one.
</blockQuote>
<blockQuote>
The old module (I assume, from the above, that you renamed the original to
"old_tulip.o") does not need to be deleted. If you want to test the system
with it instead of the new one, you should just be able to type
</blockQuote>

<blockquote><pre>insmod old_tulip
</pre></blockquote>
<blockQuote>
Don't try to load more than one of them at a time; unload the one that you
don't want with
</blockQuote>

<blockquote><pre>rmmod &lt;module_name&gt;
</pre></blockquote>
<blockQuote>
You can always see what's loaded by typing
</blockQuote>

<blockquote><pre>lsmod
</pre></blockquote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Ben
</STRONG></P>
<P><STRONG>
Thank you for Clear instructions, much apprecated.
The following happens while using the commands you suggested.
</STRONG></P>
<P><STRONG><FONT COLOR="#000066"><EM>
Presumably, you're using the 2.2.17 kernel; all you have to do is type...
</EM></FONT></STRONG></P>
<P><STRONG>
Yes a 2.2.17-14 kernal
</STRONG></P>
<P><STRONG><FONT COLOR="#000066"><EM><CODE>
insmod tulip
</CODE></em></font></STRONG></P>
<P><STRONG>
Yeilds as follows:
</STRONG></P>

<pre><strong>Using /lib/modules/2.2.17-14/net/tulip.o: init_module:
Device or resource busy Hint: insmod errors can be caused by incorrect
module parameters including invalid I0 or IRQ parameters.
</strong></pre>
<blockQuote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
That sounds like it's looking for parameters. This can also be caused by
I/O or IRQ conflicts, but ...
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Breen] 
The tulip cards are all PCI and you shouldn't attempt to
specify either IRQs or IO addresses for them. The system assigns
these for a PCI device, not the driver.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Right. Check "<TT>/proc/pci</TT>".
</blockQuote>
<P><STRONG><FONT COLOR="#000066"><EM><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	><CODE>
insmod old_tulip
</CODE></em></font></STRONG></P>
<P><STRONG>
Yields the same as the new one. I believe I am guilty of copying both
modules myself to the linux box.
</STRONG></P>
<blockQuote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
It sounds like either one will work, once you have the correct parameters.
</blockQuote>
<P><STRONG><FONT COLOR="#000066"><EM><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	><CODE>
lsmod
</CODE></em></font></STRONG></P>
<P><STRONG>
Yeilds:
</STRONG></P>

<pre><strong># lsmod
Module                        Size             Used by
#
</strong></pre>
<P><STRONG>
With nothing listed.
</STRONG></P>
<blockQuote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
This is fine.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Both machines can ping each other while Window applications are installed
suggesting the network path is funtional.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Good - knowing that will narrow down any troubleshooting that you may do.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Ben, Breen
</STRONG></P>
<P><STRONG>
Agn thank you people for you kind assistance.
The results of your suggestions follow.
(It is a bare bones machine text only.)
</STRONG></P>

<blockquote><code><font color="#000033"><br>The kernel is a 2.2.17-14
<br>The card is a Linksys  LNE Ver.4.1 TAIMAG HE-012D
</font></code></blockquote>
<P><STRONG>
I do have other D-Link Cards I have tried, using RTL8139, but the results
were the same.
</STRONG></P>

<pre><strong># /var/log/dmesg
    Permission denied
#
</strong></pre>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Erm, you're supposed to read it - not execute it. "<TT>/bin/dmesg</TT>" will print
out the contents; for a bit more scrolling control, try
</blockQuote>

<blockquote><pre>more /var/log/dmesg
</pre></blockquote>
<blockQuote>
Reading "daemon.log" and "messages" in "<TT>/var/log</TT>" would be of even more use
- they would tell you what happened when you tried to load the module.
A quick look at the available parameters for "tulip.o" tells me that
there's a "debug" option, enabled by
</blockQuote>

<blockquote><pre>insmod tulip debug=value
</pre></blockquote>
<blockQuote>
Where "value" is 1-6 (I just took a quick look through the code, and the
tests for "tulip_debug" max out at 'if (tulip_debug &gt; 5)...') This should
print much more info to the logs.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Breen] 
As Ben said, you're supposed to read the file. But you won't find the
detection message we're looking for in dmesg; I realize that you need
to look in <TT>/var/log/messages.</TT>
</blockQuote>
<blockQuote>
Try this:
</blockQuote>

<blockquote><pre># grep tulip /var/log/messages*
</pre></blockquote>
<blockQuote>
You'll be looking for a line similar to this:
</blockQuote>

<blockquote><pre>messages.3:Oct  8 13:17:41 archy kernel: tulip.c:v0.91g-ppc 7/16/99
becker@cesdis.gsfc.nasa.gov
</pre></blockquote>
<blockQuote>
That tells us the version of the tulip driver you're using. Mine is
old but so is the card I'm using.
</blockQuote>
<blockQuote>
Instead of Ben's suggestion of
</blockQuote>

<blockquote><pre># insmod tulip
</pre></blockquote>
<blockQuote>
you may want to try
</blockQuote>

<blockquote><pre># modprobe tulip
</pre></blockquote>
<blockQuote>
(Some versions of the tulip driver need a shim driver to load first.
modprobe will pick that up.)
</blockQuote>
<blockQuote>
If that doesn't work, try getting the latest drivers from Donald
Becker's site:
</blockQuote>
<blockQuote><BLOCKQuote>
<A HREF="ftp://ftp.scyld.com/pub/network/netdrivers-3.0-1.src.rpm"
	>ftp://ftp.scyld.com/pub/network/netdrivers-3.0-1.src.rpm</A>
</BLOCKQuote></blockQuote>
<blockQuote>
Become root and install the rpm:
</blockQuote>

<blockquote><pre># rpm -i netdrivers-3.0-1.src.rpm

# cd /usr/src/redhat/SPECS
# rpm -bb netdrivers.spec
</pre></blockquote>
<blockQuote>
That will build the latest set of drivers.
</blockQuote>

<blockquote><pre># cd ../RPMS/i386
# rpm -Uvh netdrivers-3.0-1.i386.rpm
  (you MAY have to use a --force flag with that -- you'll know if you do.)

# depmod -a
# modprobe tulip
</pre></blockquote>
<blockQuote>
Which should get you up and running.
</blockQuote>

<!-- end 8 -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<a href="http://www.linuxgazette.net/copying.html"
        >Copyright &copy;</a> 2001
<BR>Published in issue 73 of <I>Linux Gazette</I> December 2001</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
        <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
<!-- *** END copyright *** -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer73.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer73.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
