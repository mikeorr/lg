<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>For users of RMAIL in Emacs, how do you deal with spam messages?...</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>For users of RMAIL in Emacs, how do you deal with spam messages?...</h3>
<p>
<b><p>
don warner saklad [don.saklad at gmail.com]

</p>
</b><br />
<b>Fri, 30 May 2008 08:51:32 -0400</b>
</p>

<p>
For users of RMAIL in Emacs, how do you deal with spam messages?...
</p>

<p>
Not all messages appear with SpamAssassin headers.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-for_users_of_rmail_in_emacs_how_do_you_deal_with_spam_messages">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Fri, 30 May 2008 12:58:22 -0400</b>
</p>

<p>
On Fri, May 30, 2008 at 08:51:32AM -0400, don warner saklad wrote:
</p>

<pre>
&gt; For users of RMAIL in Emacs, how do you deal with spam messages?...
</pre>

<p>
I would think that it would be the same as everyone else. Whatever
client you choose to use is irrelevant - spam filtering happens before
that stage.
</p>

<p>
The email chain looks like this, assuming a typical end-user to end-user
interaction and POP:
</p>

<p>
1. User1 composes and sends a message to User2, which is handled by
User1's SMTP host.
</p>

<p>
2. That SMTP host contacts User2's SMTP host and transfers the mail
there, where it's stored for retrieval.
</p>

<p>
3. User2 retrieves the mail from that host via POP, processes it, and 
stores it in a local mbox, where it's available for reading.
</p>

<p>
Obviously, if User1 is a spammer, there's no hope of doing anything at
stage 1; both the outgoing email client and the SMTP server are going to
be under his control. Stage 2, however, gives us a pretty good
opportunity: we can use SPF (Sender Policy Framework) or other, similar
tools to do SMTP-time spam rejection - possibly one of the most
effective tools in the arsenal. This, however, requires a cooperative
system administrator - and that's not always the case. At that point, we
have to deal with everything at stage 3 - which involves filtering such
as Spamassassin, etc. On the one hand, this places the burden of
filtering on the user and requires him to be well-educated about spam,
etc.; on the other hand, it allows for precise custom configuration.
</p>

<p>
If 'procmail' is installed on your system, the easiest approach would be
to configure it (via your ~/.procmailrc) to handle spam - or, better
yet, send it to the latest generation of anti-spam software for further
processing. I wrote an article about that a while back:
<a href="../../../issue62/okopnik.html">http://linuxgazette.net/issue62/okopnik.html</a>
</p>


<pre>
&gt; Not all messages appear with SpamAssassin headers.
</pre>

<p>
Perhaps some of your upstream hosts don't use SA, while some others do.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-for_users_of_rmail_in_emacs_how_do_you_deal_with_spam_messages">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
don warner saklad [don.saklad at gmail.com]

</p>
</b><br />
<b>Fri, 30 May 2008 14:00:52 -0400</b>
</p>

<p>
Thank you Ben Okopnik !
</p>

<p>
It's going to be years before I've learned enough to wrap my brain around
<a href="../../../issue62/okopnik.html">http://linuxgazette.net/issue62/okopnik.html</a>
</p>

<p>
I'm told it's possibly exim, whatever that is.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-for_users_of_rmail_in_emacs_how_do_you_deal_with_spam_messages">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Fri, 30 May 2008 17:46:50 -0400</b>
</p>

<p>
Hi, Don -
</p>

<p>
On Fri, May 30, 2008 at 02:00:52PM -0400, don warner saklad wrote:
</p>

<pre>
&gt; Thank you Ben Okopnik !
</pre>

<p>
You're welcome - glad I could help.
 
</p>

<pre>
&gt; It's going to be years before I've learned enough to wrap my brain around
&gt; <a href="../../../issue62/okopnik.html">http://linuxgazette.net/issue62/okopnik.html</a>
</pre>

<p>
Feel free to ask if there's anything in there that you don't understand.
I have a feeling that the author is a friendly, helpful sort of fellow,
and would be willing to explain things in detail. <img src="../gx/smile.png" alt=":)">
 
</p>

<pre>
&gt; I'm told it's possibly exim, whatever that is.
</pre>

<p>
Exim is the MTA (Mail Transfer Agent) that's responsible for sending
(and in some cases, receiving) mail. It couples quite well with
procmail, which is the processor that I covered in that article - in
fact, I think that I was running Exim at that time as well.
</p>

<p>
The article itself is essentially a series of instructions and
explanations that tell you how to set up your own spam filter.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-for_users_of_rmail_in_emacs_how_do_you_deal_with_spam_messages">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Rick Moen [rick at linuxmafia.com]

</p>
</b><br />
<b>Fri, 30 May 2008 14:47:28 -0700</b>
</p>

<p>
Hey, it's the legendary Don Saklad, the man with his own tribute pages!
</p>

<p>
Quoting don warner saklad (don.saklad@gmail.com):
</p>


<pre>
&gt; For users of RMAIL in Emacs, how do you deal with spam messages?...
</pre>

<p>
By strong preference, you deal with it _in your MTA_, long before it
reaches Emacs/RMAIL (your MUA).  
</p>

<p>
By the time your MTA has already SMTP-250-accepted the mail stream, it's
too late to do anything but detect and delete any spam within it.  
<em>Before</em> acceptance, if you can programmatically determine that a
partcular mail is junkmail, you can cause your MTA to say "550 Die
spammer, die" (loosely paraphrasing), thus steering deftly between the
Scylla of accepting and discarding spam and the Charybdis of accepting
and bouncing it (which tends, of course, to create backscatter spam to
innocent third parties).
</p>

<p>
But that didn't actually answer your question as posed, did it?
</p>

<p>
Technopeasants who don't run their own MTAs are, to use the technical
term, screwed.  ;-&gt;  But, as Ben said separately, you can certainly 
pass the received mail spool through procmail rulesets, SpamAssassin,
etc., to help decide what to throw away.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-for_users_of_rmail_in_emacs_how_do_you_deal_with_spam_messages">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
don warner saklad [don.saklad at gmail.com]

</p>
</b><br />
<b>Fri, 30 May 2008 20:18:54 -0400</b>
</p>

<p>
Currently I use...
</p>

<p>
Esc C-s Regexp to summarize by:
</p>

<p>
and filter out strings, for example...
</p>

<pre>
watches
pill
meds
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-for_users_of_rmail_in_emacs_how_do_you_deal_with_spam_messages">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>