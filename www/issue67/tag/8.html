<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.3E.u">
<TITLE>The Answer Gang 67: Linux Kernel Crashdumps: HOW?</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<P> <hr> 
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<P> <hr> <P>
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer67.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer67.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="bios.html">bios</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A> &nbsp;
  <A HREF="10.html">10</A> &nbsp;
  <A HREF="12.html">12</A> &nbsp;
  <A HREF="13.html">13</A> &nbsp;
  <A HREF="14.html">14</A> &nbsp;
  <A HREF="15.html">15</A> &nbsp;
  <A HREF="16.html">16</A> &nbsp;
  <A HREF="17.html">17</A> &nbsp;
  <A HREF="18.html">18</A> &nbsp;
  <A HREF="19.html">19</A> &nbsp;
  <A HREF="20.html">20</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By Jim Dennis, Ben Okopnik, Dan Wilder, Breen, Chris, and the Gang,
	the Editors of Linux Gazette... 
	and You!
<br>Send questions (or interesting answers) to
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
</H4>
<p><em><font color="#990000">There is no guarantee that your questions
	here will <b>ever</b> be answered.  You can be published anonymously 
	- just let us know!
</font></em></p>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 8 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Linux Kernel Crashdumps: HOW?</H3>
<H4 ALIGN="center">... and links to lots of unofficial kernel patches</H4>


<p><strong>From 
Sachin
</strong></p> 
<p align="right"><strong>Answered By Jim Dennis
<br></strong></p>

<!-- sig -->

<!-- ::
Linux Kernel Crashdumps: HOW?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
... and links to lots of unofficial kernel patches
:: -->
<P><STRONG>
Hi All,
</STRONG></P>
<P><STRONG>
How do we configure dump device on linux( <A HREF="http://www.suse.com/">SuSE</A> 7.1 ) so that when system
panics I can get kernel crash dump.I have two scsi disks and want to use one
of the scsi disk as dump device.
</STRONG></P>
<P><STRONG>
Thanks,
<br>Sachin
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [JimD]
Linux doesn't crash.  (Well, not very often, anyway).
</BLOCKQUOTE>
<BLOCKQUOTE>
More to the point, the canonical Linux kernel doesn't include
"crashdump" support (where a kernel panic dumps the system core
state to the swap partitions or some other device).  Linus doesn't
consider this to be a sufficiently compelling feature to offset the
increased code complexity that it entails.  (Linux also doesn't
panic as easily as some other UNIX kernels --- it will log an
"Oops" for those hardware errors or device driver bugs that are
considered "recoverable").
</BLOCKQUOTE>
<BLOCKQUOTE>
However, if you really want this feature, you can apply the
"lkcd" (Linux Kernel Crash Dump) kernel patches from SGI's OSS
(Open Source Software) web site at:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQuote>
<A HREF="http://oss.sgi.com/projects/lkcd"
	>http://oss.sgi.com/projects/lkcd</A>
</BLOCKQuote></BLOCKQUOTE>
<BLOCKQUOTE>
You'll also want to grab the suite of utilities that goes with
the kernel patch.  The vmdump command configures the kernel to
use its dump feature (telling it <EM>which</EM> swap partition to use
for example) and another vmdump directive is normally used to
detect and save dumps.  (If your familiar with the 'savecore' command
in some other forms of UNIX, then this will make sense to you).
</BLOCKQUOTE>
<BLOCKQUOTE>
There's also an 'lcrash' utility which is used to help perform
crashdump analysis.
</BLOCKQUOTE>
<BLOCKQUOTE>
Note that there are a number of other "unofficial" kernel patches
like this one.  For example there are interactive kernel debuggers
that you can compile into your system's kernel.
</BLOCKQUOTE>
<BLOCKQUOTE>
You can read about some of them at:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQuote>
<A HREF="http://oss.sgi.com/projects"
	>http://oss.sgi.com/projects</A>
</BLOCKQuote></BLOCKQUOTE>
<BLOCKQUOTE>
... and find more at:
</BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
Rock Projects Collection (takes over where Linux Mama left off)
<DD><A HREF="http://linux-patches.rock-projects.com"
	>http://linux-patches.rock-projects.com</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE>
LinuxHQ
<A HREF="http://www.linuxhq.com/kernel"
	>http://www.linuxhq.com/kernel</A>
(Look for the links like "Unofficial kernel patches").
</BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
IBM ("Big Blue")
<DD><A HREF="http://oss.software.ibm.com/developer/opensource/linux/patches/kernel.php"
	>http://oss.software.ibm.com/developer/opensource/linux/patches/kernel.php</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE>
(Mostly small, deep performance tweaks and bugfixes, and
simple feature enhancements).
</BLOCKQUOTE>
<BLOCKQUOTE>
Ibiblio (formerly Metalab, formerly Sunsite.unc.edu)
<A HREF="http://www.ibiblio.org/pub/Linux/kernel/patches"
	>http://www.ibiblio.org/pub/Linux/kernel/patches</A>!INDEX.html
(Mostly very old).
</BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
Adrea Arcangeli (et al)'s In Kernel Debugger:
<DD><A HREF="ftp://e-mind.com/pub/andrea/ikd"
	>ftp://e-mind.com/pub/andrea/ikd</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
The International/Crypto Support Patch
<DD><A HREF="http://www.kerneli.org"
	>http://www.kerneli.org</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
<A HREF="http://www.xs4all.nl/~freeswan/">FreeS/WAN</A> IPSec (includes some patches which aren't at kerneli)
<DD><A HREF="http://www.freeswan.org"
	>http://www.freeswan.org</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
Solar Designer's Security Features Patches
<DD><A HREF="http://www.openwall.com/linux"
	>http://www.openwall.com/linux</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
... and some additions to that from "Hank":
<DD><A HREF="http://www.doutlets.com/downloadables/hap.phtml"
	>http://www.doutlets.com/downloadables/hap.phtml</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
... and the "Linux Intrusion Defense/Detection System"
<DD><A HREF="http://www.lids.org"
	>http://www.lids.org</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE>
(which mostly incorporates and builds upon the
Openwall patches and lots more)
</BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
U.S. National Security Agency's "Security Enhanced" Linux
<DD><A HREF="http://www.nsa.gov/selinux/download.html"
	>http://www.nsa.gov/selinux/download.html</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE>
(Yes, you read that right! The secretive "no such
agency" has released a set of open source Linux
patches.  Everybody's getting into the Linux kernel
security patch game!)
</BLOCKQUOTE>
<BLOCKQUOTE><DL><DT>
... and even more
<DD><A HREF="http://www1.informatik.uni-erlangen.de/tree/Persons/bauer/new/linux-patches.html"
	>http://www1.informatik.uni-erlangen.de/tree/Persons/bauer/new/linux-patches.html</A>
</DL></BLOCKQUOTE>
<BLOCKQUOTE>
(Links with some duplicates to the list I've
created here).
</BLOCKQUOTE>
<BLOCKQUOTE>
I've deliberately left out all of the links to "real-time"
kernel patches.  (I think I created a link list for an answer that
related to various forms of "real-time" Linux (RTLinux, RTAI, KURT,
TimeSys.com et al) within the last couple of months. (Search the
back issues for it, if you need more on that).
</BLOCKQUOTE>
<BLOCKQUOTE>
So, obviously there are alot of unofficial kernel patches out there.
</BLOCKQUOTE>
<BLOCKQUOTE>
One reason I went to the bother of list all these sites, is that I'm
guessing that you might be doing kernel development work.  Linux kernels
just don't crash very often in production use so that seems like the
mostly likely reason for anyone to need crash dump support. (Besides,
it'll amuse the rest of my readership).
</BLOCKQUOTE>
<BLOCKQUOTE>
Among these many patches you may find good examples and useful code
that you can incorporate into your work.
</BLOCKQUOTE>

<!-- end 8 -->
<!--startcut ======================================================= -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<a href="http://www.linuxgazette.net/copying.html"
        >Copyright &copy;</a> 2001
<BR>Published in issue 67 of <I>Linux Gazette</I> June 2001</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
        <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
<!-- *** END copyright *** -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer67.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer67.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="bios.html">bios</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A> &nbsp;
  <A HREF="10.html">10</A> &nbsp;
  <A HREF="12.html">12</A> &nbsp;
  <A HREF="13.html">13</A> &nbsp;
  <A HREF="14.html">14</A> &nbsp;
  <A HREF="15.html">15</A> &nbsp;
  <A HREF="16.html">16</A> &nbsp;
  <A HREF="17.html">17</A> &nbsp;
  <A HREF="18.html">18</A> &nbsp;
  <A HREF="19.html">19</A> &nbsp;
  <A HREF="20.html">20</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> 
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
