<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html><head>
<META NAME="generator" CONTENT="lgazmail v1.1D.l">
<TITLE>The Answer Guy 34: 
Quotas for Outgoing e-mail
</TITLE> 
<!-- ORIGINAL SUBJECT:
e-mail quotas 
JTD SUBTITLE:

-->
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#A000A0"
ALINK="#FF0000">
<H4>"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H1 align="center"><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="" border="0" align="middle">
	<a href="../index.html">The Answer Guy</a>
	<img src="../../gx/dennis/bbubble.gif" alt="" border="0" align="middle">
</A></H1> 
<BR>
<H4 align="center">By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
	<BR>Starshine Technical Services, <A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H4>
<p><hr><p>
<!--endcut ========================================================= -->
<H3><img src="../../gx/dennis/qbub.gif" alt="(?)"
width="50" height="28" align="left" border="0"
>Quotas for Outgoing e-mail</H3>
<p><strong>From tng on 14 Sep 1998 </strong></p>
<!-- begin body -->


<p><strong>I've been searching for 3 days on setting up some kind of e-mail quota
to restrict the abount of e-mail that can be sent by aparticular
person.  I been to 
<a href="http://altavista.digital.com/">altavista</a> 
did a search that turned up 1700 maches
none of which were of any help.  I went to 
<a href="http://www.sendmail.org/">sendmail.org</a> and browsed
their their online documentation, gone through news group archives to
find myself still wondering if there is software available to do it.  I
found lots of info about setting up bulk e-mailers and stopping
incomming spam but nothing for stopping my local users from bulk
e-mailing and spamming others.  I would be greatful for any help on this
matter.
</strong></p>

<p><strong>thanks in advance...
tng
</strong></p>

<blockquote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)" height="28" width="50" align="bottom">Well, that's a new one.  I don't know of any package 
that does this.   
</blockquote>

<blockquote>I'm sure it can be done --- you could define a 
custom mailer (one of those funny looking Mprog lines
in a <tt>sendmail.cf</tt> file).  Let's call this the quota mailer
--- you'd then define that as the mailer to over-ride the
built-in smtp mailer.  You're quota mailer could then
be reponsible for counting messages, addresses, bytes,
etc and updating a database of authorized users and relayers
--- and then relaying the mail into a queue where a 
different sendmail (using a different configuration) would 
send it out (probably as a regular '<TT>cron</TT>' job).
</blockquote>

<blockquote>The quickest way to get such a beast built might be to
hire a consultant like Robert Harker (he specializes in 
'<tt>sendmail</tt>' and teaches tutorials in it <A HREF="http://www.harker.com">http://www.harker.com</A>).
</blockquote>

<blockquote>For <tt>qmail</tt> or <tt>VMailer</tt> there might be an easier way.
</blockquote>

<blockquote>Another problem you'll have with this is that you'd have 
to prevent people from bypassing all of your mail user
agents and sending their mail using some custom program that
they've installed themselves.  This could work by simply 
opening a TCP connection to the smtp port (25) of their 
addressee's sites (or any open relayer) directly.  You'd
have to put packet filters on all of your egress routes
(firewalls and border routers) to prevent this, thus forcing
your customers/user to use your outbound relay.
</blockquote>

<blockquote>There are several commercial products that do filtering of
outbound mail (MIMESweeper, WebShield, that sort of thing).
They purport to protect companies from insiders who might
be mailing company secrets out to their competitors.  
In general I think this is a pathetic approach to the risk
(they can easily shove the data on a diskette, Zip disk 
or whatever, and mail it; or they can encrypt it --- using
pkzip with it's "scramble" encryption and mail that as a
"bitmap" --- or they can use freely available tools to do
some serious steganography).
</blockquote>

<blockquote>However, these "mail firewalls" may be adaptable to your 
needs.  Also, there may be some free one floating around
that I haven't heard of.
</blockquote>

<blockquote>The best place to ask for more info on this is in the
<a href="news:comp.mail.sendmail">comp.mail.sendmail</a> 
newsgroup (I don't know of a general
mail transfer agents newsgroup -- so <tt>c.m.sendmail</tt> seems
to get all of that traffic.  I expect there'll be a
<tt>comp.mail.qmail</tt> and a <tt>comp.mail.vmailer</tt> 
eventually).
</blockquote>

<blockquote>I suppose you could also ask in 
<a href="news:comp.security.firewalls">comp.security.firewalls</a>
--- and you could dig up the mailing lists for qmail,
VMailer and the firewalls mailing list (which recently 
moved off of Brent's site at Great Circle Associates and
is hosted by some friends of his at GNAC)  --- you'll
have to spend some quality Yahoo!/Deja News/Alta Vista
time hunting down those venues.
</blockquote>
<!-- end body -->

<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 1998, James T. Dennis <BR>
Published in <I>Linux Gazette</I> Issue 34 November 1998</H5>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<P align="center">
<table width="98%"><tr valign="center" align="center">
<td rowspan="3"><A HREF="../lg_answer34.html"><IMG
        SRC="../../gx/dennis/answernew.gif"
        ALT="[ Answer Guy Index ]"></A></td>
  <td><A HREF="./apache.html">apache</a>
  <td><A HREF="./current.html">current</a>
  <td><A HREF="./digi.html">digi</a>
  <td><A HREF="./ether.html">ether</a>
  <td><A HREF="./goodtimes.html">goodtimes</a>
  <td><A HREF="./intlX.html">intlX</a>
  <td><A HREF="./largedisk.html">largedisk</a>
</tr><tr valign="center" align="center">
  <td><A HREF="./maybe.html">maybe</a>
  <td><A HREF="./numlock.html">numlock</a>
  <td><A HREF="./quota.html">quota</a>
  <td><A HREF="./recovery.html">recovery</a>
  <td><A HREF="./script.html">script</a>
  <td><A HREF="./serial.html">serial</a>
  <td><A HREF="./session.html">session</a>
</tr><tr valign="center" align="center">
  <td><A HREF="./sound.html">sound</a>
  <td><A HREF="./tape.html">tape</a>
  <td><A HREF="./testsuite.html">testsuite</a>
  <td><A HREF="./w95ie.html">w95ie</a>
  <td><A HREF="./w95ras.html">w95ras</a>
  <td><A HREF="./w95virus.html">w95virus</a>
  <td><A HREF="./xdm.html">xdm</a>
</tr></table>
	</P>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"><IMG SRC="../../gx/indexnew.gif"
        ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"><IMG SRC="../../gx/homenew.gif"
        ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes34.html"><IMG SRC="../../gx/back2.gif"
        ALT="[ Previous Section ]"></A>
<A HREF="../izquierdo.html"><IMG SRC="../../gx/fwd.gif"
        ALT="[ Next Section ]"></A>
</body>
</html>
<!--endcut ========================================================= -->

