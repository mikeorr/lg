<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.4F.j">
<TITLE>The Answer Gang 73: Just wondering</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer73.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer73.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By Jim Dennis, Ben Okopnik, Dan Wilder, Breen, Chris, and the Gang,
	the Editors of Linux Gazette... 
	and You!
<br>Send questions (or interesting answers) to
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
</H4>
<p><em><font color="#990000">There is no guarantee</font></em> 
	that your questions here will <b>ever</b> be answered.  
	<em><font color="#990000">Readers at confidential sites</font></em> 
	must provide permission to publish.  However, 
	<em><font color="#990000">you can be published anonymously</font></em>
	- just let us know!
</p>
<p>TAG <a href="../tag/bios.html">Member bios</a>
     | <a href="../../tag/members-faq.html">FAQ</a>
     | <a href="../../tag/kb.html">Knowledge base</a></p>
</center>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<p><hr><p>
<!-- begin 9 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Just wondering</H3>


<p><strong>From andrew 
</strong></p> 
<p></strong></p>

<!-- sig -->


<p align="right"><strong>Answered By  Jim Dennis, Faber Fedor
</strong></p>
<P><STRONG>
This is a multi-part message in MIME format.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
First off, this is a major no-no around these here parts.  Please send
your emails as text only, NOT as HTML.  Most of us will refuse to read
HTML (because we don't use Outlook, Netscape, etc.).  We even have one
guy here who carries around a riffle for people who send MIME formatted
emails! 
<IMG SRC="../../gx/dennis/smily.gif" ALT=";-)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
I'll answer your Q this time, but any more that come in as anything
other than text only will be ignored (at least by me).
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [JimD]
</blockQuote>
<blockQuote>
Note that his message was in text <EM>and</EM> HTML.  This is more of a
venial sin; though MIME handling of some text mode MUAs isn't all
that good and both sections seemed to be in MIME parts (one text/plain
and one text/html).
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Hello,
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
Hi.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I am wondering if you could help.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
We try our best.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
My question is if i was to buy a Redhat 7.2 CD
&amp; choose the Upgrade will i expect my major services to break or will
this upgrade be able to make it as painless as possible.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Faber] 
Yes, it will be as painless as possible and yes it <EM>will</EM> break things.
It all depends on what you are running.  If you save your configuration
files (the Upgrade promises to do that, and I beleive it but I don't
trust it), you should have minimal problems.  <A HREF="http://www.redhat.com/">Red Hat</A> will save your
config files as config_file.rpmsave, so you'll still have to go in and
"fix" stuff.
</blockQuote>
<blockQuote>
Outside of that, the only problem I've had upgrading a system is when
the 2.4 kernel didn't have a driver/module for the RIAD controller and
we had to drop back to the 2.2 kernel and it broke DNS because the
BIND on the CDs is looking for a specific 2.4 kernel feature.  Outside
of that, they've all gone well.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [JimD]
</blockQuote>
<blockQuote>
Personally I prefer the "scorched disk" upgrade method.  That's
where we do a fresh installation to a new disk and copy our data
and configuration over.
</blockQuote>
<blockQuote>
Obviously this works best if you have (at least temporary use of) a
whole system on which to perform your staging.
</blockQuote>
<blockQuote>
<A HREF="http://www.debian.org/">Debian</A> is the only system that I regularly upgrade from one major
release to the next without "scorching the earth" beneath it.  In
other cases I've just seen too many artifacts and quirks in other
operating systems when upgrading core libraries and system components.
</blockQuote>
<blockQuote>
An advantage to the "scorched disk" approach is that you have an
obvious back of the entire system throughout the process.  You can
easily switch back to the old system.  So it represents a lower risk
than the typical "boot from the new distribution CD, cross you fingers
and pray" process (herein-after referred to as the "boot and pray"
technique).
</blockQuote>
<blockQuote>
If you don't have a whole system to spare then get a spare hard disk.
Most systems have a spare interface/channel to which a third or fourth
IDE device can be attached (and PCs with SCSI subsystems almost always
have spare IDs <EM>and</EM> spare IDE interfaces).  Care should be taken
when connecting a new IDE hard drive to an IDE chain with any
other IDE device already on it.  (I once wiped out a system by
accidentally configuring two drives as masters --- the pinouts on
those used to be harder to figure out; bad documentation.  Luckily the
customer's backups were good and recent).
</blockQuote>
<blockQuote>
After you get the new drive in place and make it bootable, be sure
to mount the old filesystems in read-only mode during the transition.
</blockQuote>
<blockQuote>
When your done with all of the data and configuration transfer you can
put the drive on a shelf for a few weeks, months, or whatever.  When
the filesystems on the old drive are so far out of date that you wouldn't
use them in the worst case --- then the drive is ripe for putting into
a new system.
</blockQuote>
<blockQuote>
Of course its possible to do this using tapes, CDR, DVD-RAM or whatever
removable media you normally use for your regular backups.  However,
the mismatch between the sizes of most production filesystem and
removable filesystem media make this convenient.  Tapes are big enough
but they must be accessed using archiving utilities which is also
inconvenient.
</blockQuote>
<blockQuote>
So it is best to use an extra drive where you can.
</blockQuote>
<blockQuote>
The hardest thing about any upgrade is knowing when you're done.
How confident can we be that <EM>everything</EM> is working? This is
one of the challenges to professional systems administration that
remains largely unsolved.
</blockQuote>
<blockQuote>
Ideally we should be able to run an automated test suite which
would test each service and application on our system(s) (locally
and from remote systems, including some from "out on the Internet" for
public servers).  Recently I've been reading about "Extreme
Programming" which advocates the continuous creation and
maintenance of automated test suites which are integrated into
the sources and makefiles of a software system.  I've come to the
conclusion that sysadmins need to adopt similar practices.  We
need something like an <TT>/etc/systest/Makefile</TT> what launches these
checks for a given host.
</blockQuote>
<blockQuote>
However, that's work for another time -- an article of its own.
For now you'll just have to muddle through and test your newly
(upgraded) system using whatever procedures you normally use to
</blockQuote>

<!-- end 9 -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<a href="http://www.linuxgazette.net/copying.html"
        >Copyright &copy;</a> 2001
<BR>Published in issue 73 of <I>Linux Gazette</I> December 2001</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
        <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
<!-- *** END copyright *** -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer73.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer73.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
