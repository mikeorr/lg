<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.3B.f">
<TITLE>The Answer Guy 50: Tape Drive Errors</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H4>"The Linux Gazette...<I>making Linux just a little more fun!</I>"</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Guy</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	LinuxCare,
	<A HREF="http://www.linuxcare.com/">http://www.linuxcare.com/</A> 
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 2 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Tape Drive Errors</H3>


<p><strong>From M Wyn  on Thu, 20 Jan 2000  
</strong></p>
<!-- ::
Tape Drive Errors
~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
Please also send me a copy of your answer if you
got one. Many thanks.
</STRONG></P>
<P><STRONG><DL><DT>
Michael Wyn
</DL></STRONG></P>
<P><STRONG>
I've just bought a Dell 1300 server with factory-installed
RedHat 6.1. The machine was ordered with an internal Seagate DAT
tape drive. It is a SCSI, DDS-3 24G, STD124000N (3.5")
internal unit.  The <TT>/var/log/dmesg</TT> file identifies the drive:
"<TT>Detected scsi tape st0 at scsi0, channel 0, id 6, lun 0</TT>".
</STRONG></P>
<P><STRONG>
Issuing command (as root):
</STRONG></P>
<P><STRONG><BlockQuote>
 '<TT>mt -f <TT>/dev/st0</TT> status</TT>' with a DAT in, returns
</BlockQuote></STRONG></P>

<pre><strong>     "SCSI 2 tape drive:
     File number= -1, block number=-1, partition=0
     Tape block size 0 bytes. Ddensity code 0x0 (default).
     Soft error count since last status =0
     General status bits on (10000):
     IM_REP_EN"
</strong></pre>
<P><STRONG>
and the tape access lite blinks indicating error
reading the tape.  Ejected tape then re-inserted it to clear
the blinking lite then issuing command (as root):
</STRONG></P>

<pre><strong>     'mt -f /dev/st0 rewind'
</strong></pre>
<P><STRONG>
returns: "<TT>/dev/st0: Input/output error</TT>"
</STRONG></P>
<P><STRONG>
Doing a  '<TT>tar cvf /dev/st0 .</TT>' will return I/O errors. In
short, the tape drive is not useable.
</STRONG></P>
<P><STRONG>
RedHat folks suggested to install the '<TT>mt-st0.5b-4.i386.rpm</TT>'.
Issuing '<TT>rpm -iq mt-st</TT>' returns a message saying that it is
installed. Trying to '<TT>rpm -Uvh mt-st-0.5b-4.i386.rpm</TT>' and got
the "package installed" message.  Tried to de-install using
'<TT>rpm -e mt-st-0.5b-4.i386.rpm</TT>' and got '<TT>package not installed</TT>'
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
They definitely don't understand your question!
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Dell told me to call <A HREF="http://www.linuxcare.com/">Linuxcare</A>.  No answer just yet. Any idea?
Private email would be highly appreciated. Thanks.
Michael Wyn
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Oddly enough I work for Linuxcare.
</BLOCKQUOTE>
<BLOCKQUOTE>
On most 4mm DAT drives the "blinking" LED error
is an indication that the drive needs to be cleaned.
I'd run a cleaning tape into the drive and let it
run.
</BLOCKQUOTE>
<BLOCKQUOTE>
I highly recommend running your data through Lee
McLoughlin's 'buffer' program.  That should be
included with your distribution or find it at
Freshmeat (<A HREF="http://www.freshmeat.net"
	>http://www.freshmeat.net</A>) or RPM Find
(<A HREF="http://www.rpmfind.net"
	>http://www.rpmfind.net</A>).  'buffer' will
smooth the system's access to the tape drive,
ensure steady flow and good "streaming."  Search
the back issues of my column for the gory details.
</BLOCKQUOTE>
<BLOCKQUOTE>
Other than that I'd suggest having the drive
serviced.  It wouldn't hurt to upgrade your
kernel (if you're still running 2.2.5, which
shipped with the most recent <A HREF="http://www.redhat.com/">Red Hat</A>).  However,
I've never heard of any software/driver problems
with the Linux st (SCSI tape) drivers.
</BLOCKQUOTE>

<!-- sig -->
<!-- end 2 -->
<!--              . . . . . . . . . . . . . . . . . . .              -->
<HR WIDTH="40%" ALIGN="center">
<!-- begin 2 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Seagate SCSI tape problem</H3>


<p><strong>From M Wyn on Fri, 21 Jan 2000  
</strong></p>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
I hate suggesting hardware RMA (return merchandise
authorization) --- but this does sound very hardware-ish
</BLOCKQUOTE>
<P><Strong><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>Thanks for your note.
<br>I cleaned the drive using a brand new cleaning tape from Dell.
No success. Additional info:
</strong><P>
<P><Strong>
when I tried issuing '<TT>mt -f /dev/st0 load</TT>', I got
"<TT>st0: error with sense data: [valid=0] Info fld=0x0,
current st09:001 sense key Hardware error. /dev/st0: Input/Output error</TT>"
</strong></P>
<P><Strong>
You may be right that I have a defective tape drive unit (even it
was received in Dec. 99). Incidentally, I erased a voice message
from a Dell representative saying that after the unit was shipped,
they found out that DAT tape drive was not "certified" yet [.. with
linux 6.1 and Dell 1300 server..].
</strong></P>
<P><Strong>
I'll be contacting them this morning.
If you have additional comments/suggestions, please email them
to me.
</strong></P>
<P><Strong>
Sincerely;
<br>Michael Wyn
</strong></P>

<!-- end 2 -->
<!--              . . . . . . . . . . . . . . . . . . .              -->
<HR WIDTH="40%" ALIGN="center">
<!-- begin 1 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Tape Drive Errors</H3>

<p><strong>From M Wyn on Sun, 30 Jan 2000  
</strong></p>
<p><strong>
Thanks for your note.
It turns out that the tape driver terminator came loose during shipping.
Pressed it in firmly (a sweet click was heard!) and the tape is
running AOK now.
</strong></p>
<p><strong>
Sincerely;
</strong></p>
<p><strong>
Michael Wyn
</strong></p>

<!-- end 1 -->
<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 2000, James T. Dennis 
<BR>Published in <I>The Linux Gazette</I> Issue 50 February 2000</H5>
<H6 ALIGN="center">HTML transformation  by
	<A HREF="mailto:star@starshine.org">Heather Stern</a> of
	Starshine Technical Services,
	<A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H6>
<P> <hr> <P>
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<TABLE WIDTH="95%"><TR VALIGN="center" ALIGN="center">
<TD colspan="2" rowspan="2"><A 
	HREF="../lg_answer50.html"
	><IMG SRC="../../gx/dennis/answernew.gif"
              ALT="[ Answer Guy Current Index ]"></A>
<TD colspan="2" rowspan="2"><A 
	HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answertoc.gif"
              ALT="[ Index of Past Answers ]"></A></td>
  <TD WIDTH="11%"><A HREF="../lg_answer50.html#greeting"><img
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A></TD>
  <TD WIDTH="11%"><A HREF="1.html">1</A></TD>
  <TD WIDTH="11%"><A HREF="2.html">2</A></TD>
  <TD WIDTH="11%"><A HREF="3.html">3</A></TD>
  <TD WIDTH="11%"><A HREF="4.html">5</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="11%"><A HREF="5.html">5</A></TD>
  <TD WIDTH="11%"><A HREF="6.html">6</A></TD>
  <TD WIDTH="11%"><A HREF="7.html">7</A></TD>
  <TD WIDTH="11%"><A HREF="8.html">8</A></TD>
  <TD WIDTH="11%"><A HREF="9.html">9</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="10.html">10</A></TD>
  <TD WIDTH="10%"><A HREF="11.html">11</A></TD>
  <TD WIDTH="10%">&nbsp;</TD>
  <TD WIDTH="10%"><A HREF="13.html">13</A></TD>
  <TD WIDTH="11%"><A HREF="14.html">14</A></TD>
  <TD WIDTH="11%"><A HREF="15.html">15</A></TD>
  <TD WIDTH="11%"><A HREF="16.html">16</A></TD>
  <TD WIDTH="11%"><A HREF="17.html">17</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="18.html">18</A></TD>
  <TD WIDTH="10%"><A HREF="19.html">19</A></TD>
  <TD WIDTH="10%"><A HREF="20.html">20</A></TD>
  <TD WIDTH="10%"><A HREF="21.html">21</A></TD>
  <TD WIDTH="11%"><A HREF="22.html">22</A></TD>
  <TD WIDTH="11%"><A HREF="23.html">23</A></TD>
  <TD WIDTH="11%"><A HREF="24.html">24</A></TD>
  <TD WIDTH="11%">&nbsp;</TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="26.html">26</A></TD>
  <TD WIDTH="10%"><A HREF="27.html">27</A></TD>
  <TD WIDTH="10%"><A HREF="28.html">28</A></TD>
  <TD WIDTH="10%"><A HREF="29.html">29</A></TD>
  <TD WIDTH="11%"><A HREF="30.html">30</A></TD>
  <TD WIDTH="11%"><A HREF="31.html">31</A></TD>
  <TD WIDTH="11%"><A HREF="32.html">32</A></TD>
  <TD WIDTH="11%"><A HREF="33.html">33</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="34.html">34</A></TD>
  <TD WIDTH="10%">&nbsp;</TD>
  <TD WIDTH="10%"><A HREF="36.html">36</A></TD>
  <TD WIDTH="10%"><A HREF="37.html">37</A></TD>
  <TD WIDTH="11%"><A HREF="38.html">38</A></TD>
  <TD WIDTH="11%"><A HREF="39.html">39</A></TD>
  <TD WIDTH="11%"><A HREF="40.html">42</A></TD>
  <TD WIDTH="11%"><A HREF="41.html">41</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="42.html">42</A></TD>
  <TD WIDTH="10%"><A HREF="43.html">43</A></TD>
  <TD WIDTH="10%"><A HREF="44.html">44</A></TD>
  <TD WIDTH="10%"><A HREF="45.html">45</A></TD>
  <TD WIDTH="11%"><A HREF="46.html">46</A></TD>
  <TD WIDTH="11%"><A HREF="47.html">47</A></TD>
  <TD WIDTH="11%"><A HREF="48.html">48</A></TD>
</TR></TABLE>
</TR><TR VALIGN="center" ALIGN="center">
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> <P>
<!-- begin lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"
	><IMG SRC="../../gx/indexnew.gif" ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"
	><IMG SRC="../../gx/homenew.gif" ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes50.html"
	><IMG SRC="../../gx/back2.gif" ALT="[ Previous Section ]"></A>
<A HREF="../../faq/index.html"
	><IMG SRC="../../gx/dennis/faq.gif"
              ALT="[ Linux Gazette FAQ ]"></A>
<A HREF="../lg_tips50.html"
	><IMG SRC="../../gx/fwd.gif" ALT="[ Next Section ]"></A>
<!-- end lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
