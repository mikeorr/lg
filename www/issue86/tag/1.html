<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<META NAME="generator" CONTENT="lgazmail v1.4G.a">
<TITLE>The Answer Gang 86: Troubleshooting boot-time video mode problems</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->
<!-- begin 1 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Troubleshooting boot-time video mode problems</H3>


<p><strong>From Scott Rafferty 
</strong></p> 
<p></strong></p>

<p align="right"><strong>Answered By  Joshua Jeffrey Wingstrom, Karl-Heinz Herrman, Matthias Posseldt
</strong></p>
<blockQuote>
In reply to
<a href="../issue77/tag/2.html">TAG #2, Issue 77</a>
</blockQuote>
<P><STRONG>
Josh,
</STRONG></P>
<P><STRONG>
Sorry for the intrusion.  Came across your name in a linux archive.
Your brother had a similar problem to the one I'm having right now and I
was wondering if he managed to resolve the issue.  The problem is the
blank screen on bootup (no boot messages, no logon prompt etc)...I kinda
agree with your hardware/card theory as I too am using a GEFORCE 2 card.
</STRONG></P>
<P><STRONG>
I can get the console text/logon prompt to appear by logging in
(although I can't see what I'm typing) and starting X and then quitting
X.  This seems to "restore the correct mode" and the text logon prompt
appears fine.
</STRONG></P>
<P><STRONG>
Booting up rescue mode or doing a text install from the CD seems to show
the console text no problem though so why would my newly installed
kernel just blank the screen.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [K.-H.] 
just an idea:
</blockQuote>

<blockQuote><ul>
<!-- *) text-install uses a plain text console -->

<LI>text-install uses a plain text console

<!-- *) rescue CD's/floopy use a plain text console -->

<LI>rescue CD's/floopy use a plain text console
</ul></blockQuote>
<blockQuote>
but: At least <A HREF="http://www.suse.com/">SuSE</A>'s regular boot process shows a penguin or something and
therefore must have switched to some non-text console (VGA mode). Maybe your
card doesn't like that?
</blockQuote>
<blockQuote>
boot messages are of course always readable later on via dmesg, but I agree
that if something goes wrong and boot hangs it would be nice to see the
messages....
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Very little information on this problem in general.  It's extremely
frustrating.  I'd like to see my boot messages.  Interestingly enough
I've encountered the same problem with Mandrake and Redhat on the same
system.  I could buy a new card of course but I'm determined to get to
the bottom of this.
</STRONG></P>
<P><STRONG>
If I've intruded, please accept my apologies in advance.
</STRONG></P>
<P><STRONG>
Scott Rafferty
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Joshua]
</blockQuote>
<blockQuote>
Scott,
Thanks for contacting me.  I would like to resolve this too.
</blockQuote>
<blockQuote>
I have since switched to Gentoo and the problem does not occur there.
</blockQuote>
<blockQuote>
I think that the problem is related to the bootsplash screens that
Mandrake and Redhat use.  The GEFORCE 2 does not seem to want to be
switch into... I'm guessing VESA mode?... in the manner in which these
applications are switching it.  I think that this can be fixed by using
the bootsplash utility from Mandrake.  The CVS code for this is
available at:
</blockQuote>
<blockQuote><BLOCKQuote>
<A HREF="http://cvs.mandrakesoft.com/cgi-bin/cvsweb.cgi/soft/bootsplash"
	>http://cvs.mandrakesoft.com/cgi-bin/cvsweb.cgi/soft/bootsplash</A>
</BLOCKQuote></blockQuote>
<blockQuote>
I would look at the documenatation and try to turn off the bootscreen.
If this fixes the problem, try changing boot screen resolutions.
Otherwise, I'm guessing we'll have to start looking at kernel
configurations.
</blockQuote>
<blockQuote>
Happy hunting,
Josh
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
After scouring google yesterday for an answer to my NO BOOT MESSAGES problem
there was one interesting comment I came across about settings in the BIOS.
So late last night I made 2 changes to my BIOS settings.  Now I can see all
my boot messages.  A simple but no less important solution to a frustrating
problem.
</STRONG></P>
<P><STRONG>
The changes I made to the BIOS were these (screenshot links included) --
</STRONG></P>
<P><STRONG><DL><DT>
Enabled the memory hole from 15-16 M
<DD><A HREF="http://www.motherboards.org/images/15/2002/1204_p2_11.jpg"
	>http://www.motherboards.org/images/15/2002/1204_p2_11.jpg</A>
</DL></STRONG></P>
<P><STRONG><DL><DT>
Changed Primary VGA BIOS to [AGP VGA Card] - Was set to [PCI VGA Card].
<DD><A HREF="http://www.motherboards.org/images/15/2002/1204_p2_9.jpg"
	>http://www.motherboards.org/images/15/2002/1204_p2_9.jpg</A>
</DL></STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Matthias] 
I'm pretty sure it is only the second BIOS setting which has to do with the
VGA problem.
You better disable the first option again, because it's more trouble than
it's worth. And it is a "legacy" option, for systems which use VGA cards
older then 1994 or so. Almost any system is newer to when this setting was
important. In your PC timeline, order it in before "MS Windows 3.0 finally
arrived. Bad OS/2 clone, btw." 
<IMG SRC="../../gx/dennis/smily.gif" ALT=";-)" 
		height="24" width="20" align="middle">
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Different BIOS's will have different settings of course but I think these
two are pretty standard across the board.
</STRONG></P>
<P><STRONG>
One thing to note - I had to actually switch the power off after making the
changes (rather than just rebooting) for the changes to take complete
effect.  I also could have narrowed it down a little further to just the one
BIOS change but it was late and I was so elated that I just forgot.  If
anyone wants me to delve further then just ask.
</STRONG></P>
<P><STRONG>
I really hope this helps other people with the same problem.  I'm sure
anyone in the know will understand exactly why these 2 settings would effect
the linux bootup in such a way with some of the NVIDIA cards.  I don't
though. 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</STRONG></P>
<P><STRONG>
Cheers,
Scott
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Matthias] 
It has to do with the AGP way of life 
<IMG SRC="../../gx/dennis/smily.gif" ALT=";-)" 
		height="24" width="20" align="middle">. AGP cards have two modes. The
"PCI equivalent" simple mode where they can display character mode
terminals etc, and the "AGP full featured mode" where they run full power.
The second mode has to be supported by the Operating System with some
driver and AGP layer.
</blockQuote>
<blockQuote>
And it seems that -- while the BIOS can display characters -- Linux cannot
display them for some reason. Maybe because it sends PCI only commands or
tries to detect the VGA card on the PCI bus and fails correctly handling
</blockQuote>

<!-- end 1 -->
<!-- *** BEGIN copyright *** -->
<hr>
<CENTER><SMALL><STRONG>
<h5>
<br>Copyright &copy; 2003
<br>Copying license <A HREF="">http://www.linuxgazette.net/copying.html</A>
<BR>Published in Issue 86 of <i>Linux Gazette</i>, January 2003</H5>
</STRONG></SMALL></CENTER>
<!-- *** END copyright *** -->

<SMALL><CENTER><H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
       <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6></SMALL></CENTER>
<HR>

<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="../index.html"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> 
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
