<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>Knoppix 5.3.1 LG #150</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<!-- link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" / -->
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">May 2008 (#150)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="dokopnik.html" >&lt;-- prev</A> | <A HREF="kapil.html" >next --&gt;</A>
</div>

<h1>Knoppix 5.3.1</h1>
<p id="by"><b>By <a href="../authors/howell.html">Edgar Howell</a></b></p>

<p>
At the recent CeBIT computer fair, Klaus Knopper finally released a new
version of his popular Knoppix live-CD/DVD variety of GNU/Linux.  The
initial version was fine for the CeBIT crowd but had some problems, the
most obvious of which was a mixture of languages in menus if you booted
with the parameter "lang=" (by the way, it is now "lang=us" rather than
"lang=en"; this will take getting used to after many years of using
"lang=en".)
</p>

<p>
The vital statistics on the post-CeBIT version, 5.3.1, are:
</p>

<ul>
<li> 2.6.24.4 kernel,
<li> KDE 3.5.8 as default,
<li> KDE 4 Beta on board as are Gnome, IceWM, and various other GUIs.
</ul>

<p>
The DVD is close to full and the software is distributed between 2
compressed directories.  This DVD should include just about everything but
the proverbial kitchen sink.
</p>

<p>
New to me (absent appropriate hardware) but not new to the 5.x.x Knoppix
series is recognition of dual-core CPUs: on boot, Knoppix shows you Tux
twice.  However, new to 5.3 (at least since 5.0) is the use of a key that
for me has always been a dead-key: the "flag" to the left of "alt" to the
left of the space-bar.  This key now activates the start menu as if you had
clicked on the icon at the far left of the panel.  Those who have learned
to use the keyboard ought to appreciate that progress away from
mouse-dependency.
</p>

<p>
To my knowledge virtualization is also a new topic with this release.  You
will find KVM as well as a XEN-kernel and VirtualBox.  I played briefly
with VirtualBox, and it was necessary to load the 'vboxdrv' module manually
before starting the graphics interface.
</p>

<p>
For what it's worth, during the last nine months or so everything I've done
in the office here other than USB and burning CD/DVD has been under VMs.
It is a topic well worth investigating, particularly in this environment.
</p>

<p>
By now, most readers certainly have heard about Knoppix and ought to have
some idea of what it is all about - and this was the first time that I
encountered any significant problems with a new release of Knoppix.
So, I think that topic deserves some comment this time around.
</p>

<p>
Linux has a certain reputation - it's supposed to behave well on older
hardware.  While this is indeed true in large measure, if all you have is
Knoppix on a DVD, you won't be able to do much with it on a machine that
can't boot from DVD or doesn't even have a DVD drive!  But this was the
first time that I ever had trouble with hardware that has worked fine with
various distributions for many years.
</p>

<p>
And it was a strange experience indeed. The desktop failed in two ways,
both error messages from KDesktop: "Unable to create io-slave" and "Signal
6 SIGABRT".  Unfortunately the former error didn't prevent Konqueror from
starting and hiding the small window with the error message which I
initially missed because I am typically busy with other things as Knoppix
boots from DVD. These errors occurred to one degree or another on a
5-year-old PC, a 3-year-old notebook and a notebook I've only had for a
couple of weeks. In desperation I even tried the beta of KDE 4 to no
avail.
</p>

<p>
As it turns out, KDE development seems to be moving in a direction that I
have no use for anyhow: the best I can say about 'compiz' is that it seems
to be a significant waste of developer's time and CPU cycles. Trying to
re-position a window is like trying to push a wet noodle. The floppy
window and flames that delay closing don't make much sense to me either.
Fortunately, Knoppix lets us set the "no3d" parameter.
</p>

<p>
The beta of KDE 4 was a turn-off from the start menu.  It looks just like
SuSE 10.3 for crying out loud!  Why!?  Why would any sane person think it
reasonable to use 5 times as much space as necessary for a line of text in
a menu?  This just forces some entries into another level in the hierarchy
thus hiding things deeper and more mouse-clicks away.  That makes about as
much sense as adding another level of bureaucracy to the government...
</p>

<p>
So, the time had come to abandon KDE and re-master the standard release of
Knoppix with a default configuration that <b>I</b> like.  Isn't that why
we all use Linux?  Because <b>we</b> are in charge?
</p>

<p>
Re-mastering a distribution may sound like pretty heavy-duty guru-type
stuff, but it needn't be difficult at all. If you want to <b>add</b>
software to one of the standard locations (rather than just putting it
somewhere on the DVD) it is pretty much a 2-pass algorithm since you have
to add something to a directory that then is converted into a compressed
file which then has to fit along with everything else into an iso-image -
not too big for the DVD or CD.  But in this case, all that is necessary is
to make a tiny alteration to a boot parameter.
</p>

<p>
Here are the commands needed, to be executed as root as usual:
</p>

<pre class="code">
mount -o loop /media/hda3/KNOPPIX_V5.3.1DVD-2008-03-26-EN.iso /mnt
mkdir TEMP_KNOPPIX
cd TEMP_KNOPPIX
mkdir KNOPPIX_master
cp -Rp /mnt/* KNOPPIX_master/
vi KNOPPIX_master/boot/isolinux/isolinux.cfg
/usr/bin/mkisofs -pad -l -r -J -v -V "Knoppix 5.3.1" -P "Linux Gazette"   \
                 -no-emul-boot -boot-load-size 4 -boot-info-table         \
                 -b boot/isolinux/isolinux.bin -c boot/isolinux/boot.cat  \
                 -hide-rr-moved -o knoppix.iso KNOPPIX_master/ 
</pre>

<p>
This is what's going on here:
<ul>
<li>
The 'mount' command references an ISO-image downloaded from one of the
mirrors on the Internet instead of a CD or DVD in a drive.
<li>
The first 'mkdir' command gives us a convenient and readily-identifiable
(for later deletion) directory in which to work.
<li>
After changing into it we need one to hold Knoppix where it can be modified.
<li>
The 'cp' command merely copies everything there while preserving permissions.
<li>
What you do with the 'vi' command (or some other editor) is up to you, below.
<li>
And, finally, the 'mkisofs' command creates the ISO-image, "knoppix.iso",
that you can then burn to a DVD.

</ul>
</p>


<p>
For my purposes it was sufficient to add the following part (<b>bold
text</b>) at the end of the second line of "isolinux.cfg":
</p>

<pre class="code">
APPEND ramdisk_size=100000 init=/etc/init lang=us apm=power-off \
  vga=791 initrd=minirt.gz nomce highres=off loglevel=0         \
  libata.atapi_enabled=1 quiet SELINUX_INIT=NO nmi_watchdog=0   \
  BOOT_IMAGE=knoppix <b>keyboard=de desktop=icewm</b>
</pre>

<p>
After having made this change, and burning the ISO-image to a DVD of
course, booting from the DVD without entering any parameters at all brings
up Knoppix with the keyboard needed and IceWM as the desktop.
</p>

<p>
Given the parameters one can use when booting Knoppix, re-mastering really
isn't absolutely necessary.  But as easy as it is to do and as convenient
as it makes later use of Knoppix, why not?
</p>

<p>
An alternative to re-mastering would be to create a USB-device with
persistent settings; I've used this technique in the past and it works
nicely.  But on one occasion a release change introduced an incompatibility
and I decided it is just as easy to have a USB-device with a script or two
that can be executed as needed:
<b>if</b> the notebook is attached to the office LAN
<b>and</b> there is a need for the network printer
<b>then</b> it is easy to run the script that sets up CUPS.
</p>

<p>
So when all is said and done in spite of a couple of "minor" problems I am
still an enthusiastic user of Knoppix.  It definitely belongs in every
toolbox.
</p>

<p>
And the fact that I don't like what is happening with KDE is absolutely
irrelevant: the world is a big place, there is room for lots of different
opinions. It's just a matter of taste.  You might like it; you might not
want to re-master - that's great too. Someone else might want Gnome
instead of IceWM. The point is that with Linux, you have options.  Go for
it!
</p>



<script type='text/javascript'>
digg_url = 'http://linuxgazette.net/150/howell.html';
digg_title = 'Knoppix 5.3.1';
digg_bodytext = '<p> At the recent CeBIT computer fair, Klaus Knopper finally released a new version of his popular Knoppix live-CD/DVD variety of GNU/Linux.  The initial version was fine for the CeBIT crowd but had some problems, the most obvious of which was a mixture of languages in menus if you booted with the parameter "lang=" (by the way, it is now "lang=us" rather than "lang=en"; this will take getting used to after many years of using "lang=en".) </p> ';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:150/howell.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="Bio picture" SRC="../gx/2002/note.png" class="bio">
<em>
Edgar is a consultant in the Cologne/Bonn area in Germany.
His day job involves helping a customer with payroll, maintaining
ancient IBM Assembler programs, some occasional COBOL, and
otherwise using QMF, PL/1 and DB/2 under MVS.
<p>
(Note: mail that does not contain "linuxgazette" in the subject will be
rejected.)

</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2008, Edgar Howell. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 150 of Linux Gazette, May 2008
</p>

</div>

<div id="previousnextbottom">
<A HREF="dokopnik.html" >&lt;-- prev</A> | <A HREF="kapil.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

