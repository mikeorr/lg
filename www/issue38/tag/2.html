<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.1I.e">
<TITLE>The Answer Guy 38: Another  "No Login" Problem</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H4>"The Linux Gazette...<I>making Linux just a little more fun!</I>"</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Guy</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	Starshine Technical Services,
	<A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 2 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Another  "No Login" Problem</H3>


<p><strong>From Spiros Alexiou on Fri, 29 Jan 1999  
</strong></p>
<P><STRONG>
Thanks for your help.
I am attaching a small file with more info.
</STRONG></P>
<P><STRONG>
It looks to me like the root of the problem is that the RH graphical
tool does NOT encrypt the  user account passwords, though root
for example is encrypted. So either I missed something in the RH
documentation, it is missing, or there is a bug, if what I think is
right(please let me know).
</STRONG></P>
<P><STRONG>
If that is the case, I need to either run some additional tool that
will encrypt the passwords or else remove the users and create the
accounts by adduser
</STRONG></P>
<P><STRONG>
Please let me know if this sheds some light
<br>Spiros Alexiou
</STRONG></P>
<P><STRONG>
P.S. do you have IP for ssc.com? My other mailer does not know that
address
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
It would be very unwise to attempt to mail your message
to an IP address.  Internet mail processing using
a different sort of DNS resource record than other
TCP/IP protocols --- is uses MX records.  If your mailer
can properly pass the mail to a "smarthost" and can't
properly handle the requisite MX resolution then you
just shouldn't use it (or you should get it "fixed").
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
<!-- ::<BlockQuote>
Another <A HREF="http://www.redhat.com/">Red Hat</A> "No Login" Problem
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
</BlockQuote>:: -->
<FONT COLOR="#000099"><EM>
<BR>&gt;I have RH 5.0 (2.0.32). Using their graphic tool, I created two
<BR>&gt;<TT>/home</TT> accounts, me and guest, assigned UID and GID's and set
<BR>&gt;passwords. The problem is, I can only log in as root. I looked for
<BR>&gt;.nologin files, there seem to be none. I am attaching my
<BR>&gt;<TT>/etc/fstab</TT> files. Thus, at the linux prompt If I try to login as
<BR>&gt;any of these two users,
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000099"><EM>
<BR>&gt;I am denied entry(back to the prompt). This is not an issue of
<BR>&gt;case sensitive.
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000099"><EM>
<BR>&gt;Any ideas of what I am doing wrong?
<BR>&gt;Sincerely, S.Alexiou
</EM></FONT></STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
I have NO idea.  I've gotten a rash of different reports of
this sort.  All involve Red Hat usually right after new
installations --- no login from console, no login over
telnet, no login as root, no login as anyone other than
root.
</EM></FONT></blockquote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Nice to know I'm not alone...
</STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Unfortunately all of these cases, so far, are being reported
to me incompletely.  Only sparse details ahve been provided
(as above). I've mailed off troubleshooting suggestions and
recieved no followup to explain them.
</EM></FONT></blockquote>
<blockquote><FONT COLOR="#000066"><EM>
So, I don't get it.
</EM></FONT></blockquote>
<blockquote><FONT COLOR="#000066"><EM>
You said you used their graphical tool to create two
new accounts.  One was named "guest" and the other
was some sort of user name for yourself.  
</EM></FONT></blockquote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Yes, since I use  the PC as a workstation and do not care about having
other users, using it as a web server etc, the second account was the
shortest possible account  I could think of, "me"
</STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
You also said you set the passwords for these two accounts.
</EM></FONT></blockquote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Yes, I did (see below)
</STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Let's try this:  edit your passwd file.  I personally
prefer to use vipw for that --- but Red Hat 5.0 had a
broken '<tt>vipw</tt>' command (immediate segfault) and my fresh
installation of 5.2 also has a broken 'vipw' command
(needed to add a symlink from <TT>/bin/vi</TT> to <TT>/usr/bin/vi</TT>
--- GRRR!).  So, just use your favorite editor and
keep a rescue floppy handy in case you reboot the system
with a corrupt <TT>/etc/passwd</TT> file.
</EM></FONT></blockquote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Wait, do I need a rescue disk?  My hard disk are IDE, not SCSI and I
am supposed to only need to RH boot diskette. right?  If   I do need a
resue disk,  can I  create it  without reinstalling?  At any rate, I try
to be very careful when I edit root stuff, but it's better to be safe..
</STRONG></P>
<P><STRONG>
Here is my <TT>/etc/passwd</TT> file
</STRONG></P>

<pre><strong>&gt; root:hASh-OMitTed:0:0:root:/root:/bin/bash
&gt; bin:*:1:1:bin:/bin:
&gt; daemon:*:2:2:daemon:/sbin:
&gt; postgres:!!:100:101:PostreSQL Server:/var/lib/pgsql:/bin/bash
&gt; me:notencrypted:500:500:Red Hat Linux User,,,,:/home/me:/bin/bash
&gt; guest:sanitized:501:501:Red Hat Linux User,,,,:/home/guest:/bin/bash
</strong></pre>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Incredible.  It's amazing to think that this
tool is that bad!
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
You will notice that the root password is encrypted , while the me
and guest passwords are not. Actually the root and  me have the same
password But I do not  recall any warnings about that in the RH graphic
user creation. BTW, for the record, I   did at one point  reinstall
and created the same guest and me accounts I had created originally,
but I was unable to login as anything but root even with the original
installation Also, for the record, I do have some problems with my
XF86Config, but unless you believe this  to be important( should not,
as the graphic tool showed no problems), I may bother you  another time

<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> Finally the UID and GID were assigned by  the graphic tool, I  just
acepted what was there.  Let me also add, that when I looked at  the
corresponding <TT>/etc/passwd</TT> file in a large AIX machine
(I was just a user,
not administrator) all I could see of course were ! for password field,
but other than that  the password file looks ok to me.
</STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Try setting the account
passwords to something simple like just "<tt>x</tt>" --- and
use the <TT>/bin/passwd</TT> command, not any sort of curses
or GUI front end.  Consider removing '<tt>linuxconf</tt>'
(for troubleshooting).
</EM></FONT></blockquote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Haven't done ths yet. I am not sure what troubleshooting I would
do to remove linuxconf.
</STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
If you're using shadow passwords try running <tt>pwunconv</tt>
and if you're not, try running <tt>pwconv</tt> (to convert
your passwd file to or from shadow format).
</EM></FONT></blockquote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Will try that. Just  please let me know, if you also  think that
the problem is that  the guest and me passwords are not encrypted.
</STRONG></P>
<P><STRONG>
Please, let me know if you figure out what's doing it.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
Umm!  I don't know what sort of GUI user admin tool
this is --- but don't use it to set initial passwords!
Just go to a root shell prompt and issue the command:
</BLOCKQUOTE>
<BLOCKQUOTE><BlockQuote><Code>
passwd me
</Code></BlockQuote></BLOCKQUOTE>
<BLOCKQUOTE>
... and set the initial password for that account
using the traditional old terminal command for the
purpose.  Then do the same for your personal account.
Then report the bug to whoever maintains the tool you
were using.
</BLOCKQUOTE>
<!-- sig -->

<!-- end 2 -->
<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 1999, James T. Dennis 
<BR>Published in <I>The Linux Gazette</I> Issue 38 March 1999</H5>
<P> <hr> <P>
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<TABLE WIDTH="96%"><TR VALIGN="center" ALIGN="center">
<TD ROWSPAN="3" COLSPAN="4" WIDTH="24%"><A HREF="../lg_answer38.html"
	><IMG SRC="../../gx/dennis/answernew.gif"
              ALT="[ Answer Guy Index ]"></A></td>
  <TD WIDTH="6%"><A HREF="1.html">1</A></TD>
  <TD WIDTH="6%"><A HREF="2.html">2</A></TD>
  <TD WIDTH="6%"><A HREF="3.html">3</A></TD>
  <TD WIDTH="6%"><A HREF="4.html">4</A></TD>
  <TD WIDTH="6%"><A HREF="5.html">5</A></TD>
  <TD WIDTH="6%"><A HREF="6.html">6</A></TD>
  <TD WIDTH="6%"><A HREF="7.html">7</A></TD>
  <TD WIDTH="6%"><A HREF="8.html">8</A></TD>
  <TD WIDTH="6%"><A HREF="9.html">9</A></TD>
  <TD WIDTH="6%"><A HREF="10.html">10</A></TD>
  <TD WIDTH="6%"><A HREF="11.html">11</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="12.html">12</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="14.html">14</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="16.html">16</A></TD>
  <TD><A HREF="17.html">17</A></TD>
  <TD><A HREF="18.html">18</A></TD>
  <TD><A HREF="19.html">19</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="21.html">21</A></TD>
  <TD><A HREF="22.html">22</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="23.html">23</A></TD>
  <TD><A HREF="24.html">24</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="26.html">26</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="28.html">28</A></TD>
  <TD><A HREF="29.html">29</A></TD>
  <TD><A HREF="30.html">30</A></TD>
  <TD><A HREF="31.html">31</A></TD>
  <TD><A HREF="32.html">32</A></TD>
  <TD>&nbsp;</TD>
</TR></TABLE>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> <P>
<!-- begin lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"
	><IMG SRC="../../gx/indexnew.gif" ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"
	><IMG SRC="../../gx/homenew.gif" ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes38.html"
	><IMG SRC="../../gx/back2.gif" ALT="[ Previous Section ]"></A>
<A HREF="../lg_tips38.html"
	><IMG SRC="../../gx/fwd.gif" ALT="[ Next Section ]"></A>
<!-- end lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
