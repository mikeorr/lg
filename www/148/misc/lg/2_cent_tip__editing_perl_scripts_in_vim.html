<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>2-cent Tip: Editing Perl scripts in Vim</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>2-cent Tip: Editing Perl scripts in Vim</h3>
<p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 3 Feb 2008 10:50:25 -0500</b>
</p>

<p>
The longer I use Vim, the more ways I find to make my life easier. This
tip comes courtesy of Andy Lester's entry in the "Mechanix" blog
(<a href="http://perlbuzz.com/mechanix/2008/01/vim-tricks-for-perl.html">http://perlbuzz.com/mechanix/2008/01/vim-tricks-for-perl.html</a>), where
he shows a nifty trick for looking up Perl documentation for both
functions and modules. I used to have it set up for just the former, but
my lookup method is a little fancier - I open a scratch buffer in
another window so you can look at both the docs and your code at the
same time. So, combining the two results in the following:
</p>

<p>
<pre class='code'>
autocmd FileType perl nmap K "zyiw&lt;c-W&gt;n:set buftype=nofile&lt;CR&gt;:r!
    \perldoc -tf '&lt;c-R&gt;z' 2&gt;/dev/null &lt;bar&gt;&lt;bar&gt; perldoc '&lt;c-R&gt;z'&lt;cr&gt;gg
</pre>

<p>
(Yes, the 'escape' slash does go on the second line.)
</p>

<p>
Now, whenever your cursor is on a perl function or a module name, simply
hit 'shift-k' (the standard vi/vim "lookup" key), and you'll get the
docs. 
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-2_cent_tip__editing_perl_scripts_in_vim">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas at edulinux.homeunix.org]

</p>
</b><br />
<b>Sun, 3 Feb 2008 16:06:20 +0000</b>
</p>

<p>
On Sun, Feb 03, 2008 at 10:50:25AM -0500, Ben Okopnik wrote:
</p>

<pre>
&gt; ```
&gt; autocmd FileType perl nmap K "zyiw&lt;c-W&gt;n:set buftype=nofile&lt;CR&gt;:r!
&gt;     \perldoc -tf '&lt;c-R&gt;z' 2&gt;/dev/null &lt;bar&gt;&lt;bar&gt; perldoc '&lt;c-R&gt;z'&lt;cr&gt;gg
&gt; '''
</pre>

<p>
That's useful.  Something I used to use at work (but don't now -- I do far
too much console stuff) is the following:
</p>

<p>
<a href="http://lug.fh-swf.de/vim/vim-perl/screenshots-en.html">http://lug.fh-swf.de/vim/vim-perl/screenshots-en.html</a>
</p>

<p>
-- Thomas Adam
</p>


<p>
"It was the cruelest game I've ever played and it's played inside my head."
-- "Hush The Warmth", Gorky's Zygotic Mynci.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-2_cent_tip__editing_perl_scripts_in_vim">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 3 Feb 2008 21:12:37 -0500</b>
</p>

<p>
On Sun, Feb 03, 2008 at 04:06:20PM +0000, Thomas Adam wrote:
</p>

<pre>
&gt; On Sun, Feb 03, 2008 at 10:50:25AM -0500, Ben Okopnik wrote:
&gt; &gt; ```
&gt; &gt; autocmd FileType perl nmap K "zyiw&lt;c-W&gt;n:set buftype=nofile&lt;CR&gt;:r!
&gt; &gt;     \perldoc -tf '&lt;c-R&gt;z' 2&gt;/dev/null &lt;bar&gt;&lt;bar&gt; perldoc '&lt;c-R&gt;z'&lt;cr&gt;gg
&gt; &gt; '''
&gt; 
&gt; That's useful.  Something I used to use at work (but don't now -- I do far
&gt; too much console stuff) is the following:
&gt; 
&gt; <a href="http://lug.fh-swf.de/vim/vim-perl/screenshots-en.html">http://lug.fh-swf.de/vim/vim-perl/screenshots-en.html</a>
</pre>

<p>
My .vimrc covers most of that, actually; pretty amusing, considering
that I just put it together as the specific needs came up. It's also
rather pleasant to see that I've managed to do a bit better, in places,
than a big complex project like that one - e.g., I use a single key to
comment and uncomment code, whether it's a single line or a
visually-selected block.
</p>

<p>
One thing I don't have, though, is all that automatic
codeblock-generation stuff: AFAIC, anything of that sort is Broken As
Designed (BAD), since Perl semantics are not nearly as rigid as the
creator of 'perlsupport' seems to think. I'd be spending more time
revising the generated bits than it would actually take to write it by
hand.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-2_cent_tip__editing_perl_scripts_in_vim">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Faber J. Fedor [faber at linuxnj.com]

</p>
</b><br />
<b>Sun, 3 Feb 2008 23:03:23 -0500</b>
</p>

<p>
On 03/02/08 21:12 -0500, Ben Okopnik wrote:
</p>

<pre>
&gt; My .vimrc covers most of that, actually; pretty amusing, considering
&gt; that I just put it together as the specific needs came up. It's also
&gt; rather pleasant to see that I've managed to do a bit better, in places,
&gt; than a big complex project like that one - e.g., I use a single key to
&gt; comment and uncomment code, whether it's a single line or a
&gt; visually-selected block.
</pre>

<p>
So?  Don't keep us in suspense!  Let's see your .vimrc.
</p>

<pre>-- 
 
Regards,
 
Faber Fedor
President
Linux New Jersey, Inc.
908-320-0357
800-706-0701
</pre>

<pre>-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-2_cent_tip__editing_perl_scripts_in_vim">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Mon, 4 Feb 2008 00:27:16 -0500</b>
</p>

<p>
On Sun, Feb 03, 2008 at 11:03:23PM -0500, Faber Fedor wrote:
</p>

<pre>
&gt; On 03/02/08 21:12 -0500, Ben Okopnik wrote:
&gt; &gt; My .vimrc covers most of that, actually; pretty amusing, considering
&gt; &gt; that I just put it together as the specific needs came up. It's also
&gt; &gt; rather pleasant to see that I've managed to do a bit better, in places,
&gt; &gt; than a big complex project like that one - e.g., I use a single key to
&gt; &gt; comment and uncomment code, whether it's a single line or a
&gt; &gt; visually-selected block.
&gt; 
&gt; So?  Don't keep us in suspense!  Let's see your .vimrc.
</pre>

<p>
But I <strong>like</strong> keeping people in suspense, Faber. It often has pleasant
results - like getting you to come down out of the rafters. <img src="../gx/smile.png" alt=":)">
</p>

<p>
Since you have asked, though, here it is:
</p>

<pre>
<a href="http://okopnik.com/temp/vimrc">http://okopnik.com/temp/vimrc</a>	# Temp location; will be available at
<a href="../../../148/misc/tag/vimrc">http://linuxgazette.net/148/misc/tag/vimrc</a>	# after 148 comes out
</pre>

<p>
Again, I've chopped out a lot of me-specific stuff - but I've also just
spent a bit of time making sure everything is well-commented. Enjoy!
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-2_cent_tip__editing_perl_scripts_in_vim">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>