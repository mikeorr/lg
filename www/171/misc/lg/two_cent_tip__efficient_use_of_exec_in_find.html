<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>Two-cent Tip: efficient use of "-exec" in find</title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Two-cent Tip: efficient use of "-exec" in find</h3>
<p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]

</p>
</b><br />
<b>Sun, 31 Jan 2010 16:39:55 +0700</b>
</p>

<p>
Most CLI aficionados use this kind of construct when executing a
command over "find" results:
</p>

<pre>
$ find ~ -type f -exec du -k {} \;
</pre>

<p>
Nothing is wrong with that, except that "du" is repeatedly called with
single argument (that is the absolute path and the file name itself).
Fortunately, there is a way to cut down the number of execution:
</p>

<pre>
$ find ~ -type f -exec du -k {} +
</pre>

<p>
Replacing ";" with "+" would make "find" to work like xargs does. Thus
du -k will be examining the size of several files at once per
iteration.
</p>

<p>
PS: Thanks to tuxradar.com for the knowledge!
</p>

<pre>-- 
regards,
 
Mulyadi Santosa
Freelance Linux trainer and consultant
 
blog: the-hydra.blogspot.com
training: mulyaditraining.blogspot.com
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-two_cent_tip__efficient_use_of_exec_in_find">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Sun, 31 Jan 2010 13:15:02 +0000</b>
</p>

<p>
On Sun, Jan 31, 2010 at 04:39:55PM +0700, Mulyadi Santosa wrote:
</p>

<pre>
&gt; Most CLI aficionados use this kind of construct when executing a
&gt; command over "find" results:
&gt; 
&gt; $ find ~ -type f -exec du -k {} \;
&gt; 
&gt; Nothing is wrong with that, except that "du" is repeatedly called with
&gt; single argument (that is the absolute path and the file name itself).
&gt; Fortunately, there is a way to cut down the number of execution:
&gt; 
&gt; $ find ~ -type f -exec du -k {} +
</pre>

<p>
<a href='../../../111/tag/3.html'>http://linuxgazette.net/111/tag/3.html</a>
</p>

<p>
-- Thomas Adam
</p>

<pre>-- 
"It was the cruelest game I've ever played and it's played inside my head."
-- "Hush The Warmth", Gorky's Zygotic Mynci.
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-two_cent_tip__efficient_use_of_exec_in_find">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>