<html>
<head>
<link href="../../lg.css" rel="stylesheet" type="text/css" media="screen, projection"  />
<title>The Answer Gang: LG 109: Quota needs update, help!</title>

<style type="text/css" media="screen, projection">
<!--
.articlecontent {
        position:absolute;
        top:143px;
}
-->
</style>
</head>
<body>
<img src="../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
<p id="fun">...making Linux just a little more fun!</p>


<div class="content articlecontent">

<div id="previousnexttop">
<A HREF="../lg_tips.html" >&lt;-- 2c Tips</A> 
| <A HREF="../lg_answer.html">TAG Index</a> | <A HREF="1.html">1</a> | <A HREF="2.html">2</a> | <A HREF="3.html">3</a>
| <a href="../../tag/kb.html">Knowledge Base</a>
| <A HREF="../lg_bytes.html" >News Bytes --&gt;</A>
</div>



<h1 align="center"><IMG SRC="../../gx/dennis/qbubble.gif" align="left"> The Answer Gang <IMG SRC="../../gx/dennis/bbubble.gif" align="right"></h1>

<p align="center">By Jim Dennis, Karl-Heinz Herrmann, Breen, Chris, and... 
	(<A HREF="../../tag/bios.html">meet the Gang</A>) ... 
	the Editors of <I>Linux Gazette</I>... and 
	<a href="../../tag/members-faq.html">You</a>!</p>
<br clear="both">
<HR>
<!-- begin 3 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Quota needs update, help!</H3>
<H4 ALIGN="center">a place for everything and everything in its place...</H4>


<p><strong>From Breman 
</strong></p> 
<p></strong></p>
<!-- ::
Quota needs update, help!
~~~~~~~~~~~~~~~~~~~~~~~~~
a place for everything and everything in its place...
:: -->

<p align="right"><strong>Answered By:  Thomas Adam, John Karns, Ben Okopnik
</strong></p>
<P><STRONG>
May I ask you some questions below:
</STRONG></P>
<P><STRONG><BLOCKQuote>
I have installed SuSe Linux 6.4 as a mail server. The current version of quota is 2.11
</BLOCKQuote></STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Quota support is kernel and user-land. Therefore I can only assume that
you are referring to the userland tools. Currently the version is at 3.12,
available here:
</blockQuote>
<blockQuote><BLOCKQuote>
<A HREF="http://puzzle.dl.sourceforge.net/sourceforge/linuxquota/quota-3.12.tar.gz"
	>http://puzzle.dl.sourceforge.net/sourceforge/linuxquota/quota-3.12.tar.gz</A>
</BLOCKQuote></blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
How to update to the old version? please give me steps.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
It's a case of removing the old quota tools and installing the new one.
There's a number of ways you can do this. The INSTALL file within the tar
file tells you all, and it should just be a simple matter of:
</blockQuote>
<blockQuote><CODE>
./configure &amp;&amp; make &amp;&amp; su -c 'make install'
</CODE></blockQuote>
<blockQuote>
Note that by default, this will install into <TT>/usr/local/*</TT> -- if
"<TT>/usr/local/bin</TT>" is not in your $PATH, before "<TT>/usr/bin</TT>" and you still
have the old quota-tools installed, this will conflict. If, however,
<TT>/usr/local/bin</TT> is listed before <TT>/usr/bin</TT> in your $PATH then this should
not be a problem. But you should make sure you remove the old quota-tools,
regardless.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [John] 
That's the way I usually do it, too.  But there is also something to be
said for staying within the boundaries of the package management system,
which in <A HREF="http://www.suse.com/">SuSE</A>'s case (as well as <A HREF="http://www.redhat.com/">Red Hat</A> and Mandrake, and probably a few
others) is the rpm system.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
I disagree. Package management should be sufficiently advanced that if one
doesn't want a particular package (or one wants to override it), then one
can. This is where stow shines, for all the reasons outlined above. You are
not tied down to having to install .rpm just because you can.
</blockQuote>
<blockQuote>
Of course, if you are compiling from source, for the odd program then this is
not so much an issue as all of the libaries are linked (or should be) for the
appropriate versions that exist on the system at the time.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [John] 
Note: with such an old version of the distro as in the case of the
querent, dealing with this issue may prove to be more trouble than it's
worth, depending on how the package in question has evolved.  I.E., in
cases where there have been significant changes to the number of files
involved, and <TT>/</TT> or their placement in the filesystem, then the process
would likely involve fundamental changes to the rpm spec file, which may
require a good understanding of the inner workings of the rpm system.
</blockQuote>
<blockQuote>
But for a more current version of an rpm based distro, the process would
be much less problematic, and provide the advantage of keeping the rpm
database "in sync" with the installed system, thus easing efforts
concerning system maintenance regarding package management issues.  It
would entail something along the lines of replacing the 'make install'
with 'rpmbuild --rebuild', after replacing the older package source files
with those of the newer version.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
What is pop3/smtp of yahoo mail?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 

There isn't any freely available as yahoo removed that service. That said,
you can "emulate" it using a program called 'yahoopops' available here:
</blockquote>
<P><BLOCKQuote>
<A HREF="http://yahoopops.sourceforge.net"
	>http://yahoopops.sourceforge.net</A>
</BLOCKQuote></P>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I have install in as default configure (usr/local/) and now I want to
reinstall it in <TT>/usr/local/quota312</TT> folder.
How to uninstall it?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Uninstalling compiled software can be hit and miss, since it depends
whether the source makefile has an "uninstall" target in it, or not. So
the first thing I would do, is for the source where you compiled your
quota-tools, do:
</blockQuote>

<blockquote><pre>cd /tmp/quota-tools/ &amp;&amp; su -c 'make uninstall'
</pre></blockquote>
<blockQuote>
If that doesn't work, then the makefile probably doesn't support the
feature, although it is worth looking at the makefile to see. The other
option, if not, is to delete the files by hand. There are various tar and
rm incantations to do that. But I would do it by hand, myself.
</blockQuote>
<blockQuote>
One other thing I will mention to you for the future is that if you find
yourself compiling software from source a lot, I really do recommend you
use stow [1,2]. It is a really useful piece of software and would have
helped you here easily.
</blockQuote>
<blockQuote>
[1] <A HREF="../../issue75/peda.html"
	>http://linuxgazette.net/issue75/peda.html</A>
</blockQuote>
<blockQuote>
[2] <A HREF="http://www.hantslug.org.uk/cgi-bin/wiki.pl?LinuxHints/KeepingTrack"
	>http://www.hantslug.org.uk/cgi-bin/wiki.pl?LinuxHints/KeepingTrack</A>
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Thanks for your quick response.
I try your uninstall connand but not success.
I got the warning: "make: *** No rule to make target `uninstall'.  Stop"
I will delete it manually.
Can we just install again without uninstall first?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
There's a way to do it that I invented in a fit of desperation; it's a
little manual but quite effective.
</blockQuote>

<blockquote><font color="#000033"><br>1. Run "make -n install &gt; uninstall".
<br>2. Edit the newly-created "uninstall" file and replace the "install" or "cp" commands with "rm", editing each line as necessary.
<br>3. Run "sh uninstall".
</font></blockquote>

<!-- end 3 -->
<hr>
<p><CENTER><Font face="Helvetica"><STRONG>
This page edited and maintained by the Editors of <I>Linux Gazette</I>
<br>HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
<A HREF="http://www.starshine.org/">http://www.starshine.org/</A></STRONG></Font></CENTER></p>
<hr>

<div id="articlefooter">
<p>
Each TAG thread <a href="http://linuxgazette.net/copying.html"
        >Copyright &copy;</a> its authors, 2004
</p>
<p>
Published in issue 109 of <I>Linux Gazette</I> December 2004
</p>
</div>


<div id="previousnextbottom">
<A HREF="../lg_tips.html" >&lt;-- 2c Tips</A> 
| <A HREF="../lg_answer.html">TAG Index</a> | <A HREF="1.html">1</a> | <A HREF="2.html">2</a> | <A HREF="3.html">3</a>
| <a href="../../tag/kb.html">Knowledge Base</a>
| <A HREF="../lg_bytes.html" >News Bytes --&gt;</A>
</div>
</div>

<div id="navigation">
<a href="../../index.html">Home</a>
<a href="../../faq/index.html">FAQ</a>
<a href="../../lg_index.html">Site Map</a>
<a href="../../mirrors.html">Mirrors</a>
<a href="../../mirrors.html">Translations</a>
<a href="http://linuxgazette.net/search.html">Search</a>
<a href="../../archives.html">Archives</a>
<a href="../../authors/index.html">Authors</a>
<a href="../../contact.html">Contact Us</a>
</div>

<div id="breadcrumbs">
<a href="../../index.html">Home</a> &gt; 
<a href="../index.html">December 2004 (109)</a> &gt; 
<a href="../lg_answer.html">The Answer Gang</a> &gt; 
Thread
</div>

<img src="../../gx/2003/sit3-shine.7-2.gif" id="tux" alt="Tux"/>

</body>
</html>
