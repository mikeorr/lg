<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>Two-cent tip: GRUB and inode sizes</title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Two-cent tip: GRUB and inode sizes</h3>
<p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Wed, 3 Feb 2010 01:07:03 +0100</b>
</p>

<p>
Hello!
</p>

<p>
I had a decent fight with a stubborn server today. It was a Fedora Core
6 system (let's not talk about how old it is) that was scheduled for a
change of disks. This is fairly straightforward - until you have to
write the boot block. Unfortunately I prepared the new disks before
copying the files. As soon as I wanted to install GRUB 0.97 it told me
that it could not read the stage1 file. The problem is that GRUB only
deals with 128-byte inodes. The prepared / partition has 256-byte
inodes. So make sure to use
</p>

<pre>
mkfs.ext3 -I 128 /dev/sda1
</pre>

<p>
when preparing disks intended to co-exist with GRUB. I know this is old
news, but I never encountered this problem before.
<a href='http://www.linuxplanet.com/linuxplanet/tutorials/6480/2/'>http://www.linuxplanet.com/linuxplanet/tutorials/6480/2/</a> has more hints
ready.
</p>

<p>
Best,
Ren&eacute;,
who is thinking about moving back to LILO.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-two_cent_tip__grub_and_inode_sizes">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]

</p>
</b><br />
<b>Wed, 3 Feb 2010 00:11:02 +0000</b>
</p>

<p>
On Wed, Feb 03, 2010 at 01:07:03AM +0100, Ren? Pfeiffer wrote:
</p>

<pre>
&gt; Hello!
&gt; 
&gt; I had a decent fight with a stubborn server today. It was a Fedora Core
&gt; 6 system (let's not talk about how old it is) that was scheduled for a
&gt; change of disks. This is fairly straightforward - until you have to
&gt; write the boot block. Unfortunately I prepared the new disks before
</pre>

<p>
+1 for Debian here then, who manages to get this right off the bat.
</p>

<p>
-- Thomas Adam
</p>

<pre>-- 
"It was the cruelest game I've ever played and it's played inside my head."
-- "Hush The Warmth", Gorky's Zygotic Mynci.
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-two_cent_tip__grub_and_inode_sizes">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]

</p>
</b><br />
<b>Wed, 3 Feb 2010 09:14:49 +0700</b>
</p>

<p>
On Wed, Feb 3, 2010 at 7:07 AM, Ren&eacute; Pfeiffer &lt;lynx@luchs.at&gt; wrote:
</p>

<pre>
&gt; that it could not read the stage1 file. The problem is that GRUB only
&gt; deals with 128-byte inodes. The prepared / partition has 256-byte
&gt; inodes. So make sure to use
&gt;
&gt; mkfs.ext3 -I 128 /dev/sda1
&gt;
&gt; when preparing disks intended to co-exist with GRUB. I know this is old
&gt; news, but I never encountered this problem before.
&gt; <a href='http://www.linuxplanet.com/linuxplanet/tutorials/6480/2/'>http://www.linuxplanet.com/linuxplanet/tutorials/6480/2/</a> has more hints
&gt; ready.
</pre>

<p>
Never thought about that before. Thanks for the tip!
</p>

<pre>-- 
regards,
</pre>Freelance Linux trainer and consultant
</p>

<p>
blog: the-hydra.blogspot.com
training: mulyaditraining.blogspot.com
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_tips.html#mb-two_cent_tip__grub_and_inode_sizes">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>