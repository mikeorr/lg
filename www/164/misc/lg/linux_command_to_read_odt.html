<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>linux command to read .odt ?</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>linux command to read .odt ?</h3>
<p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Tue, 9 Jun 2009 21:11:52 +0530</b>
</p>

<p>
Dear all,
</p>

<p>
Like catdoc ( to read .doc) is there any command to read .odt from
command line ? did a lot googling but not found any such command like
catdoc.
</p>

<p>
On the other hand I have found that .odt is actually stored in zip
format. So I have executed unzip on a .odt and It successfully
extracted a lot of files including "content.xml"  which actually have
the content <img src="../gx/smile.png" alt=":-)">
</p>

<p>
Is there any tool which can extract the plain text from .xml ?
</p>

<p>
Please suggest.
</p>


<p>
The content.xml looks like
</p>

<p>
<pre class='code'>
&lt;office:document-content office:version="1.2"&gt;
&lt;office:scripts/&gt;
-
&lt;office:font-face-decls&gt;
&lt;style:font-face style:name="Times New Roman" svg:font-family="'Times
New Roman'" style:font-family-generic="roman"
style:font-pitch="variable"/&gt;
&lt;style:font-face style:name="Arial" svg:font-family="Arial"
style:font-family-generic="swiss" style:font-pitch="variable"/&gt;
&lt;style:font-face style:name="Arial1" svg:font-family="Arial"
style:font-family-generic="system" style:font-pitch="variable"/&gt;
&lt;/office:font-face-decls&gt;
&lt;office:automatic-styles/&gt;
-
&lt;office:body&gt;
-
&lt;office:text&gt;
-
&lt;text:sequence-decls&gt;
&lt;text:sequence-decl text:display-outline-level="0" text:name="Illustration"/&gt;
&lt;text:sequence-decl text:display-outline-level="0" text:name="Table"/&gt;
&lt;text:sequence-decl text:display-outline-level="0" text:name="Text"/&gt;
&lt;text:sequence-decl text:display-outline-level="0" text:name="Drawing"/&gt;
&lt;/text:sequence-decls&gt;
&lt;text:p text:style-name="Standard"&gt;This is a test &lt;/text:p&gt;
&lt;/office:text&gt;
&lt;/office:body&gt;
&lt;/office:document-content&gt;
</pre>

<p>
Note the content
</p>

<pre>
&lt;text:p text:style-name="Standard"&gt;This is a test &lt;/text:p&gt;
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-linux_command_to_read_odt">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Kapil Hari Paranjape [kapil at imsc.res.in]

</p>
</b><br />
<b>Tue, 9 Jun 2009 21:45:42 +0530</b>
</p>

<p>
Hello,
</p>

<p>
On Tue, 09 Jun 2009, J. Bakshi wrote:
</p>

<pre>
&gt; Like catdoc ( to read .doc) is there any command to read .odt from
&gt; command line ? did a lot googling but not found any such command like
&gt; catdoc.
</pre>

<p>
Try unoconv.
</p>

<p>
Kapil.
--
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-linux_command_to_read_odt">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Tue, 9 Jun 2009 22:10:19 +0530</b>
</p>

<p>
On Tue, 9 Jun 2009 21:45:42 +0530
Kapil Hari Paranjape &lt;kapil@imsc.res.in&gt; wrote:
</p>


<pre>
&gt; Hello,
&gt; 
&gt; On Tue, 09 Jun 2009, J. Bakshi wrote:
&gt; &gt; Like catdoc ( to read .doc) is there any command to read .odt from
&gt; &gt; command line ? did a lot googling but not found any such command
&gt; &gt; like catdoc.
&gt; 
&gt; Try unoconv.
</pre>



<p>
Thanks but my requirement is little different. There is an indexer
running on a remote server. the site is powered by typo3. There is
already catdoc and its associated command tool installed to read .doc,
.xls, .pdf etc and do the indexing. I need one more tool which can also
read .odt.  unoconv needs openoffice itself.  my requirement can also be
solved if there is any CLI tool which can simply extract the plain text
content from .xml as I have already found that .odt saves the content in
content.xml.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-linux_command_to_read_odt">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Francis Daly [francis at daoine.org]

</p>
</b><br />
<b>Tue, 9 Jun 2009 18:09:15 +0100</b>
</p>

<p>
On Tue, Jun 09, 2009 at 09:11:52PM +0530, J. Bakshi wrote:
</p>

<p>
Hi there,
</p>


<pre>
&gt; Like catdoc ( to read .doc) is there any command to read .odt from
&gt; command line ? did a lot googling but not found any such command like
&gt; catdoc.
</pre>

<p>
I use the "o3read" suite wrapped in a script which does, essentially,
</p>

<pre>
 unzip -p "$input" content.xml | o3totxt
</pre>

<p>
When I google for the words
</p>

<pre>
 read .odt from command line
</pre>

<p>
the fifth link included a pointer to <a href='http://stosberg.net/odt2txt/'>http://stosberg.net/odt2txt/</a>,
and claims that a Debian package is available.
</p>

<pre>
 apt-get install odt2txt
</pre>

<p>
gives me a new command which preserves more formatting than o3totxt did.
</p>

<p>
I may well switch to using that instead now.
</p>

<p>
I only tested these on older .odt files. Perhaps new ones work less well.
</p>


<pre>
&gt; Is there any tool which can extract the plain text from .xml ?
</pre>

<p>
I usually use "xmlstarlet" for this; occasionally the input needs to be
processed to help xmlstarlet understand it.
</p>

<p>
I use that for a limited rss reader, as well for a gmail notifier.
</p>

<p>
	f
<pre>-- 
Francis Daly        francis@daoine.org
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-linux_command_to_read_odt">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
J. Bakshi [j.bakshi at unlimitedmail.org]

</p>
</b><br />
<b>Tue, 9 Jun 2009 22:42:15 +0530</b>
</p>

<p>
On Tue, 9 Jun 2009 18:09:15 +0100
Francis Daly &lt;francis@daoine.org&gt; wrote:
</p>


<pre>
&gt; On Tue, Jun 09, 2009 at 09:11:52PM +0530, J. Bakshi wrote:
&gt; 
&gt; Hi there,
</pre>

<p>
Hello,
</p>

<p>
thanks for your solution. meantime I have found some thing great !!!
</p>

<pre>
abiword --to=txt myfile.odt
 
</pre>

<p>
and this will create myfile.txt  Next step is just " cat myfile.txt"
</p>

<p>
with best wishes <img src="../gx/smile.png" alt=":-)">
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-linux_command_to_read_odt">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>