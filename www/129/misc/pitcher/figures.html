<html>
<head><title>A Prisoner of Windows - Figures</title></head>
<body bgcolor="#fffded">
<a name="figure_1"><h1>Figure 1 - Sample <tt>/etc/sshd/sshd_config</tt> file</h1></a>
<dl>
<dd bgcolor="white"><b><pre>
AllowTcpForwarding yes
X11Forwarding      yes
X11DisplayOffset   10
X11UseLocalhost    yes
</pre></b></dd>
</dl>
<p>Although I have selected these four settings for manipulation, your sshd.config
file may contain more settings.</p>
<hr/>

<a name="figure_2"><h1>Figure 2 - Initial PuTTY configuration</h1></a>
<dl>
<dt>Here, we show the steps necessary to give our Windows captive access to an external
Linux system.<br/><br/></dt>

<dd><a name="figure_2a"><table>
<caption>Figure 2a: Initial (empty) PuTTY Configuration</caption>
<tr><td><img src="fig_2a.png"/></td></tr>
</table></a></dd>

<dt>First, we start off with the initial (empty) PuTTY configuration menu, and fill
in the IP address of our Linux &quot;safe haven&quot; system. We also give this
profile a name in the Saved Sessions window.<br/><br/></dt>

<dd><a name="figure_2b"><table>
<caption>Figure 2b: Addressing the Linux &quot;Safe haven&quot;</caption>
<tr><td><img src="fig_2b.png"/></td></tr>
</table></a></dd>


<dt>Next, we save the profile by clicking the &quot;Save&quot; button, which
saves our settings for future use.<br/><br/></dt>

<dd><a name="figure_2c"><table>
<caption>Figure 2c: Saved &quot;Safe Haven&quot; address</caption>
<tr><td><img src="fig_2c.png"/></td></tr>
</table></a></dd>
</dl>
<hr>


<a name="figure_3"><h1>Figures 3a-3e - Using PuTTY to escape to Linux</h1></a>
<dl>
<dt>Here, we show how PuTTY connects from our Windows system to the ssh server
on our Linux &quot;Safe Haven&quot;.<br/><br/></dt>
<dd>
<a name="figure_3a">
<table>
<caption>Figure 3a: PuTTY asks if you trust the target system</caption>
<tr><td><img src="fig_3a.png"/></td></tr>
</table>
</a></dd>

<dt>Once we click the &quot;Open&quot; button on the PuTTY configuration window, PuTTY
performs an initial conversation with our Linux system. If you trust the connection,
you answer &quot;Yes&quot; and PuTTY will continue on with your Linux login.<br/><br/></dt>
<dd>
<a name="figures_3b-3d">
<a name="figure_3b">
<table>
<caption>Figure 3b: Logging on to Linux - your user ID please</caption>
<tr><td><img src="fig_3b.png"/></td></tr>
</table></a></a></dd>

<dt>The first thing Linux will ask is your user ID. Enter it at the prompt
and the login will continue.<br/><br/></dt>
<dd><a name="figure_3c">
<table>
<caption>Figure 3c: And your password, if you mind</caption>
<tr><td><img src="fig_3c.png"/></td></tr>
</table></a></dd>

<dt>Next, Linux will ask for your password. Enter it at the prompt
and the login will complete.<br/><br/></dt>
<dd><a name="figure_3d">
<table>
<caption>Figure 3d: Past the security perimeter, and into the commandline</caption>
<tr><td><img src="fig_3d.png"/></td></tr>
</table>
</a></dd>

<dt>Now, with the logon complete, you are ready to enter console commands
into your Linux system.<br/><br/></dt>
<dd>
<a name="figure_3e">
<table>
<caption>Figure 3e: Doing useful work at the Linux commandline</caption>
<tr><td><img src="fig_3e.png"/></td></tr>
</table>
</a></dd>
</dl>

<hr/>

<a name="figure_4">
<h1>Figure 4 - Windows Icon for Xming X server</h1>
<table>
<caption>Figure 4: Xming icon</caption>
<tr><td><img src="fig_4.png"/></td></tr>
</table>
</a>

<hr/>

<a name="figure_5"><h1>Figures 5a-5c - Escaping to Linux GUI</h1></a>
<dl>
<dt>We still have a minor setup to complete in order to permit GUI access
to Linux. We have to enable X11 forwarding on our PuTTY session.<br/><br/></dt>
<dd>
<a name="figure_5a">
<table>
<caption>Figure 5a: Enable PuTTY X11 forwarding</caption>
<tr><td><img src="fig_5a.png"/></td></tr>
</table>
</a></dd>

<dt>With X11 forwarding enabled, PuTTY and OpenSSH will set the Linux $DISPLAY
environment variable to point at the SSH tunnel to our Xming X server.<br/><br/></dt>
<dd>
<a name="figure_5b">
<table>
<caption>Figure 5b: Linux recognizes X11 forwarding</caption>
<tr><td><img src="fig_5b.png"/></td></tr>
</table>
</a></dd>

<dt>And, with $DISPLAY set properly, we can start up a Linux X application and have
it display on our Windows system<br/><br/></dt>
<dd>
<a name="figure_5c">
<table>
<caption>Figure 5c: Linux GUI application, now showing here</caption>
<tr><td><img src="fig_5c.png"/></td></tr>
</table>
</a></dd>
</dl>

</body>
</html>
