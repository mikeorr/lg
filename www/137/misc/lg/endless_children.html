<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Endless children</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Endless children</h3>
<p>
<b><p>
Cenk Yusuf Ustabas [cenk_ustabas at yahoo.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 10:02:17 -0800 (PST)</b>
</p>

<p>
<p class="editorial">
[[[  This thread was originally entitled "Help please <img src="../gx/frown.png" alt=":(">" Just a reminder
that it would be helpful for people to put descriptive subject lines in
their queries to TAG. -- Kat  ]]]
</p>

Hi,
I am new at operations on processes.I wanna create child from parent and after ending  the process of child, child will create another child (like grandchild),and this child will create another child it will goes like that but ? dont know how will ? do this.Will it be in a loop or it will be recursive?Thank you for your help.
 
</p>

<p>
 
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
clarjon1 [clarjon1 at gmail.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 13:14:05 -0500</b>
</p>

<p>
First things first:
Please, don't do HTML emails.  I know that's a nice font, but some
people will only see this type of thing when they open your mail:
</p>

<p>
[Warning, I'm about to give a copy of his message, beware!]
</p>

<pre>
--===============0215995091==
Content-Type: multipart/alternative; boundary="0-18625040-1173204137=:39761"
 
--0-18625040-1173204137=:39761
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable
 
Hi,=0AI am new at operations on processes.I wanna create child from parent =
and after ending  the process of child, child will create another child (li=
ke grandchild),and this child will create another child it will goes like t=
hat but =C4=B1 dont know how will =C4=B1 do this.Will it be in a loop or it=
 will be recursive?Thank you for your help.=0A =0A=0A=0A=0A=0A =0A_________=
___________________________________________________________________________=
=0A8:00? 8:25? 8:40? Find a flick in no time =0Awith the Yahoo! Search movi=
e showtime shortcut.=0A<a href="http://tools.search.yahoo.com/shortcuts/#news">http://tools.search.yahoo.com/shortcuts/#news</a>
--0-18625040-1173204137=:39761
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable
 
&lt;html&gt;&lt;head&gt;&lt;style type=3D"text/css"&gt;&lt;!-- DIV {margin:0px;} --&gt;&lt;/style&gt;&lt;/he=
ad&gt;&lt;body&gt;&lt;div style=3D"font-family:times new roman,new york,times,serif;fon=
t-size:14pt"&gt;Hi,&lt;br&gt;=0AI am new at operations on processes.I wanna create c=
hild from parent=0Aand after ending&amp;nbsp; the process of child, child will =
create another=0Achild (like grandchild),and this child will create another=
 child it=0Awill goes like that but =C4=B1 dont know how will =C4=B1 do thi=
s.Will it be in a=0Aloop or it will be recursive?Thank you for your help.&lt;b=
r&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;br&gt;=0A&lt;/div&gt;&lt;br&gt;=0A=0A&lt;hr size=3D1&gt;=0A&lt;a href=3D"http:/=
/us.rd.yahoo.com/evt=3D49678/*<a href="http://smallbusiness.yahoo.com/domains/?p=3DB=">http://smallbusiness.yahoo.com/domains/?p=3DB=</a>
ESTDEAL"&gt; Get your own web address.&lt;/a&gt;&lt;br&gt; Have a HUGE year through &lt;a hre=
f=3D"=0A<a href="http://us.rd.yahoo.com/evt=3D49678/*http://smallbusiness.yahoo.com/=">http://us.rd.yahoo.com/evt=3D49678/*http://smallbusiness.yahoo.com/=</a>
domains/?p=3DBESTDEAL"&gt;Yahoo! Small Business.&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;
</pre>
On 3/6/07, Cenk Yusuf Ustabas &lt;cenk_ustabas at yahoo.com&gt; wrote:
</p>

<pre>
&gt;
&gt; Hi,
&gt;  I am new at operations on processes.I wanna create child from parent and
&gt; after ending  the process of child, child will create another child (like
&gt; grandchild),and this child will create another child it will goes like that
&gt; but ? dont know how will ? do this.Will it be in a loop or it will be
&gt; recursive?Thank you for your help.
&gt;
&gt;
</pre>

<p>
You don't normally need to worry about processes, unless you want one of them to
'die', because it is not behaving, or another reason.
When a child of a child is created, that's not a grandchild.  Just a
new child process.  I don't know how you will do this, but why don't
you ask your teacher?
And will it be in a loop, or recursive?  As far as I know, the words
recursive and loop seem to go together quite well, as they seem to
mean pretty much the same thing.
</p>



<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Kapil Hari Paranjape [kapil at imsc.res.in]
</p>
</b><br />
<b>Tue, 6 Mar 2007 10:15:01 -0800</b>
</p>

<p>
Hello,
</p>

<p>
On Tue, 06 Mar 2007, Cenk Yusuf Ustabas wrote:
</p>

<pre>
&gt; I am new at operations on processes.I wanna create child from parent
&gt; and after ending the process of child, child will create another
&gt; child (like grandchild),and this child will create another child it
&gt; will goes like that but ? dont know how will ? do this.Will it be
&gt; in a loop or it will be recursive?Thank you for your help.
</pre>

<p>
Does the parent process need to wait for the child process to complete
or not?
</p>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Steve Brown [steve.stevebrown at gmail.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 18:24:29 +0000</b>
</p>

<p>
Hi All,
</p>

<p>
I just wanted to share this, it struck me as funny. YMMV.
</p>

<p>
On 06/03/07, Cenk Yusuf Ustabas &lt;cenk_ustabas at yahoo.com&gt; wrote:
</p>

<pre>
&gt;
&gt; Hi,
&gt;  I am new at operations on processes.I wanna create child from parent and
&gt; after ending  the process of child, child will create another child (like
&gt; grandchild),and this child will create another child it will goes like that
&gt; but ? dont know how will ? do this.Will it be in a loop or it will be
&gt; recursive?Thank you for your help.
&gt;
</pre>

<p>
Reading this in Gmail web interface, one of the Google Ads was:
</p>

<pre>
Potty Training In 3 Days
Potty Training Secrets That Work Say Good Bye To Diapers Forever
</pre>
Just made me laugh.
</p>

<p>
Perhaps I need to go home.
</p>

<p>
Steve
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Lew Pitcher [lpitcher at sympatico.ca]
</p>
</b><br />
<b>Tue, 06 Mar 2007 15:06:04 -0500</b>
</p>

<p>
Cenk Yusuf Ustabas wrote:
</p>

<pre>
&gt; Hi,
&gt; I am new at operations on processes.
&gt; I wanna create child from parent and after ending
&gt; the process of child, child will create another child (like grandchild)
&gt; and this child will create another child it will goes like that but
&gt; I dont know how will I do this.
&gt; Will it be in a loop or it will be recursive? Thank you for your help.
</pre>

<p>
It is unclear to me whether you want to do this in program code or as part 
of a shell script. Assuming that you want program code, you need to read the 
documentation on the fork(1) syscall ("man 1 fork"). Your program code will 
looks something like...
</p>

<p>
<pre class="code">
   for (;;)
   {
     /* do some useful work here */
     if (fork()) exit(0);
   }
</pre>
The fork() call creates the child process
The return value from the fork() call will be non-zero in the parent 
process, and zero in the child process. The child process, detecting that it 
/is/ the child (because of the zero return value from fork() ) will continue 
on, loop back to the top of the for(;;) loop, and drop back into the part 
that does the useful work. The parent process, detecting that it /is/ the 
parent (because of the non-zero return value from fork() ) will terminate 
using the exit() call. If the parent process did not terminate, then there 
would soon be too many processes for the system to handle, and the system 
would soon start denying the fork() call. (think about it, the parent would 
keep spawning processes, and each of those processes would spawn processes, 
and ever onwards).
</p>

<p>
HTH
<pre>-- 
Lew
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 20:49:05 +0000</b>
</p>

<p>
[ Re-added the querent. ]
</p>

<p>
On Tue, Mar 06, 2007 at 03:06:04PM -0500, Lew Pitcher wrote:
</p>


<pre>
&gt; It is unclear to me whether you want to do this in program code or as part 
&gt; of a shell script. Assuming that you want program code, you need to read the 
&gt; documentation on the fork(1) syscall ("man 1 fork"). Your program code will 
&gt; looks something like...
</pre>

<p>
Except of course, that's section 2, not section 1.
</p>

<p>
-- Thomas Adam
</p>

<pre>-- 
"Wanting to feel; to know what is real.  Living is a lie." -- Purpoise
Song, by The Monkees.
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Kapil Hari Paranjape [kapil at imsc.res.in]
</p>
</b><br />
<b>Tue, 6 Mar 2007 13:12:03 -0800</b>
</p>

<p>
Hello,
</p>

<p>
The original querent responded to my e-mail address rather than to
the list so I'm forwarding it here.
</p>

<p>
On Tue, 06 Mar 2007, Cenk Yusuf Ustabas wrote:
</p>

<pre>
&gt; first of all I want to say thank you because you answered very
&gt; quickly.Yes the main parent will wait for all children.?f you want
&gt; can ? explain all problem?
&gt;
&gt; Yusuf Ustabas Yeditepe University Faculty of
&gt; Engineering&amp;Architecture Computer Engineering
</pre>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Cenk Yusuf Ustabas [cenk_ustabas at yahoo.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 13:13:26 -0800 (PST)</b>
</p>

<p>
No,I don't want to code.If you gice the code I can't learn I just want
to know how to do that as an algorithm.thank you for you help.
</p>


<p>
 

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 21:16:52 +0000</b>
</p>

<p>
On Tue, Mar 06, 2007 at 01:13:26PM -0800, Cenk Yusuf Ustabas wrote:
</p>

<pre>
&gt; No,I don't want to code.If you gice the code I can't learn I just want
&gt; to know how to do that as an algorithm.thank you for you help.
</pre>

<p>
An algorithm in what sense, and for what?  To be used where?
</p>

<p>
-- Thomas Adam
</p>

<pre>-- 
"Wanting to feel; to know what is real.  Living is a lie." -- Purpoise
Song, by The Monkees.
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Cenk Yusuf Ustabas [cenk_ustabas at yahoo.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 13:49:23 -0800 (PST)</b>
</p>

<p>
First of all I can't find a link about fork(1).I will write a program which is like that:
</p>

<p>
Parent produce some numbers and it will create child and this child read
these numbers and this child will create another child and this child
will read these numbers it will continue like that until loop will end
but last child doesnt create any child.Then at the end all these process
will end.I guess this is clear now.I know how to create a child but I
don't know how this child create another child... it will goes like
that.I'm thinking something for example: after pid=fork(); for one child
we can do our process in separate parts child and parent then both of
them will end by one by.But How will I create other child?  
</p>

<pre>
case -1:
    error no child
case 0: (this is child part)
</pre>
    do I create other child in this part?
</p>

<pre>
default: (parent) 
</pre>
Thank you.
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 21:54:48 +0000</b>
</p>

<p>
On Tue, Mar 06, 2007 at 01:49:23PM -0800, Cenk Yusuf Ustabas wrote:
</p>

<pre>
&gt; First of all I can't find a link about fork(1).I will write a program
&gt; which is like that:
</pre>

<p>
I see.  You want us to do your homework.  This isn't something we do.
</p>


<pre>
&gt; Parent produce some numbers and it will create child and this child
&gt; read these numbers and this child will create another child and this
&gt; child will read these numbers it will continue like that until loop
&gt; will end but last child doesnt create any child.Then at the end all
</pre>

<p>
If the same sets of numbers are being passed down continually, how will
you decide when the loop ends?  This is potentially disasterous on a
system that will just keep spawning processes.
</p>


<pre>
&gt; But How will I create other child?  
</pre>

<p>
In exactly the same way you did initially.
</p>

<p>
-- Thomas Adam
</p>

<pre>-- 
"Wanting to feel; to know what is real.  Living is a lie." -- Purpoise
Song, by The Monkees.
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Cenk Yusuf Ustabas [cenk_ustabas at yahoo.com]
</p>
</b><br />
<b>Tue, 6 Mar 2007 14:12:58 -0800 (PST)</b>
</p>

<p>
so which part exactly not understandable?
</p>


<p>
 

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
MNZ [mnzaki at gmail.com]
</p>
</b><br />
<b>Wed, 7 Mar 2007 16:58:18 +0400</b>
</p>

<p>
On Tue, Mar 06, 2007 at 09:54:48PM +0000, Thomas Adam wrote:
</p>

<pre>
&gt; On Tue, Mar 06, 2007 at 01:49:23PM -0800, Cenk Yusuf Ustabas wrote:
&gt; &gt; First of all I can't find a link about fork(1).I will write a program
&gt; &gt; which is like that:
&gt; 
&gt; I see.  You want us to do your homework.  This isn't something we do.
&gt; 
&gt; &gt; Parent produce some numbers and it will create child and this child
&gt; &gt; read these numbers and this child will create another child and this
&gt; &gt; child will read these numbers it will continue like that until loop
&gt; &gt; will end but last child doesnt create any child.Then at the end all
&gt; 
&gt; If the same sets of numbers are being passed down continually, how will
&gt; you decide when the loop ends?  This is potentially disasterous on a
&gt; system that will just keep spawning processes.
</pre>

<p>
On the contrary, this is quite useful to crash a system. Long Long ago, when
the earth was young and so was I, I did this on visual basic. Loop forever
creating children that loop forever creating children that loop forever 
creating children.... It was fun watching the screen fill up.
 
</p>

<pre>
&gt; &gt; But How will I create other child?  
</pre>

<p>
by child, do you mean a copy of the same parent, iw run the parent again as a
child? if so then maybe you can pass on the "number" to the child as an 
argument, and it will just run a copy of itself with a smaller (or bigger <img src="../gx/smile.png" alt=":)">)
number as an argument. Is that what you meant?
</p>

<pre>-- 
//MNZ\\  "We all need mirrors to remind ourselves who we are"
							-- Leonard Shelby
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]
</p>
</b><br />
<b>Wed, 7 Mar 2007 09:09:10 +0000</b>
</p>

<p>
On Wed, 7 Mar 2007 16:58:18 +0400
MNZ &lt;mnzaki at gmail.com&gt; wrote:
</p>


<pre>
&gt; On the contrary, this is quite useful to crash a system. Long Long
</pre>

<p>
That doesn't mean to say you should do it.  There's plenty of other
ways to "crash" a system.
</p>

<p>
-- Thomas Adam
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
MNZ [mnzaki at gmail.com]
</p>
</b><br />
<b>Wed, 7 Mar 2007 17:14:12 +0400</b>
</p>

<p>
On Wed, Mar 07, 2007 at 09:09:10AM +0000, Thomas Adam wrote:
</p>

<pre>
&gt; On Wed, 7 Mar 2007 16:58:18 +0400
&gt; MNZ &lt;mnzaki at gmail.com&gt; wrote:
&gt; 
&gt; &gt; On the contrary, this is quite useful to crash a system. Long Long
&gt; 
&gt; That doesn't mean to say you should do it.  There's plenty of other
&gt; ways to "crash" a system.
</pre>

<p>
Ummmm, yeah, I guess you are right. Anyway that's exactly what will happen
if that's how he wants to design his program. right?
</p>

<p>
Is there something that stops such a thing from happening on linux?
</p>

<pre>-- 
//MNZ\\  "We all need mirrors to remind ourselves who we are"
							-- Leonard Shelby
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]
</p>
</b><br />
<b>Wed, 7 Mar 2007 09:33:32 +0000</b>
</p>

<p>
On Wed, 7 Mar 2007 17:14:12 +0400
MNZ &lt;mnzaki at gmail.com&gt; wrote:
</p>


<pre>
&gt; On Wed, Mar 07, 2007 at 09:09:10AM +0000, Thomas Adam wrote:
&gt; &gt; On Wed, 7 Mar 2007 16:58:18 +0400
&gt; &gt; MNZ &lt;mnzaki at gmail.com&gt; wrote:
&gt; &gt; 
&gt; &gt; &gt; On the contrary, this is quite useful to crash a system. Long Long
&gt; &gt; 
&gt; &gt; That doesn't mean to say you should do it.  There's plenty of other
&gt; &gt; ways to "crash" a system.
&gt; 
&gt; Ummmm, yeah, I guess you are right. Anyway that's exactly what will
&gt; happen if that's how he wants to design his program. right?
</pre>

<p>
That depends.  Under Linux, there's a kernel facet known as the
OOM-killer (Out Of Memory killer) which will attempt to stop processes
from becoming all-consuming in their operations.  Whilst the amount of
memory each child takes up is likely to be small, cumulatively it's
going to be quite large if a parent continually starts to fork various
processes off.  The kernel notices this fact and will <strong>try</strong> and kill a
process of.
</p>

<p>
But it's not as as simple as that.  Due to several complex reasons, the
OOM-killer is rarely able (or unlikely) to kill off the process or
processes which are becoming a problem.  Hence it's likely that the
OOM-killer will kill anything off.  This is again potentially a
nuisance as you can imagine, since it can lead to a number of processes
being orphaned to init, often in a D or Z state such that the process
may never recover [1].
</p>

<p>
You can mitigate this in general though.  The builtin command for most
shells:  ulimit has an option of trying to contain any process from
consuming too much memory:
</p>

<p>
<pre class="code">
ulimit -v 90000
</pre>
Although that's not process specific of course -- ulimit was never
designed to be so.  On system which use PAM (Pluggable Authentication
Manager) one can use /etc/security/limits.conf to set per-process
limits such as memory.  This is generally better where a known
application <strong>cough*Firefox*cough</strong> just eats any memory it can.
</p>

<p>
I'll let you decide which of the two methods is likely to be more
applicable to this so-called forking situation.  And it is only
theoretical.  Have you never seen what the following is doing:
</p>

<p>
<pre class="code">
<img src="../gx/frown.png" alt=":(">){ :|:&amp; };:
</pre>
(This is specific to bourne shells).  This creates a function called
':' which then calls itself recursively, all the time forking a new
instance.  Can you see now, why in the situation with this proposed
parent-&gt;child forking many processes why this is a bad idea?  It's the
same thing as the above example -- potentially bad.  
</p>

<p>
Again, ulimit can help in this instance.  It's not just memory
limitations which can mitigate the above.  Ulimit can also limit the
number of processes a user can run, but even this is still no guarantee
of control.
</p>

<p>
I have no doubt that it's simply the querent's description of what he's
trying to do -- and even if it's a mis-communication on his part, it's
still useful that he should have mentioned it.
</p>


<pre>
&gt; Is there something that stops such a thing from happening on linux?
</pre>

<p>
See above.
</p>

<p>
-- Thomas Adam
</p>

<p>
[1]  If it is in a zombie state, there's always a chance it will get
reaped, but this can take anything from two to thirty minutes, without
any guarantees at all. 
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
MNZ [mnzaki at gmail.com]
</p>
</b><br />
<b>Wed, 7 Mar 2007 17:56:47 +0400</b>
</p>

<p>
On Wed, Mar 07, 2007 at 09:33:32AM +0000, Thomas Adam wrote:
</p>

<pre>
&gt; That depends.  Under Linux, there's a kernel facet known as the
&gt; OOM-killer (Out Of Memory killer) which will attempt to stop processes
&gt; from becoming all-consuming in their operations.  Whilst the amount of
&gt; memory each child takes up is likely to be small, cumulatively it's
&gt; going to be quite large if a parent continually starts to fork various
&gt; processes off.  The kernel notices this fact and will <strong>try</strong> and kill a
&gt; process of.
&gt; 
&gt; But it's not as as simple as that.  Due to several complex reasons, the
&gt; OOM-killer is rarely able (or unlikely) to kill off the process or
&gt; processes which are becoming a problem.  Hence it's likely that the
&gt; OOM-killer will kill anything off.  This is again potentially a
&gt; nuisance as you can imagine, since it can lead to a number of processes
&gt; being orphaned to init, often in a D or Z state such that the process
&gt; may never recover [1].
</pre>

<p>
Google sayeth:
<pre>
It is the job of the linux 'oom killer' to sacrifice one or more processes in 
order to free up memory for the system when all else fails. It will also kill 
any process sharing the same mm_struct as the selected process, for obvious 
reasons. Any particular process leader may be immunized against the oom killer 
if the value of it's /proc/&lt;pid&gt;/oomadj is set to the constant OOM_DISABLE 
(currently defined as -17).
</pre>
I guess OOM-Killer wasn't made to stop hostile process but rather to stop ones
that take up too much memory on "accident". Or there wouldn't be any 
"immunization" against it
</p>


<pre>
&gt; (--snip--)
&gt; 
&gt; ```
&gt; <img src="../gx/frown.png" alt=":(">){ :|:&amp; };:
&gt; '''
&gt; 
&gt; (This is specific to bourne shells).  This creates a function called
&gt; ':' which then calls itself recursively, all the time forking a new
&gt; instance.  Can you see now, why in the situation with this proposed
&gt; parent-&gt;child forking many processes why this is a bad idea?  It's the
&gt; same thing as the above example -- potentially bad.  
&gt; 
&gt; Again, ulimit can help in this instance.  It's not just memory
&gt; limitations which can mitigate the above.  Ulimit can also limit the
&gt; number of processes a user can run, but even this is still no guarantee
&gt; of control.
</pre>

<p>
Quite interesting, thanks.
</p>


<pre>
&gt; I have no doubt that it's simply the querent's description of what he's
&gt; trying to do -- and even if it's a mis-communication on his part, it's
&gt; still useful that he should have mentioned it.
</pre>

<p>
Cenk Yusuf, if you would like to explain the problem in arabic (guessed from 
your name, but not sure if you speak arabic) I'd be more than happy to 
translate.
</p>

<pre>-- 
//MNZ\\  "We all need mirrors to remind ourselves who we are"
							-- Leonard Shelby
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Kapil Hari Paranjape [kapil at imsc.res.in]
</p>
</b><br />
<b>Wed, 7 Mar 2007 07:18:25 -0800</b>
</p>

<p>
<p class="editorial">
[[[  I have re-attached this portion to the main thread. Kapil had
originally retitled this "Crashing the system" -- Kat  ]]]
</p>

</p>

<p>
(Removing original querent from the recipients as this is out-of-context)
</p>

<p>
On Wed, 07 Mar 2007, MNZ wrote:
</p>

<pre>
&gt; On the contrary, this is quite useful to crash a system. Long Long ago, when
&gt; the earth was young and so was I, I did this on visual basic. Loop forever
&gt; creating children that loop forever creating children that loop forever 
&gt; creating children.... It was fun watching the screen fill up.
</pre>

<p>
There is a different program for crashing the system called "crashme"
which works as follows:
<pre>
1. Trap all signals
2. Generate a random sequence of bytes.
3. Treat that as code by jumping into it.
4. Loop if necessary.
</pre>
This was used as proof of concept for Linux in the early days (when
it was still being compared to Minix-386). I seem to recall that
Linux (1.0) did not crash whereas Minix-386 did. 
</p>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>



<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
MNZ [mnzaki at gmail.com]
</p>
</b><br />
<b>Wed, 7 Mar 2007 19:45:06 +0400</b>
</p>

<p>
On Wed, Mar 07, 2007 at 07:18:25AM -0800, Kapil Hari Paranjape wrote:
</p>

<pre>
&gt; &gt; On the contrary, this is quite useful to crash a system. Long Long ago, when
&gt; &gt; the earth was young and so was I, I did this on visual basic. Loop forever
&gt; &gt; creating children that loop forever creating children that loop forever 
&gt; &gt; creating children.... It was fun watching the screen fill up.
&gt; 
&gt; There is a different program for crashing the system called "crashme"
&gt; which works as follows:
&gt; 
&gt; 1. Trap all signals
&gt; 2. Generate a random sequence of bytes.
&gt; 3. Treat that as code by jumping into it.
&gt; 4. Loop if necessary.
&gt; 
&gt; This was used as proof of concept for Linux in the early days (when
&gt; it was still being compared to Minix-386). I seem to recall that
&gt; Linux (1.0) did not crash whereas Minix-386 did. 
&gt; 
&gt; Regards,
&gt; 
&gt; Kapil.
</pre>

<p>
You don't need all that complexity(!) to crash wind0ze. A simple program that
merely runs itself is enough. About linux, well sometimes I wonder if it is
crashable. The only one time it died on me was long ago, kjournald said 
something then it just crashed. As to whether or not the simple call-myself 
program can crash linux, I'm not sure.
</p>

<pre>-- 
//MNZ\\  "We all need mirrors to remind ourselves who we are"
							-- Leonard Shelby
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Thu, 8 Mar 2007 15:01:58 -0500</b>
</p>

<p>
On Wed, Mar 07, 2007 at 05:56:47PM +0400, MNZ wrote:
</p>

<pre>
&gt; 
&gt; Cenk Yusuf, if you would like to explain the problem in arabic (guessed from 
&gt; your name, but not sure if you speak arabic) I'd be more than happy to 
&gt; translate.
</pre>

<p>
The amazing language expansion in TAG goes on...
</p>

<p>
MNZ: just FYI, this is turning into a (wonderful) tradition in TAG: a
couple of months ago, we had a question asked here in Melayu (IIRC), and
- lo and behold - Mulyadi Santosa stepped up and translated it. Totally
unexpected, and great fun (although the querent never wrote back, it was
still a very cool experience.)
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-endless_children">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>