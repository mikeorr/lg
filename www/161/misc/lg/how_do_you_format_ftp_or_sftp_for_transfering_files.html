<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>How do you format ftp or sftp for transfering files?...</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>How do you format ftp or sftp for transfering files?...</h3>
<p>
<b><p>
Don Saklad [dsaklad at gnu.org]

</p>
</b><br />
<b>Sun, 08 Mar 2009 16:23:26 -0400</b>
</p>

<p>
How do you format ftp or sftp for transfering files?...
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Lew Pitcher [lew.pitcher at digitalfreehold.ca]

</p>
</b><br />
<b>Sun, 8 Mar 2009 16:52:23 -0400</b>
</p>

<p>
On March 8, 2009 16:23:26 Don Saklad wrote:
</p>

<pre>
&gt; How do you format ftp or sftp for transfering files?...
</pre>

<p>
Hi, Don
</p>

<p>
I don't understand your use of the word "format"
</p>

<p>
Do you mean format as in "format a file or filesystem", or do you mean it as 
in "what should it look like"?
</p>

<p>
Could you perhaps describe the problem you are trying to solve? And why you 
think ftp or sftp will help?
</p>

<p>
Realize that both ftp and sftp require a client application on one side, and a 
server on the other. Are you asking what the client command should look like?
</p>

<p>
Note also that normally, both ftp and sftp are interactive; the command 
invocation does not usually define all the file transfer requirements.
</p>


<pre>-- 
Lew Pitcher
 
Master Codewright &amp; JOAT-in-training | Registered Linux User #112576
<a href='http://pitcher.digitalfreehold.ca/'>http://pitcher.digitalfreehold.ca/</a>   | GPG public key available by request
----------      Slackware - Because I know what I'm doing.          ------
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Rick Moen [rick at linuxmafia.com]

</p>
</b><br />
<b>Sun, 8 Mar 2009 14:13:09 -0700</b>
</p>

<p>
Quoting Don Saklad (dsaklad@gnu.org):
</p>


<pre>
&gt; How do you format ftp or sftp for transfering files?...
</pre>

<p>
Why is a raven like a writing desk?
</p>

<p>
(You should, please, rephrase your question so that its semantic payload
is more easily understood.)
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxmafia.com]

</p>
</b><br />
<b>Sun, 8 Mar 2009 18:12:33 -0400</b>
</p>

<p>
On Sun, Mar 08, 2009 at 02:13:09PM -0700, Rick Moen wrote:
</p>

<pre>
&gt; Quoting Don Saklad (dsaklad@gnu.org):
&gt; 
&gt; &gt; How do you format ftp or sftp for transfering files?...
&gt; 
&gt; Why is a raven like a writing desk?
</pre>

<p>
Neither can be transferred via {s,}ftp?
</p>


<pre>
&gt; (You should, please, rephrase your question so that its semantic payload
&gt; is more easily understood.)
</pre>

<p>
Yes indeed. We'd be happy to help you, Don, once we understand the
question.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 8 Mar 2009 18:28:31 -0400</b>
</p>

<p>
On Sun, Mar 08, 2009 at 04:52:23PM -0400, Lew Pitcher wrote:
</p>

<pre>
&gt; 
&gt; Note also that normally, both ftp and sftp are interactive; the command 
&gt; invocation does not usually define all the file transfer requirements.
</pre>

<p>
Actually, that part's pretty easy.
</p>

<p>
<pre class='code'>
ben@Tyr:~$ &gt;FOOBAR
ben@Tyr:~$ echo -e "cd /tmp\nput FOOBAR\n"|sftp ben@localhost
Connecting to localhost...
ben@localhost's password: 
sftp&gt; cd /tmp
sftp&gt; put FOOBAR
Uploading FOOBAR to /tmp/FOOBAR
FOOBAR                                 100%    0     0.0KB/s   00:00    
sftp&gt; 
ben@Tyr:~$ ls /tmp/F*
/tmp/FOOBAR
</pre>

<p>
If I had the password for 'localhost' defined in my ~/.netrc, I wouldn't
even have had to stop for that.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Lew Pitcher [lew.pitcher at digitalfreehold.ca]

</p>
</b><br />
<b>Mon, 9 Mar 2009 10:23:14 -0400</b>
</p>

<p>
On March 8, 2009 18:28:31 Ben Okopnik wrote:
</p>

<pre>
&gt; On Sun, Mar 08, 2009 at 04:52:23PM -0400, Lew Pitcher wrote:
&gt; &gt; Note also that normally, both ftp and sftp are interactive; the command
&gt; &gt; invocation does not usually define all the file transfer requirements.
&gt;
&gt; Actually, that part's pretty easy.
&gt;
&gt; ```
&gt; ben@Tyr:~$ &gt;FOOBAR
&gt; ben@Tyr:~$ echo -e "cd /tmp\nput FOOBAR\n"|sftp ben@localhost
</pre>
[snip]
</p>

<p>
True(ish)
</p>

<p>
I've used something similar in a couple of my own projects.
</p>

<p>
The drawback for "preloading" the responses to an interactive stream like this 
is that neither ftp nor sftp include a way to determine whether or not the 
commands worked. Had your sftp session not been able to connect to localhost, 
or not been able to cd to /tmp, the "preloaded" command stream would have 
failed, but /appeared/ to have worked.
</p>

<p>
There /are/ (s)ftp clients that support scripting, and scripting languages 
(like perl and php, for instance) that support (s)ftp, so this potential flaw 
can be remedied.
</p>

<p>
OTOH, the OP has yet to explain what he meant, so perhaps we are going down 
the wrong path. I guess time will tell.  <img src="../gx/smile.png" alt=":-)">
</p>


<pre>-- 
Lew Pitcher
 
Master Codewright &amp; JOAT-in-training | Registered Linux User #112576
<a href='http://pitcher.digitalfreehold.ca/'>http://pitcher.digitalfreehold.ca/</a>   | GPG public key available by request
----------      Slackware - Because I know what I'm doing.          ------
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Mon, 9 Mar 2009 10:51:28 -0400</b>
</p>

<p>
On Mon, Mar 09, 2009 at 10:23:14AM -0400, Lew Pitcher wrote:
</p>

<pre>
&gt; On March 8, 2009 18:28:31 Ben Okopnik wrote:
&gt; &gt; On Sun, Mar 08, 2009 at 04:52:23PM -0400, Lew Pitcher wrote:
&gt; &gt; &gt; Note also that normally, both ftp and sftp are interactive; the command
&gt; &gt; &gt; invocation does not usually define all the file transfer requirements.
&gt; &gt;
&gt; &gt; Actually, that part's pretty easy.
&gt; &gt;
&gt; &gt; ```
&gt; &gt; ben@Tyr:~$ &gt;FOOBAR
&gt; &gt; ben@Tyr:~$ echo -e "cd /tmp\nput FOOBAR\n"|sftp ben@localhost
&gt; [snip]
&gt; 
&gt; True(ish)
&gt; 
&gt; I've used something similar in a couple of my own projects.
&gt; 
&gt; The drawback for "preloading" the responses to an interactive stream like this 
&gt; is that neither ftp nor sftp include a way to determine whether or not the 
&gt; commands worked. Had your sftp session not been able to connect to localhost, 
&gt; or not been able to cd to /tmp, the "preloaded" command stream would have 
&gt; failed, but /appeared/ to have worked.
</pre>

<p>
In the part that you snipped, there were responses from 'sftp' that
showed where the commands succeeded. You could capture and/or test for
those if you wanted to. Plain FTP can be made verbose as well:
</p>

<pre>
  -v    Verbose option forces ftp to show all responses from the remote
        server, as well as report on data transfer statistics.
</pre>

<p>
It seems like all of that is definitive and testable - although I'd
agree that it's not as easy as it should be.
</p>


<pre>
&gt; There /are/ (s)ftp clients that support scripting, and scripting languages 
&gt; (like perl and php, for instance) that support (s)ftp, so this potential flaw 
&gt; can be remedied.
</pre>

<p>
That would be the standard remedy from my perspective. Net::SSH2 under
Perl handles all of that for me. 
</p>


<pre>
&gt; OTOH, the OP has yet to explain what he meant, so perhaps we are going down 
&gt; the wrong path. I guess time will tell.  <img src="../gx/smile.png" alt=":-)">
</pre>

<p>
Hey, it's always fun to explore the alleys and the byways off the main
drag. <img src="../gx/smile.png" alt=":)">
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Lew Pitcher [lew.pitcher at digitalfreehold.ca]

</p>
</b><br />
<b>Mon, 9 Mar 2009 11:10:02 -0400</b>
</p>

<p>
On March 9, 2009 10:51:28 Ben Okopnik wrote:
</p>

<pre>
&gt; On Mon, Mar 09, 2009 at 10:23:14AM -0400, Lew Pitcher wrote:
&gt; &gt; On March 8, 2009 18:28:31 Ben Okopnik wrote:
&gt; &gt; &gt; On Sun, Mar 08, 2009 at 04:52:23PM -0400, Lew Pitcher wrote:
&gt; &gt; &gt; &gt; Note also that normally, both ftp and sftp are interactive; the
&gt; &gt; &gt; &gt; command invocation does not usually define all the file transfer
&gt; &gt; &gt; &gt; requirements.
&gt; &gt; &gt;
&gt; &gt; &gt; Actually, that part's pretty easy.
&gt; &gt; &gt;
&gt; &gt; &gt; ```
&gt; &gt; &gt; ben@Tyr:~$ &gt;FOOBAR
&gt; &gt; &gt; ben@Tyr:~$ echo -e "cd /tmp\nput FOOBAR\n"|sftp ben@localhost
&gt; &gt;
&gt; &gt; [snip]
&gt; &gt;
&gt; &gt; True(ish)
&gt; &gt;
&gt; &gt; I've used something similar in a couple of my own projects.
&gt; &gt;
&gt; &gt; The drawback for "preloading" the responses to an interactive stream like
&gt; &gt; this is that neither ftp nor sftp include a way to determine whether or
&gt; &gt; not the commands worked. Had your sftp session not been able to connect
&gt; &gt; to localhost, or not been able to cd to /tmp, the "preloaded" command
&gt; &gt; stream would have failed, but /appeared/ to have worked.
&gt;
&gt; In the part that you snipped, there were responses from 'sftp' that
&gt; showed where the commands succeeded. You could capture and/or test for
&gt; those if you wanted to. Plain FTP can be made verbose as well:
&gt;
&gt; ``
&gt;   -v    Verbose option forces ftp to show all responses from the remote
&gt;         server, as well as report on data transfer statistics.
&gt; ''
</pre>

<p>
I hadn't thought about using post-analysis, but it sounds like it would work 
in most cases. I was thinking more of the inability to respond immediately to 
error conditions; if (in your example), the /tmp directory didn't exist, 
the "cd /tmp" would have failed, and your client session would potentially be 
left in the initial server-side directory. In this case, do you /really/ want 
the client to execute the "put  FOOBAR"? FOOBAR might wind up in the wrong 
directory, necessitating some amount of clean-up that is cumbersome to 
perform after-the-fact.
</p>


<pre>
&gt; It seems like all of that is definitive and testable - although I'd
&gt; agree that it's not as easy as it should be.
</pre>

<p>
True. And if you are confident enough in the stability of your preloaded 
commands (and/or your post-analysis recovery), there's no reason /not/ to use 
this sort of setup. As I said, I've done exactly that in a number of 
different projects.
</p>

<p>
[snip]
</p>

<pre>-- 
Lew Pitcher
 
Master Codewright &amp; JOAT-in-training | Registered Linux User #112576
<a href='http://pitcher.digitalfreehold.ca/'>http://pitcher.digitalfreehold.ca/</a>   | GPG public key available by request
----------      Slackware - Because I know what I'm doing.          ------
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Chris Bannister [mockingbird at earthlight.co.nz]

</p>
</b><br />
<b>Fri, 20 Mar 2009 23:55:06 +1300</b>
</p>

<p>
On Sun, Mar 08, 2009 at 02:13:09PM -0700, Rick Moen wrote:
</p>

<pre>
&gt; Quoting Don Saklad (dsaklad@gnu.org):
&gt; 
&gt; &gt; How do you format ftp or sftp for transfering files?...
&gt; 
&gt; Why is a raven like a writing desk?
&gt; 
&gt; (You should, please, rephrase your question so that its semantic payload
&gt; is more easily understood.)
</pre>
<strong> cough </strong>
</p>

<p>
I presume he means "configure".
And sorry I don't know how -- there are probably many ways.
<a href='http://catb.org/~esr/faqs/smart-questions.html'>http://catb.org/~esr/faqs/smart-questions.html</a>
</p>

<pre>-- 
Chris.
======
I contend that we are both atheists. I just believe in one fewer god
than you do. When you understand why you dismiss all the other
possible gods, you will understand why I dismiss yours.
                                           -- Stephen F Roberts
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Rick Moen [rick at linuxmafia.com]

</p>
</b><br />
<b>Fri, 20 Mar 2009 09:42:33 -0700</b>
</p>

<p>
Quoting Chris Bannister (mockingbird@earthlight.co.nz):
</p>

<pre>
&gt; On Sun, Mar 08, 2009 at 02:13:09PM -0700, Rick Moen wrote:
&gt; &gt; Quoting Don Saklad (dsaklad@gnu.org):
&gt; &gt; 
&gt; &gt; &gt; How do you format ftp or sftp for transfering files?...
&gt; &gt; 
&gt; &gt; Why is a raven like a writing desk?
&gt; &gt; 
&gt; &gt; (You should, please, rephrase your question so that its semantic payload
&gt; &gt; is more easily understood.)
&gt; <strong> cough </strong>
&gt; 
&gt; I presume he means "configure".
&gt; And sorry I don't know how -- there are probably many ways.
</pre>

<p>
It's certainly possible that Don meant "configure" ("How do you
configure ftp or sftp for transferring files?"), but that would leave
entirely unclear what exactly the problem Don's trying to solve is.
</p>

<p>
Ideally, someone posing such a problem online would say "I tried [foo],
and then [bar], and what then resulted was [baz]", i.e., an explicit
(but concise, please!) chronological account that we can reproduce to
observe the symptom for ourselves.
</p>

<p>
As it turns out, for all ftp and sftp clients of my acquaintance, no
configuration is either necessary or useful, except sometimes putting
ftp clients in "passive" mode to better deal with the more mulish
firewalls.  However, again, it might be possible to give a more
meaningful answer if Don would say <em>which</em> ftp and sftp clients he
tried, and what specific conundrum he encountered.
</p>

<p>
If the problem is solely that he hasn't yet tried any, maybe it's
smarter to just do that, rather than hit up help resources about
speculative, vaguely defined problems he thinks may or may not exist.
</p>


<pre>
&gt; <a href='http://catb.org/~esr/faqs/smart-questions.html'>http://catb.org/~esr/faqs/smart-questions.html</a>
</pre>

<p>
I don't know if I'd put much stock in that essay:  One of the co-authors
is a Scandinavian, and my Tante Bjorg always warned me about them!
</p>

<p>
By the way, the canonical suggested answer to the Mad Hatter's famous 
unanswered riddle ("Why is a raven like a writing desk?") was eventually
provided by Martin Gardner in _The Annotated Alice_:  "Because they were
both written on by Poe."
</p>

<pre>-- 
Cheers,              Crypto lets someone say "Hi! I absolutely definitely have 
Rick Moen            a name somewhat like the name of a large familiar 
rick@linuxmafia.com  organization, and I'd like to steal your data!" and lots 
McQ!  (4x80)         of users will say "OK, fine, whatever."    -- John Levine 
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_do_you_format_ftp_or_sftp_for_transfering_files">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>