<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html><head>
<META NAME="generator" CONTENT="lgazmail v1.1D.l">
<TITLE>The Answer Guy 34: 
Problems with a SCSI Tape Drive
</TITLE> 
<!-- ORIGINAL SUBJECT:
Problems with backup 
JTD SUBTITLE:

-->
</head>

<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#A000A0"
ALINK="#FF0000">
<H4>"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H1 align="center"><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="" border="0" align="middle">
	<a href="../index.html">The Answer Guy</a>
	<img src="../../gx/dennis/bbubble.gif" alt="" border="0" align="middle">
</A></H1> 
<BR>
<H4 align="center">By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
	<BR>Starshine Technical Services, <A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H4>
<p><hr><p>
<!--endcut ========================================================= -->
<H3><img src="../../gx/dennis/qbub.gif" alt="(?)"
width="50" height="28" align="left" border="0"
>Problems with a SCSI Tape Drive</H3>
<p><strong>From Ralf Schiemann on 23 Oct 1998 </strong></p>
<!-- begin body -->


<p><strong>Hi,
I've a problem with backing up our file server (Linux 2.0.33). Attached
to the server is a HP C1557A SCSI TapeLoader (6 x 24 GB). Actions on the
loader are done without any problems (e.g. loading and unloading of
tapes).
</strong></p>

<p><strong>But if I try to do a backup via tar (<tt>tar cvf /dev/st0 /tmp</tt>) the tape
display is telling me "Write" and after a short while "Tape Position
lost". In <tt>/var/log/messages</tt> I find the following errors:
</strong></p>


<pre>kernel: st0: Error with sense data: extra data not valid
Deferred error st09:00: sense key Medium Error
kernel: Additional sense indicates Sequential positioning error
kernel: st0: Error on write filemark.
</pre>

<p><strong>Can you tell me whats going wrong??
Any help is welcome,
<br>Ralf
</strong></p>

<blockquote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)" height="28" width="50" align="bottom">I would look at SCSI termination and cabling problems.
It sounds like commands are getting through the interface
just fine, and streams of data are causing the problem.
</blockquote>

<blockquote>You don't say what kernel version nor which SCSI adapter and 
drivers you're using.  If this is a modular kernel, try
compiling the appropriate SCSI driver directly into it
(to eliminate any chance of anomalies with automatic loading 
and removal of the SCSI drivers by kerneld, etc).
</blockquote>

<blockquote>Try compiling a very minimal kernel with just the 
drivers you need to do your backup.  You want to see if
there's some strange conflict between your drivers.
</blockquote>

<blockquote>Finally you might try testing this with a different 
SCSI adapter, with no other peripherals on it and the 
best cable you can buy. Is this an internal or external
unit? I'm guessing external since DAT autochangers are
pretty big for internal drive bays).
</blockquote>

<blockquote>If you can afford it, it's best to put your SCSI tape
drive on a separate SCSI card (a fairly cheap $60
ISA card is fine).  This allows you to put the 
tape drive off that system without having to reboot,
and it maximizes performance on the other bus.
</blockquote>
<!-- end body -->

<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 1998, James T. Dennis <BR>
Published in <I>Linux Gazette</I> Issue 34 November 1998</H5>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<P align="center">
<table width="98%"><tr valign="center" align="center">
<td rowspan="3"><A HREF="../lg_answer34.html"><IMG
        SRC="../../gx/dennis/answernew.gif"
        ALT="[ Answer Guy Index ]"></A></td>
  <td><A HREF="./apache.html">apache</a>
  <td><A HREF="./current.html">current</a>
  <td><A HREF="./digi.html">digi</a>
  <td><A HREF="./ether.html">ether</a>
  <td><A HREF="./goodtimes.html">goodtimes</a>
  <td><A HREF="./intlX.html">intlX</a>
  <td><A HREF="./largedisk.html">largedisk</a>
</tr><tr valign="center" align="center">
  <td><A HREF="./maybe.html">maybe</a>
  <td><A HREF="./numlock.html">numlock</a>
  <td><A HREF="./quota.html">quota</a>
  <td><A HREF="./recovery.html">recovery</a>
  <td><A HREF="./script.html">script</a>
  <td><A HREF="./serial.html">serial</a>
  <td><A HREF="./session.html">session</a>
</tr><tr valign="center" align="center">
  <td><A HREF="./sound.html">sound</a>
  <td><A HREF="./tape.html">tape</a>
  <td><A HREF="./testsuite.html">testsuite</a>
  <td><A HREF="./w95ie.html">w95ie</a>
  <td><A HREF="./w95ras.html">w95ras</a>
  <td><A HREF="./w95virus.html">w95virus</a>
  <td><A HREF="./xdm.html">xdm</a>
</tr></table>
	</P>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"><IMG SRC="../../gx/indexnew.gif"
        ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"><IMG SRC="../../gx/homenew.gif"
        ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes34.html"><IMG SRC="../../gx/back2.gif"
        ALT="[ Previous Section ]"></A>
<A HREF="../izquierdo.html"><IMG SRC="../../gx/fwd.gif"
        ALT="[ Next Section ]"></A>
</body>
</html>
<!--endcut ========================================================= -->

