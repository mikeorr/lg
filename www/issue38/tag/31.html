<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.1I.e">
<TITLE>The Answer Guy 38: Linux as a Loghost (Syslog Server)</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H4>"The Linux Gazette...<I>making Linux just a little more fun!</I>"</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Guy</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	Starshine Technical Services,
	<A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 31 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Linux as a Loghost (Syslog Server)</H3>


<p><strong>From Ravi Shah  on Thu, 25 Feb 1999  
</strong></p>
<!-- ::
Linux as a Loghost (Syslog Server)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
Thanks a lot. It works.  Do you have any book you are writing
specifally for Linux and does include most of the questions that
you have been answering for quite a while ?  I would be very much
interested in your book if you have one out or writing one.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
As a matter of fact I am writing a book for Linux
system administrators.  My co-author is taking over
quite a bit of the load (smoothing out the sectional
organization and the transitions between core content
elements).
</BLOCKQUOTE>
<BLOCKQUOTE>
I hope to have it done RSN (&quot;real soon now&quot;(TM)).
(It should be &quot;Linux Systems Administration&quot; from
Macmillan Computer Publishing).
</BLOCKQUOTE>
<BLOCKQUOTE>
I'm glad that helped.  Incidentally, if you try to
use the -m option on some of your Linux clients ---
to force them to periodically generate "heartbeat"
or "timestamp" messages, you should be aware that this
feature was broken until fairly recently.  (It used to
work, years ago, then stopped working in later releases
and the author/maintainer assured me that it should be
working if you get the latest copy --- I don't have the
details handy --- but it shouldn't be too hard to dig up).
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Thanks again for your great help.  Ravi
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
[In response to]:
</BLOCKQUOTE>
<P><STRONG><FONT COLOR="#000099"><EM><IMG 
	SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
<BR>&gt;Dear Answerguy :
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000099"><EM>
<BR>&gt;This has been one of the best support for Linux is out there that
<BR>&gt;I know of by searching for my question about syslog.  This is one
<BR>&gt;of the better site I have seen in a long time.
</EM></FONT></STRONG></P>
<blockquote><FONT COLOR="#000066"><EM><IMG 
	SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
I hope to provide even better support through
my new employer: LinuxCare (commercial Linux support).
</EM></FONT></blockquote>
<blockquote><FONT COLOR="#000066"><EM>
However, I'll be continuing to volunteer time through
LG as well.
</EM></FONT></blockquote>
<P><STRONG><FONT COLOR="#000099"><EM><IMG 
	SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0" >
<BR>&gt;Here is my quesion and your help will be greatly appreciated !!
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000099"><EM>
<BR>&gt;I am running Redhat 5.0 distribution of Linux on Dell Pentium 166,
<BR>&gt;and it works fine with dual boot of NT.
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000099"><EM>
<BR>&gt;I would like to use this machine to be a syslog server for Cisco
<BR>&gt;routers since we are major ISP.  I have setup local7 facility to
<BR>&gt;logged the debug messages, but Linux is not logging any debug
<BR>&gt;messages from Cisco router.  I have issued service timestamp
<BR>&gt;commands from cisco router, and it does not work !!  Similar
<BR>&gt;setting works fine in Solaris, but not in Linux !! Help..  Thanks.
</EM></FONT></STRONG></P>
<Pre><STRONG><FONT COLOR="#000066"><EM><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)" HEIGHT="28" WIDTH="50" BORDER="0" >
NAME
sysklogd - Linux system logging utilities.

SYNOPSIS
syslogd [ -d ] [ -f config file ] [ -h ] [ -l hostlist ] 
        [ -m interval ] [ -n ] [ -p socket ] [ -r ] 
        [ -s  domainlist ] [ -v ]

-r     This  option  will  enable  the facility to receive
       message from the network using an  internet  domain
       socket  with  the syslog service (see services(5)).
       The default is to not receive any messages from the
       network.

       This  option  is  introduced  in version 1.3 of the
</EM></FONT></STRONG></Pre>

<blockquote><FONT COLOR="#000066"><EM>
Basically the older version of the syslog daemon
would accept syslog messages by default --- from any
machine that could get the right packets routed to
them.
</EM></FONT></blockquote>
<blockquote><FONT COLOR="#000066"><EM>
However there was a buffer overflow (bug) a few years
ago which brought attention to the fact that very few
systems need to act as remote loghosts (and that there
is no sense in leaving the rest vulnerable to remote
attacks through this service.
</EM></FONT></blockquote>
<blockquote><FONT COLOR="#000066"><EM>
So the default was changed and now (which any recent version
of syslogd (klogd) you have to add this parameter to your
start script (or inittab entry) to force it to allow
reception and logging from other systems.
</EM></FONT></blockquote>
<blockquote><FONT COLOR="#000066"><EM>
I still recommend that you put the log host behind a
set of packet filters (Cisco IOS "access control lists")
to ensure that spurious and hostile log messages can't
reach your loghost.
</EM></FONT></blockquote>
<!-- sig -->

<!-- end 31 -->
<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 1999, James T. Dennis 
<BR>Published in <I>The Linux Gazette</I> Issue 38 March 1999</H5>
<P> <hr> <P>
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<TABLE WIDTH="96%"><TR VALIGN="center" ALIGN="center">
<TD ROWSPAN="3" COLSPAN="4" WIDTH="24%"><A HREF="../lg_answer38.html"
	><IMG SRC="../../gx/dennis/answernew.gif"
              ALT="[ Answer Guy Index ]"></A></td>
  <TD WIDTH="6%"><A HREF="1.html">1</A></TD>
  <TD WIDTH="6%"><A HREF="2.html">2</A></TD>
  <TD WIDTH="6%"><A HREF="3.html">3</A></TD>
  <TD WIDTH="6%"><A HREF="4.html">4</A></TD>
  <TD WIDTH="6%"><A HREF="5.html">5</A></TD>
  <TD WIDTH="6%"><A HREF="6.html">6</A></TD>
  <TD WIDTH="6%"><A HREF="7.html">7</A></TD>
  <TD WIDTH="6%"><A HREF="8.html">8</A></TD>
  <TD WIDTH="6%"><A HREF="9.html">9</A></TD>
  <TD WIDTH="6%"><A HREF="10.html">10</A></TD>
  <TD WIDTH="6%"><A HREF="11.html">11</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="12.html">12</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="14.html">14</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="16.html">16</A></TD>
  <TD><A HREF="17.html">17</A></TD>
  <TD><A HREF="18.html">18</A></TD>
  <TD><A HREF="19.html">19</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="21.html">21</A></TD>
  <TD><A HREF="22.html">22</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="23.html">23</A></TD>
  <TD><A HREF="24.html">24</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="26.html">26</A></TD>
  <TD>&nbsp;</TD>
  <TD><A HREF="28.html">28</A></TD>
  <TD><A HREF="29.html">29</A></TD>
  <TD><A HREF="30.html">30</A></TD>
  <TD><A HREF="31.html">31</A></TD>
  <TD><A HREF="32.html">32</A></TD>
  <TD>&nbsp;</TD>
</TR></TABLE>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> <P>
<!-- begin lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"
	><IMG SRC="../../gx/indexnew.gif" ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"
	><IMG SRC="../../gx/homenew.gif" ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes38.html"
	><IMG SRC="../../gx/back2.gif" ALT="[ Previous Section ]"></A>
<A HREF="../lg_tips38.html"
	><IMG SRC="../../gx/fwd.gif" ALT="[ Next Section ]"></A>
<!-- end lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
