<!--startcut ==========================================================-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<title>Mail for the Home Network LG #45</title>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!--endcut ============================================================-->

<H4>
"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>

<P> <HR> <P> 
<!--===================================================================-->

<center>
<H1><font color="maroon">Mail for the Home Network</font></H1>
<H4>By <a href="mailto:jpollman@bigfoot.com">JC Pollman</a>
and <a href="mailto:bill.mote@bigfoot.com">Bill Mote</a></H4></center>
<P> <HR> <P>  

<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Generator" content="Microsoft Word 97">
   <meta name="GENERATOR" content="Mozilla/4.61 [en] (X11; I; Linux 2.2.10 i686) [Netscape]">
</head>
<body link="#0000FF">

<center><b><font size=+1>Mail for the Home Network</font></b></center>

<p>Mail for the home network sounds like a fairly simple project, but it
is quite ambitious: say good-bye to the wife and kids for the better part
of a week if this is new ground for you. Rest assured, the end results
are worth it.
<p><b>Disclaimer: </b>This article provides information we have gleamed
from reading the books, the HOWTOs, man pages, usenet news groups, and
countless hours banging on the keyboard. It is not meant to be an all inclusive
exhaustive study on the topic, but rather, a stepping stone from the novice
to the intermediate user.&nbsp; All the examples are taken directly from
our home networks so we know they work.
<p><b>How to use this guide:</b>
<ul>
<li>
Words encapsulated by square brackets like [Enter] indicate the depression
of a key on the keyboard or a mouse button [Mouse1]</li>

<li>
Words encapsulated by squiggly brackets like {your name here} indicate
data that will/should be substituted with "real" data</li>

<li>
Text depicted in italics are commands you, the user, should type at a prompt</li>
</ul>
<b>Prerequisites:</b> This guide assumes that you have the following things
installed:
<ul>
<li>
Bind</li>
</ul>

<ol>
<ol>
<li>
You must have a legal domain name</li>

<li>
You must be using IP Masquerade to "hide" your machine from the internet</li>

<li>
And that you can consistently connect to the internet</li>
</ol>
</ol>

<ul>
<li>
SendMail</li>

<li>
FetchMail</li>

<li>
IMAP (pop3d)</li>

<li>
ProcMail</li>
</ul>
<b>What should home mail do? </b>Before we go sprinting off into the guts
of this project, lets consider what we want this mail system to do:
<ul>
<li>
It should get our mail from the internet and serve it locally.</li>
</ul>

<ul>
<li>
It should send our mail to the internet.</li>
</ul>

<ul>
<li>
It should be a mail server for local mail (mail sent within our network).
In a trivial example, Mom should be able to email Dad and the mail never
leaves our home. More importantly, servers send messages to root, and we
want these messages collected up and sent to only one person. Example:
I have two servers and my own computer, I do not want to have to check
3 email accounts to see all the messages.</li>
</ul>
Home mail sounds like a simple concept, especially as many user email programs,
like netscape, seem to handle all the necessary functions all by themselves.
Unfortunately, there is a big difference between a user's mail "system"
and a network mail system. Your mail system will need at least five programs
to function properly:
<ul>
<li>
The program you use, as a user, to read and write your mail - xfmail, netscape,
outlook, etc. We will not be covering these programs in this article -
but they are the programs you know so well. When we are done, you will
point these programs to the mail server on your network, instead of your
ISP, to send and receive your mail.</li>
</ul>

<ul>
<li>
The program that gets our mail from our ISP, and we want it to get the
mail for all the family accounts. In this article we will be using fetchmail.</li>
</ul>

<ul>
<li>
The program that transports the mail message from one computer to another.
This program takes the mail from your mail reader, e.g. netscape, and either
sends it to the internet or keeps it on our mail server. In this article
we will be using the program sendmail. This will become our SMTP connection.</li>
</ul>

<ul>
<li>
Sendmail and fetchmail do not store the mail on the hard drive, rather,
they hand it off to another program that puts each user's mail where it
is suppose to go. In this article we will be using procmail.</li>
</ul>

<ul>
<li>
The program that servers our mail when we connect to it with our user email
program. In this article we will be using ipop3d. This will become our
pop3 server.</li>
</ul>
<b>Install the programs</b>. Before we get started, check to see that you
have all the necessary programs installed.&nbsp; Easiest way to check is
to issue the whereis command:
<blockquote><i>whereis sendmail [Enter]</i></blockquote>
For those of you using RedHat, you can type:
<blockquote><i>rpm -qa|grep sendmail [Enter]</i></blockquote>
to see if any sendmail package is installed. Other distributions have a
similar way of checking if a package is installed. Make sure you installed
the sendmail-cf package as well.
<p><b>procmail:</b> Whatever version came with your distribution is fine.
<br><b>ipop3d: </b>Whatever version came with your distribution is fine.
Note: most distributions put ipop3d in the imap package.
<br><b>fetchmail:</b> Fetchmail is a moving target and new versions come
out frequently. We would suggest using version 5.0 or higher, though whatever
came with your distribution is probably fine.
<br><b>sendmail</b>: Most distributions come with three sendmail packages:
sendmail, sendmail-cf, and sendmail-doc. Install all three. We will be
using sendmail version 8.9.3 in this article. If you are running anything
less than version 8.9.2 we very strongly recommend you upgrade, both because
of security reasons, and because most of the information presented here
will not be useable with older versions.
<br><b>m4: </b>Whatever version came with your distribution should be fine.
<p><b>Let's get started!</b> Do 10 sets of finger exercises, replace Zeppelin
with a Mozart CD, and click on the links below. Note: follow them IN ORDER,
as some programs rely on others!
<p><a href="dns_mail.html">Setting up dns for mail</a>
<br><a href="procmail.html">Setting up procmail</a>
<br><a href="sendmail.html">Setting up sendmail</a>
<br><a href="pop3.html">Setting up pop3</a>
<br><a href="fetchmail.html">Setting up fetchmail</a>
<br><a href="final_thoughts.html">Some Final Thoughs</a>


<!--===================================================================-->
<P> <hr> <P> 
<center><H5>Copyright &copy; 1999, JC Pollman and Bill Mote <BR> 
Published in Issue 45 of <i>Linux Gazette</i>, September 1999</H5></center>

<!--===================================================================-->
<!--startcut ==========================================================-->
<P> <hr> <P> 
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../../gx/indexnew.gif" 
ALT="[ TABLE OF CONTENTS ]"></A>
<A HREF="../../index.html"><IMG ALIGN=BOTTOM SRC="../../gx/homenew.gif"
ALT="[ FRONT PAGE ]"></A>
<A HREF="../orr.html"><IMG SRC="../../gx/back2.gif"
ALT=" Back "></A>
<A HREF="../stumpel.html"><IMG SRC="../../gx/fwd.gif" ALT=" Next "></A>
<P> <hr> <P> 
</BODY>
</HTML>
<!--endcut ============================================================-->
