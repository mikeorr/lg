<!--startcut ==========================================================-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<title>Linux Installation Primer, Part 5 LG #36</title>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<META NAME="Template" CONTENT="C:\Program Files\Microsoft Office\Office\html.dot">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#A000A0"
ALINK="#FF0000">
<!--endcut ============================================================-->

<H4>
"Linux Gazette...<I>making Linux just a little more fun!</I>"
</H4>

<P> <HR> <P> 
<!--===================================================================-->

<center>
<H1><font color="maroon">Linux Installation Primer, Part 5</font></H1>
<H4>By <a href="mailto:">Ron Jenkins</a></H4>
</center>
<P> <HR> <P>  


<P>Copyright <FONT FACE="Symbol" SIZE=2>&Oacute;</FONT><FONT FACE="Courier
New" SIZE=2> 1998 by Ron Jenkins. This work is provided on an "as is"
basis. The author provides no warranty whatsoever, either express or
implied, regarding the work, including warranties with respect to its
merchantability or fitness for any particular purpose. <BR> 
The author welcomes corrections and suggestions. He can be reached by electronic mail at </FONT><A HREF="mailto:rjenkins@qni.com"><FONT FACE="Courier New" SIZE=2>rjenkins@qni.com</FONT></A><FONT FACE="Courier New" SIZE=2>, or at his personal homepage: </FONT><A HREF="http://www.qni.com/~rjenkins/"><FONT FACE="Courier New" SIZE=2>http://www.qni.com/~rjenkins/</FONT></A><FONT FACE="Courier New" SIZE=2>.
<P>Corrections, as well as updated versions of all of the author's works may be found at the URL listed above.
<P>NOTE: As you can see, I am moving to a new ISP. Please bear with me as I get everything in working order. The e-mail address is functional; the web site will be operational hopefully around mid December or early January.
<P>SPECIAL NOTE: Due to the quantity of correspondence I receive, if you are submitting a question or request for problem resolution, please see my homepage listed above for suggestions on information to provide.
<P>I only test my columns on the operating systems specified. I don't have access to a MAC, I don't use Windows 95, and have no plans to use Windows 98. If someone would care to provide equivalent instructions for any of the above operating systems, I will be happy to include them in my documents.
<P><B>ADDENDUM TO LAST MONTH'S COLUMN</B>:</P>
<P>I neglected to mention that you should consider purchasing some cable ties, coaxial clips, or other devices to dress your cabling properly.</P>
<P>These should be available at your local computer store, or a large selection can be found on page # 163 of the Radio Shack 1999 Catalog. (Space limitations preclude listing them all.) </P>
<P>This will allow you to bundle the cable or cables neatly together, attach them firmly to the baseboard or whatever area in which you are installing them, and make troubleshooting and maintenance of cabling problems much easier.</P>
<P>Finally, consider marking each end of your cables in some way so you know which ends go together. There are a variety of ways to do this, including simply writing on the cable itself with a sharpie or white pen, noting the location or machine it is intended for, or my favorite, using color coded tape wrapped at each end.</P>
<P>Also, each connection on a 10BASE2 coaxial bus network will require a
BNC "tee" connector. This should be included with your network card. If not
go to Radio Shack and get some (PN# 278-112.) They are cheaper than buying
them at a computer store. Finally, don't forget the termination devices. You will need two. These are available either at your local computer store, or at Radio Shack (PN# 278-270.)</P>
<P><B>Part Five: Deploying a home network</B>
<P>This month we will utilize the home networking plan we prepared last month, and bring it to fruition.</P>
<P>This is going to involve several steps, and I will present them in the order I recommend, but ultimately it will be up to you to choose your deployment method.</P>
<P>Additionally, I will offer step by step instructions on the configuration of the networking components and protocols. This will give you the basic functionality upon which you will add to as this series continues.</P>
<P>The goal of this installment will be to get the networking hardware and software installed, provide basic connectivity, and simple name resolution and file sharing services.</P>
<P>The more advanced services, such as sendmail, DNS, routing, ftp, web, print services, and gateway service will be covered in the next installment.</P>
<P>As with each installment of this series, there will be some operations required by each distribution that may or may not be different in another. I will diverge from the generalized information when necessary, as always.</P>
<P>In this installment, I will cover the following topics:</P>

<UL>
<LI>Pre-installation planning. </LI>
<LI>Preparing the cabling. </LI>
<LI>Preparing the file server. </LI>
<LI>Preparing the workstations. </LI>
<LI>Installing the cabling. </LI>
<LI>Installing the hardware. </LI>
<LI>Installing the software. </LI>
<LI>Configuration of the file server. </LI>
<LI>Configuration of the work stations. </LI>
<LI>Testing the installation. </LI>
<LI>Troubleshooting the installation. </LI>
<LI>References. </LI>
<LI>Resources for further information. </LI>
<LI>Preview of next month’s installment. </LI>
<LI>About the Author.</LI></UL>

<B><P>Assumptions that apply to the following installation instructions:</P>
</B><P>To keep this installment to a manageable size, as well maintaining an acceptable level of simplicity, the following things will be assumed.</P>
<P>We will be installing a three node network, consisting of a file server, one Windows NT client, and one Linux client. Physically, all three machines are on a single table. The Linux client is at the extreme left, the Linux fileserver is in the center, and the NT client is at the extreme right.</P>
<P>In the 10BASE2 (coaxial or bus configuration,) the cabling will be run along the rear edge of the table and fastened by clips available for this purpose either from a computer store or at Radio Shack as previously mentioned.</P>
<P>In the 10BASET or star configuration, the hub will be placed alongside the file server, and the cabling will emanate from the hub to the various machines, The three cables will be bundled together with cable ties, forming one larger diameter group of cables that can be treated as a single cable. This will be attached to the back of the table using clips as described above.</P>
<P>The NIC’s I will use are NE2000 ISA bus combo cards, with both a BNC and a RJ-45 interface. The cards will be Plug and Play cards which require you to use a utility diskette under DOS, provided with the card, to configure it. This utility diskette also contains the NT drivers for the card.</P>
<P>I use FREE DOS, available at </FONT><A HREF="http://sunsite.unc.edu/"><FONT FACE="Courier New" SIZE=2>http://sunsite.unc.edu</FONT></A><FONT FACE="Courier New" SIZE=2> to create the DOS boot disk. You may or may not have to create your own DOS boot disk, depending on what kind of NIC you have.</P>
<P>Two of our NE2000 NICs will be set to the following:</P>
<P>IO = 0x320 (320), IRQ = 10</P>
<P>The third one will be configured by NT.</P>
<P>These are by far the most common cards people usually start out with. If you are using something different, the instructions should be similar. Just make sure you can turn off the Plug and Play feature (bug?) for the Linux machines, if necessary. This usually only applies to ISA NICs, as kernels =&gt; 2.0.34 usually do a pretty good job of snagging PCI NICs.</P>
<P>This should provide the information required for most any size network, the steps will just need to be duplicated for the extra clients and/or servers.</P>
<P>I will use the terms UNIX and Linux somewhat interchangeably, except where I am explicitly referring to something unique to a particular flavor of UNIX, in which case I will note the difference.</P>
<P>If you will be integrating Novell or MAC clients, you're on your own. I
have not touched Novell since 3.1, and I don't have access to a MAC machine. The AppleTalk and IPX HOW-TOs may be of some assistance to you.</P>
<P>Further, it will be assumed you are using "reserved" IP addresses for your home network. We will use the Class C reserved network 192.168.1.0. The netmask for our network, thus will be 255.255.255.0. We will give the file server the IP 192.168.1.2, and the hostname fileserver01. The Linux client's IP will be 192.168.1.3, with the hostname linux01. Finally, the NT client's IP will be 192.168.1.4, with a hostname of nt01. I am keeping the 192.168.1.1 address and the hostname gateway01 for the gateway machine we will build next month.</P>
<P>The domain name of this network will be </FONT><A HREF="http://home.net/"><FONT FACE="Courier New" SIZE=2>home.net</FONT></A><FONT FACE="Courier New" SIZE=2>.</P>
<P>The NT domain (not to be confused with the actual domain) name will be HOME.</P>
<P>The NT client will access the file services using SAMBA, and the Linux client will access file services using the native Network File System (NFS.)</P>
<P>Name resolution will be accomplished using common hosts and resolv.conf files, and a little trick for the NT box.</P>
<P>When finished you should be able to ping all machines both by IP address, and hostname.</P>
<P>Additionally, you should be able to access the disk storage on the file server from either client, with both read and write access.</P>
<B><P>Pre-installation planning:</P>
</B><P>Review of the network plan: Look over the network plan ONE LAST TIME. Make sure you have acquired all the necessary hardware, software, and cabling, as well as a hub or termination devices, if required.</P>
<P>Preparing the common files: Since we will not be using DNS for name resolution at this point, we will rely on primarily three files for the UNIX machines, and one file for the NT box.</P>
<P>Unique to the UNIX machines will be:</P>
<P>/etc/hosts.conf</P>
<P>/etc/resolv.conf</P>
<P>These two files will be propagated throughout the Linux portion of the network, along with the hosts file described below.</P>
<P>The first file, hosts.conf, simply tells the Linux box what means to use to resolve IP addresses to hostnames, and the order in which it should use them. </P>
<P>There are basically two methods utilized for name resolution. The hosts file (see below for more information,) which we will use in this installation, and a DNS server, usually another UNIX box running a program called the Berkeley Internet Name Daemon (BIND.)</P>
<P>First, cd to etc/, then open the hosts.conf file, or create it if necessary, and edit it to contain the line:</P>
<P>order hosts,bind</P>
<P>Then close the file. This simply tells the Linux box to first check it’s hosts file to find another machine on the network before trying anything else.</P>
<P>Next, open the resolv.conf file, or create it if necessary, and edit it to contain the lines:</P>
<P>domain </FONT><A HREF="http://home.net/"><FONT FACE="Courier New" SIZE=2>home.net</FONT></A></P>
<FONT FACE="Courier New" SIZE=2><P>search </FONT><A HREF="http://home.net/"><FONT FACE="Courier New" SIZE=2>home.net</FONT></A></P>
<FONT FACE="Courier New" SIZE=2><P>After you are finished, close the file. This tells the Linux box it's domain name, and to search this domain first before implementing any external name resolution.</P>
<P>The purpose of this is to keep your local network name resolution on the local network. This will become important later when we hook these machines up to the Internet through a gateway machine.</P>
<P>Common to both the NT and UNIX machines will be:</P>
<P>A hosts file, which is simply a listing of all the machines on a local area network, which translates IP addresses to hostnames.</P>
<P>Open the hosts file with your favorite editor, again creating it if necessary, and create entries for the loopback adapter, also known as the localhost, and each machine on your network. This file will be copied to each machine, thus allowing both the UNIX boxes and the NT machine to find each other by hostname.</P>
<P>Entries in the hosts file are created using the following syntax:</P>
<P>IP address&#9;Fully Qualified Domain Name (FQDN)&#9;hostname</P>
<P>For example, for the machine bear.foobar.net, with an IP of 206.113.102.193, the proper entry would be:</P>
<P>206.113.102.193&#9;bear.foobar.net&#9;bear</P>
<P>A SHORT NOTE ON THE LOOPBACK ADAPTER: this interface, also known as the localhost, MUST be the first entry in any hosts file.</P>
<P>So, to create the hosts file we will be using across our entire network, edit it to contain the following lines:</P>
<P>127.0.0.1&#9;&#9;localhost</P>
<P>192.168.1.1&#9;&#9;gateway01.home.net&#9;gateway01</P>
<P>192.168.1.2&#9;&#9;fileserver01.home.net&#9;fileserver01</P>
<P>192.168.1.3&#9;&#9;linux01.home.net&#9;&#9;linux01</P>
<P>192.168.1.4&#9;&#9;nt01.home.net&#9;&#9;nt01</P>
<P>On the UNIX machines, this file also lives in the /etc directory, while on the NT machine it will live in /winnt/system32/drivers/etc directory.</P>
<P>Now that we have prepared our common files, we can move to actual deployment preparations.</P>
<P>Logistics and downtime: While this is not as great a concern on a home network as it is on a commercial LAN, it is still important to consider the impact the network installation will have on your machines, as well as what if any interruption of productivity might occur.</P>
<P>You have two major, and one minor option in this regard:</P>

<UL>
<LI>The blitz method: This method entails setting aside a period of time when all machines may be downed, cabling, hardware and software installed and configured all in one contiguous session. Best for very small networks, and non commercial networks. </LI></UL>


<UL>
<LI>The phased method: This method involves a more conservative, cautious approach. Individual machines or sections of the network are downed one at a time, configured, tested, and brought back up before moving to the next section. This minimizes the interruption of productivity, and loss of computer services. Best for larger networks or most any commercial network. </LI>
<LI>A combination of the two: In any installation other than an extremely small network such as our example here, some combination of the two methods is usually the most practical approach. For instance, you may choose to blitz all the server machines, so that file services and other services will be immediately available to the client machines. After the blitz of the servers, you may then choose to slowly integrate the client machines by department, by priority of use, or most commonly, the suits first, then everyone else. As an aside, if you are deploying a network in a commercial environment, never underestimate the effect of office politics in your planning. While the executives may not technically need to be on the network as soon as your programmers or designers, remember to keep the man with the checkbook happy, and you will find your next upgrade much easier to justify.</LI></UL>

<B><P>Preparing the cabling:</P>
</B><P>10BASE2: Double check that you have sufficient coaxial cable, in the proper lengths, to interconnect all the machines on your bus. Remember, the cable strings from machine to machine, so I recommend physically laying out the cable between each machine to make sure you have enough, and the proper lengths. Finally, be sure you have the proper clips and ties to dress the cables neatly.</P>
<P>10BASET: Depending on whether you bought the cables already made up, or made them yourself, the same general rules stated above will also apply here. Placement and layout of the cabling will be largely determined by your placement of the hub. Try to place the hub in such a way as to assure the shortest average length from the hub to each machine. As mentioned above, make sure you have sufficient materials to neatly run, anchor, and wrap your cabling.</P>
<B><P>Preparing the file server:</P>
</B><P>Memory issues: A good rule of thumb for any computer, and especially servers, is the more RAM the better. Since this is a home network, this is not as big an issue, but still important.</P>
<P>Disk storage issues: If you can afford it, get SCSI drives. They work better and last longer. If you are on a budget, EIDE or UDMA drives will do in a pinch, but be aware they will not stand up as well under heavy, constant use.</P>
<P>Backup device issues: I use a SCSI DAT drive, and have always had good results with it. Whatever you choose, MAKE SURE IT IS SUPPORTED BY Linux BEFORE YOU BUY IT! <B><I>And backup up anything on any of the machines you will be working on that you cannot afford to lose!</P>
</B></I><P>Power interruption and loss of data: You should consider at
least protecting your fileserver with an Uninterruptable Power Supply
(UPS.) I can recommend APC and Tripp-Lite products here. Why? Because they
put they're money where they're mouth is on the warranty provided. Try to
get one with two protected outlets, and jacks for your phone line. This
will come in handy later when we do the gateway. Surges don't just come over the power lines. Ideally all your machines should have one, but try to make sure you get one for the file server.</P>
<B><P>Preparing the client workstations:</P>
</B><P>Linux box: not really much to do here, as most everything you need should already be installed. All your networking software should already be there. The only possible exception to this is if you have a RedHat machine, and you chose dialup workstation during installation. In this case, you may or may not have to install additional packages. Check your documentation.</P>
<P>NT box: Here you will need to have your CD-ROM handy, as the networking software is probably not on your machine unless you explicitly requested it during the installation process. The software I am talking about here is separate and distinct from what is required for Dial Up Networking (DUN.)</P>
<P>Surge protectors:  If you cannot afford a UPS for each machine, at least put a quality surge protector on the two clients. Avoid the temptation to buy a bargain one. APC and Tripp-Lite are ones I can recommend for the same reasons as stated above. If either of these machines has any peripherals connected to it such printers, modems, scanners, etc. make sure these are protected as well.</P>
<B><P>Installing the cabling:</P>
</B><P>10BASE2: This is a fairly straightforward process. Simply lay the cable along the back on the table (or whatever your machines are on,) where you plan to install them. Do not anchor the cables at this time.</P>
<P>10BASET: Once you have determined where your hub will be located, lay out the cable from the hub to each machine. Do not bundle or anchor the cables at this time.</P>
<B><P>Installing the hardware:</P>
</B><P>Network Interface Cards: This is fairly straightforward. Power off your machine. Remove the case cover and find an empty expansion slot appropriate for your type of card. Make sure it is firmly seated, and that you replace the screw that holds it in place.</P>
<P>If the card is an ISA card, and is going into one of the Linux boxes, be sure to disable the Plug and Play feature and make note of the IO address and IRQ the card is using. There is usually some of setup program to help you with this. Write these values down as you will need them later.</P>
<P>A QUICK NOTE ON IO ADDRESSES AND IRQ's: Some cards may require you to manually set the IO and IRQ values using jumpers on the card. Use care here. If you choose an IO address or IRQ already in use by another device, all sorts of nasty things can happen. Here are some good ones to try that generally work:</P>
<P>IO Address:</P>
<P>0x300 (300)</P>
<P>0x310 (310)</P>
<P>0x320 (320)</P>
<P>IRQ:</P>
<P>10, 11, or 12. </P>
<P>If the card is a PCI card, have a go at auto detection first, then failing that, use the DOS setup program if required. Here at most, you may have to specify the IO address, which usually looks something similar 0x6xxx.</P>
<P>In any case, once the card is set, be sure to write the pertinent information down. You will need it later on the Linux boxes, and you may or may not need it on the NT box.</P>
<P>10BASE2:</P>

<UL>
<LI>Connectors and termination: Connect the tee to the NIC. On the Linux client and the NT client, place a termination device one side of the tee. Then using the cables you laid out earlier, connect the machines together.</LI></UL>

<P>10BASET:</P>

<UL>
<LI>Installing the hub: This should consist of nothing more than setting it down on the table and plugging it in. In other situations, you may or may not find it advantageous to mount it on the wall, or even under the table. </LI>
<LI>Connecting to the hub: Using the cables you laid out before, connect one end of each cable to the appropriate NIC. Now you may bundle, but not anchor the cabling, starting at the each client on either end, and working toward the fileserver in the middle. </LI></UL>

<B><P>Installing the software:</P>
</B><P>Required software:</P>
<P>Common:</P>
<P>The /etc/hosts file: as specified above.</P>
<P>The /etc/hosts.conf file: as specified above.</P>
<P>The /etc/resolv.conf file: as specified above.</P>
<P>Specific to the file server:</P>
<P>If necessary, copy the above common files to the appropriate directories.</P>
<P>SAMBA: This may or may not already be present on your system. If not, use pkgtool on a Slackware box to install it, and glint or the command RPM:ivh &lt;name of samba.rpm&gt; to install it on a RedHat box. Once you have verified it is installed, configure it as follows:</P>
<UL>
<LI>In the /etc directory, there should be an smb.conf-sample file. You may copy this to a new file called smb.conf, or create your own from scratch. I recommend using the sample one at first. </LI>
<LI>Edit the line workgroup = WORKGROUP and change it to workgroup = </FONT><A HREF="http://home.net/"><FONT FACE="Courier New" SIZE=2>home.net</FONT></A> </LI>
<FONT FACE="Courier New" SIZE=2><LI>Next, look for a line similar to the following: hosts allow = xxx.xxx.x. Where xxx.xxx.x. represent the first three octets of your network address, 192.168.1. in the example. Additionally, be sure to allow the loopback interface. So the correct entry would be :&nbsp;hosts allow = 192.168.1. 127.&nbsp;</LI>
<LI>Finally, look for the line: remote announce = xxx.xx.x.xxx and change it to 192.168.1.255 for our example network.</LI></UL>

<P>NFS services: This should already be installed on your Linux boxes.</P>
<P>A possible exception is RedHat, again if the NFS server and client options were not selected during installation. If necessary, install them. Once you have verified the software is installed on your system, configure as follows:</P>
<P>The /etc/exports file: This is fairly simple. There is much more to NFS than what I will present here, but briefly, and entry in the exports file uses the following syntax:</P>
<P>/name/of/directory/to/export&#9;(type of access) who.can.access</P>
<P>So as an example, to export the home directory with read and write permissions, to anyone in the </FONT><A HREF="http://home.net/"><FONT FACE="Courier New" SIZE=2>home.net</FONT></A><FONT FACE="Courier New" SIZE=2>, the correct entry would be:</P>
<P>/home&#9;&#9;(rw,no_root_squash)&#9;*.home.net</P>
<P>Specific to the NT client: Copy the hosts file ONLY to the specified location. Insert your NT CD-ROM and choose start/settings/controlpanel/network. Depending on whether you have been using this machine for DUN, you may or may not have some of the software already installed. If not just follow the prompts, with the following objectives:</P>
<P>Install ONLY the TCP/IP protocol.</P>
<P>When the time comes to install your Network Adapter (NIC), you can try to let it auto-detect first, then failing that, choose Have Disk and use the diskette supplied with your NIC.</P>
<P>You can safely accept the defaults at this point. If prompted for information such as hostname, IP address, or netmask, refer to the stated configuration above.</P>
<P>You may be prompted to reboot several times. Do so.</P>
<P>Specific to the Linux client: Copy the common files to the appropriate directories.</P>
<P>The only exception would be if you desired to make directories on the Linux client available to the NT client. If this is the case, simply repeat the SAMBA instructions for the file server above on the Linux client as well.</P>
<B><P>Configuration of the file server:</P>
</B><P>Basic Networking – the first step on the UNIX boxes is to get the NIC recognized. On a Slackware machine, this is done by editing /etc/rc.d/rc.modules and uncommenting the line that will load the kernel module necessary for your particular NIC, and possibly passing the IO address and/or the IRQ to help Linux find the card. Scroll down to the Network Device Support section, and look for the line:</P>
<P>#/sbin/modprobe/ ne io=0x320 #NE2000 at 0x320</P>
<P>Uncomment the line by deleting the pound sign. Depending on what release of Slackware you are using, you may or may not have to specify the IRQ as well. This should not be necessary if you are using release 3.5 or higher.</P>
<P>Next, you will want to configure your networking software. Use the netconfig utility for this. Follow the prompts, with the following in mind:</P>
<P>When asked if you will be using only loopback, answer no.</P>
<P>Leave the default gateway blank.</P>
<P>Leave the nameserver stuff blank.</P>
<P>In RedHat, you can use the linuxconf utility in either text mode or under X. I have had a few bad experiences with the X version, so I recommend using the text mode version.</P>
<P>At the command prompt, type linuxconf &lt;RETURN&gt;</P>
<P>You will be presented with a dialog box.</P>
<P>Choose Config/Networking/Client tasks/Basic host information.</P>
<P>First, set your hostname to fileserver01.home.net, then tab to quit to return to the previous screen. Choose Adaptor 1, use the spacebar to select the following parameters:</P>

<UL>
<LI>Enabled </LI></UL>


<UL>
<LI>Config mode Manual</LI></UL>

<P>Next enter the proper hostname, domain, IP, netmask, device number, kernel module, IO, and IRQ for machine. In our case, the proper data is:</P>
<P>fileserver01.home.net</P>
<P>fileserver01</P>
<P>192.168.1.2</P>
<P>255.255.255.0</P>
<P>eth0</P>
<P>ne</P>
<P>0x320</P>
<P>10</P>
<P>If at any point, you are prompted for a default gateway, leave it blank for now.</P>
<P>After you have entered this information, choose quit, accept, quit, quit, quit, until you are asked to activate your changes.</P>
<P>If you want, you can use linuxconf to add your user accounts now, or do it manually later.</P>
<P>Reboot.</P>
<B><P>Configuration of the workstations:</P>
</B><P>Configuration of the NT client – Choose start/settings/controlpanel/network.</P>
<P>Select the Identification tab. Make sure your Workgroup is set to HOME.</P>
<P>Select the Protocols tab. Highlight TCP/IP. Click on Properties.</P>
<P>Select the IP Address tab, and make sure Specify an IP address is selected, and that the IP and netmask are correct. Additionally, make sure the Default Gateway is blank.</P>
<P>Select the DNS tab. Enter your hostname (nt01) and domain (</FONT><A HREF="http://home.net/"><FONT FACE="Courier New" SIZE=2>home.net</FONT></A><FONT FACE="Courier New" SIZE=2>) in the appropriate boxes.</P>
<P>Select the WINS Address tab. Make sure the WINS server boxes are blank, and uncheck the Enable DNS for Windows Resolution and Enable LMHOSTS Lookup boxes if necessary.</P>
<P>Select OK. When prompted that one of the adapters has an empty WINS something or other, select yes to continue. Select close. You will be prompted to reboot.</P>
<P>Configuration of the Linux client – The network configuration will be the same as the fileserver instructions.</P>
<B><P>Testing the installation:</P>
</B><P>If any of these testing procedures fail, go to the troubleshooting section for suggestions on how to correct the problem.</P>
<P>Testing for physical connectivity – To test physical connectivity, ping one of the other hosts on the network. You should see some return information and statistics. Depress Ctrl+C to exit.</P>
<P>Testing the loopback adapter – To test the loopback adapter, simply ping 127.0.0.1.</P>
<P>Testing the NIC – To test the NIC, simply ping the IP address of the NIC.</P>
<P>Using ifconfig and ipconfig -</P>
<P>In Linux and NT, there are utilities provided to assist you in assessing the condition of your networking setup and hardware. They are called ifconfig and ipconfig, respectively.</P>
<P>On a Linux box, at the command prompt: ifconfig &lt;RETURN&gt; should yield two entries – one for the Loopback Adapter called lo, and one for your NIC, called eth0.</P>
<P>On an NT box the command ipconfig should yield one entry, describing your Ethernet adapter.</P>
<P>Testing name resolution – To test name resolution simply ping by hostname, such as fileserver01, nt01, linux01, etc.</P>
<P>Testing file services –</P>

<UL>
<LI>Linux NFS – To test the NFS services, CD to /mnt, and create a directory called test. Then try to mount the remote directory to it. For instance, in our example above, we are exporting /home on the fileserver machine, so let’s mount it under test: mount –t nfs fileserver01:/home /mnt/test &lt;RETURN&gt;. If all went well, you should now be able to access the remote directory from the Linux client. </LI>
<LI>NT SAMBA – double-click on Network Neighborhood. Under Home, you should see both your NT client and the Linux machine, fileserver01. Double click on the entry for fileserver01. If your user account has been created on the Linux box, you should be able to enter your username and password when prompted, and be taken directly to your home directory on the Linux box.</LI></UL>

<B><P>Troubleshooting the installation:</P>
</B><P>Troubleshooting physical connectivity problems –</P>

<UL>
<LI>ping 127.0.0.1. If this fails, you have an improper networking configuration. Go back and recheck all your settings and required files. If this works, try to ping the IP address of the NIC installed in the machine. If this does not work, make sure the card is being recognized by Linux. If the NIC has more than one interface e.g. RJ-45 (10BASET) and a BNC (10BASE2,) make sure you have the correct one activated. If all goes well up until this point, try to ping another machine on the network by IP address. If this fails, see the next section on cable integrity.</LI></UL>

<P>Cable integrity –</P>

<UL>
<LI>If you cannot ping any other machine on the network, and you have tried all of the above, here are some tips for isolating cabling problems. </LI>
<LI>10BASE2 – move the termination of the bus to the next machine in line. Try to ping it. If this fails, try another cable. Repeat the ping test. If it still fails, suspect a termination problem. See below. </LI>
<LI>10BASET – check that the RJ-45 connector is firmly seated in the NIC and the hub. If the cable is good, there should be an LED lit up above the port on the hub into which the cable is inserted. If the LED is not lit, try another cable.</LI></UL>

<P>Termination integrity –</P>

<UL>
<LI>This only applies to 10BASE2 or bus networks. Terminators are usually a
pass or fail type of deal. Either they work or they don't. First try another cable, and check to see if you are getting link lights on the NIC. Finally, double check combo cards to make sure the BNC interface is active.</LI></UL>

<P>Troubleshooting name resolution problems:</P>

<UL>
<LI>First, try to ping by IP address. If this fails, check cabling, termination, and NIC recognition at boot time. On the UNIX boxes, ifconfig &lt;RETURN&gt; should show the loopback interface and eth0. If the NIC is not recognized, make sure Plug and Play is turned off, and you have passed the correct IO and IRQ parameters to the kernel. On an NT box, ipconfig &lt;RETURN&gt; should yield similar results. If not, check your network configuration. /start/programs/administrative tools/nt diagnostics may be of some help here. </LI>
<LI>If the ping by IP is successful, try to ping by hostname. If this fails, check your hosts file and make sure it matches the one above. If this is a UNIX box, check your hosts.conf and resolv.conf files and make sure they match the examples. If this is a NT box, make sure you placed the hosts file in the proper directory as specified above.</LI></UL>

<P>Troubleshooting NFS problems –</P>

<UL>
<LI>If you cannot mount a remote drive, check the /etc/exports file on the machine that physically contains the directory you are trying to mount. Make sure the desired directory is being exported correctly. </LI>
<LI>If you can mount the remote directory, but can read and/or write, go back to the exports file and check the permissions.</LI></UL>

<P>Troubleshooting SAMBA problems –</P>

<UL>
<LI>If the Linux box does not show up in the Network Neighborhood, make sure that both the NT box and the /etc/smb.conf files are using the HOME workgroup. </LI>
<LI>If the Linux box shows up, but you cannot access the shares, see if you are running Service Pack 3. If so, read the SAMBA docs for the required registry change that will need to be made to the NT machine. </LI>
<LI>Finally, make sure the username/password combination you are trying to use exists on the UNIX box as well as the NT box.</LI></UL>

<B><P>References:</P>
</B><P>Previous columns:</P>
<P>Linux Installation Primer parts three and four</P>
<P>Other:</P>
<P>Ethernet HOW-TO</P>
<P>Net-3 HOW-TO</P>
<P>Network Administrator’s Guide</P>
<P>Mastering Windows NT Server 4 (3<SUP>rd</SUP> Edition)</P>
<B><P>Resources for further information:</P>
</B><P>The Linux Documentation Project</P>
</FONT><P><A HREF="http://www.patoche.org/LTT/"><FONT FACE="Courier New" SIZE=2>http://www.patoche.org/LTT/</FONT></A></P>
<P><A HREF="http://www.ugu.com/"><FONT FACE="Courier New" SIZE=2>http://www.ugu.com/</FONT></A></P>
<P><A HREF="http://www.stokely.com/unix.sysadm.resources/index.html"><FONT FACE="Courier New" SIZE=2>http://www.stokely.com/unix.sysadm.resources/</FONT></A></P>
<FONT FACE="Courier New" SIZE=2><P>alt.unix.wizards</P>
<P>comp.security.unix</P>
<P>comp.unix.admin</P>
<P>alt.os.linux.slackware</P>
<P>comp.os.linux.networking</P>
<P>comp.os.linux.hardware</P>
<P>linux.redhat.misc</P>
<B><P>Coming in Part Six: the long awaited Internet Gateway!</P>
</B></Font>
<P> <HR> <P> 
<center><H4>Previous ``Linux Installation Primer'' Columns</H4></center>
<p>
<A HREF="../issue32/jenkins1.html">Linux Installation Primer #1, September
1998</A><BR>
<A HREF="../issue33/jenkins2.html">Linux Installation Primer #2, October
1998</A><BR> 
<A HREF="../issue34/jenkins3.html">Linux Installation Primer #3, November
1998</A><BR> 
<A HREF="../issue35/jenkins4.html">Linux Installation Primer #4, December
1998</A><BR> 


<!--===================================================================-->
<P> <hr> <P> 
<center><H5>Copyright &copy; 1999, Ron Jenkins <BR> 
Published in Issue 36 of <i>Linux Gazette</i>, January 1999</H5></center>

<!--===================================================================-->
<P> <hr> <P> 
<A HREF="./index.html"><IMG ALIGN=BOTTOM SRC="../gx/indexnew.gif" 
ALT="[ TABLE OF CONTENTS ]"></A>
<A HREF="../index.html"><IMG ALIGN=BOTTOM SRC="../gx/homenew.gif"
ALT="[ FRONT PAGE ]"></A>
<A HREF="./blair.html"><IMG SRC="../gx/back2.gif"
ALT=" Back "></A>
<A HREF="./haldar.html"><IMG SRC="../gx/fwd.gif" ALT=" Next "></A>
<P> <hr> <P> 
<!--startcut ==========================================================-->
</BODY>
</HTML>
<!--endcut ============================================================-->
