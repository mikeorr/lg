<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.1F.i">
<TITLE>The Answer Guy 35: Suggestions for Linux Users with Ultra Large Disks</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H4>"The Linux Gazette...<I>making Linux just a little more fun!</I>"</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" border="0" align="middle">
	<font color="#B03060">The Answer Guy</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	Starshine Technical Services,
	<A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H4>
</center>

<p><hr><p>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" height="50" width="60"
	  alt="(?) " border="0">Suggestions for Linux Users with Ultra Large Disks</H3>


<p><strong>From John Newbigin  on Fri, 06 Nov 1998  
</strong></p>
<!-- begin 2 -->
<P><STRONG>
In response to your note about Suggestions for Linux Users with Ultra
Large Disk, here is my suggestion
</STRONG></P>
<P><STRONG>
Create a small partition at the start of the disk, say 10 meg should be
plenty, you could get away with ~2 if you are stingy.  Use this
partition to store the kernel/kernels used to boot linux.  You can then
create a root partition as large as you like, set lilo up to use the
kernel from the first partition and away you go.  You would only need to
mount the partition if you are going to add a new kernel or run lilo.
You could even put kernel modules on the partition if you wanted.
</STRONG></P>
<P><STRONG>
(I have not tried this myself, but I see no reason why it should pose a
problem)
</STRONG></P>
<P><STRONG>
As for the 8gig limit, I have an 8.4 gig HD, and linux 2.0.34+ don't
have a problem.  They do some kind of translation on boot, but it works
without any problems.
</STRONG></P>
<P><STRONG>
John.
<em>UNIX is user friendly. It's just selective about who its friends are.</em>
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" alt="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
It's an excellent suggestion. I've heard variations of
it many times --- but many of them haven't explained it as
clearly as this.
</BLOCKQUOTE>
<BLOCKQUOTE>
Let's say make I create this filesystem (/dev/hda1) and then a
root filesystem (/dev/hda3 --- we'll say that hda2 is swap).
I should create a mount point (let's call that <TT>/mnt/kernelfs)</TT>
which is where I mount <TT>/dev/hda1</TT> when I need to update a
kernel and/or run <TT>/sbin/lilo</TT> for any reason.  The rest of
the time <TT>/dev/hda1</TT> doesn't have t be mounted.  In fact we
don't need to reserve a special mount point (/mnt/kernelfs)
for it at all --- that's just a bit of syntactic sugar that
"self documents" what we're doing in the <TT>/etc/lilo.conf</TT> and
other configuration files and scripts.
</BLOCKQUOTE>
<BLOCKQUOTE>
I've tried many times to explain that LILO doesn't care
about filesystems.  <TT>/sbin/lilo</TT> needs to see files in order
to interpret the configuration directives and put the LILO
boot blocks and maps in the correct places.  One of these
days it will sink into the consiousness of a critical mass
of Linux users.  (Then someone will patch the ext2fs
superblock to automatically bootstrap kernels by name and
90%+ of the Linux users won't care about LILO).
</BLOCKQUOTE>
<BLOCKQUOTE>
In any event, I've also suggested that such users actually
put a whole rootfs unto such a small partition --- an
"altroot."  This can be faster and handier than a boot/root
diskette and can give you a way to test new kernels more
easily with less risk.
</BLOCKQUOTE>
<BLOCKQUOTE>
When testing new kernels you sometimes needs to replace some
utilities.  Back in 1.3 to 2.x we had to do the whole procps
suite recently it's been the 'mount' command, and some
others.  Having the whole original suite on your altroot can
make for a much easier time of it!
</BLOCKQUOTE>
<BLOCKQUOTE>
Also, the "autorecovery" configuration that I talked about
last month requires an extra root partition.  If you ever
want to experiment with that --- you want to create that
"little root" partition from the start.
</BLOCKQUOTE>
<BLOCKQUOTE>
Another advantage of the "altroot" variant of this
suggestion is that it's actually a little easier to
implement.  Most distribution setup/installation scripts can
handle a "minimal" installation (in 64Mb or less).  So you
essentially just do your <A HREF="http://www.redhat.com/">Red Hat</A>, <A HREF="http://www.caldera.com/">Caldera</A>, <A HREF="http://www.suse.com/">S.u.S.E.</A> or
<A HREF="http://www.debian.org/">Debian</A> install twice.  Once is the 'short form' to just
create the altroot.  The other is your "real" installation
(with all the bells and whistles).
</BLOCKQUOTE>

<!-- end 2 -->
<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 1998, James T. Dennis 
<BR>Published in <I>The Linux Gazette</I> Issue 35 December 1998</H5>
<P> <hr> <P>
<!--::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<TABLE WIDTH="96%"><TR VALIGN="center" ALIGN="center">
<TD ROWSPAN="3" COLSPAN="3" WIDTH="26%"><A HREF="../lg_answer35.html"
	><IMG SRC="../../gx/dennis/answernew.gif"
              ALT="[ Answer Guy Index ]"></A></td>
  <TD WIDTH="14%"><A HREF="office.html">office</A></TD>
  <TD WIDTH="14%"><A HREF="largedisk.html">largedisk</A></TD>
  <TD WIDTH="14%"><A HREF="links.html">links</A></TD>
  <TD WIDTH="14%"><A HREF="yamaha.html">yamaha</A></TD>
  <TD WIDTH="14%"><A HREF="magickeys.html">magickeys</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="passwd.html">passwd</A></TD>
  <TD><A HREF="ftproot.html">ftproot</A></TD>
  <TD><A HREF="pvtmail.html">pvtmail</A></TD>
  <TD><A HREF="netware.html">netware</A></TD>
  <TD><A HREF="crypto.html">crypto</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="relay.html">relay</A></TD>
  <TD><A HREF="project.html">project</A></TD>
  <TD><A HREF="bootmethod.html">bootmethod</A></TD>
  <TD><A HREF="sysadmin.html">sysadmin</A></TD>
  <TD><A HREF="ipscript.html">ipscript</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD><A HREF="loopfs.html">loopfs</A></TD>
  <TD><A HREF="mrtg.html">mrtg</A></TD>
  <TD><A HREF="slimscan.html">slimscan</A></TD>
  <TD><A HREF="rpm.html">rpm</A></TD>
  <TD><A HREF="egg.html">modutil</A></TD>
  <TD><A HREF="libc.html">libc</A></TD>
  <TD><A HREF="dell.html">dell</A></TD>
  <TD><A HREF="remoteroot.html">remoteroot</A></TD>
</TR></TABLE>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"
	><IMG SRC="../../gx/indexnew.gif" ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"
	><IMG SRC="../../gx/homenew.gif" ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes35.html"
	><IMG SRC="../../gx/back2.gif" ALT="[ Previous Section ]"></A>
<A HREF="../anderson.html"
	><IMG SRC="../../gx/fwd.gif" ALT="[ Next Section ]"></A>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
