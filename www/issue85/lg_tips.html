<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Language" CONTENT="en-us">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="generator" CONTENT="lgazmail v1.4F.y">
<LINK REV="made" href="mailto:%20tag@lists.linuxgazette.net%20"><TITLE>More 2 Cent Tips &amp; Tricks LG #85</TITLE></HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->
<!--endcut  ==============================================-->

<!-- *** BEGIN navbar *** -->
<IMG ALT="" SRC="../gx/navbar/left.jpg" WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="bottom"><A HREF="lg_mail.html"><IMG ALT="[ Prev ]" SRC="../gx/navbar/prev.jpg" WIDTH="16" HEIGHT="45" BORDER="0" ALIGN="bottom"></A><A HREF="index.html"><IMG ALT="[ Table of Contents ]" SRC="../gx/navbar/toc.jpg" WIDTH="220" HEIGHT="45" BORDER="0" ALIGN="bottom" ></A><A HREF="../index.html"><IMG ALT="[ Front Page ]" SRC="../gx/navbar/frontpage.jpg" WIDTH="137" HEIGHT="45" BORDER="0" ALIGN="bottom"></A><IMG ALT="[ Talkback ]" SRC="../gx/navbar/talkback.jpg" WIDTH="121" HEIGHT="45" BORDER="0" ALIGN="bottom"  ><A HREF="../lg_faq.html"><IMG ALT="[ FAQ ]" SRC="./../gx/navbar/faq.jpg"WIDTH="62" HEIGHT="45" BORDER="0" ALIGN="bottom"></A><A HREF="lg_answer.html"><IMG ALT="[ Next ]" SRC="../gx/navbar/next.jpg" WIDTH="15" HEIGHT="45" BORDER="0" ALIGN="bottom"  ></A><IMG ALT="" SRC="../gx/navbar/right.jpg" WIDTH="15" HEIGHT="45" ALIGN="bottom">
<!-- *** END navbar *** -->

<!--endcut ============================================================-->

<TABLE BORDER><TR><TD WIDTH="200">
<A HREF="http://www.linuxgazette.net/">
<IMG ALT="LINUX GAZETTE" SRC="/gx/2002/lglogo_200x41.png" 
	WIDTH="200" HEIGHT="41" border="0"></A>
<BR CLEAR="all">
<SMALL>...<I>making Linux just a little more fun!</I></SMALL>
</TD><TD>


<center>
<BIG><BIG><STRONG><FONT COLOR="maroon">More 2&cent; Tips!</FONT></STRONG></BIG></BIG><BR>
<!-- BEGIN tips -->

<STRONG>By <A HREF="mailto:tag@lists.linuxgazette.net">The Readers of <i>Linux Gazette</I></A></STRONG></BIG>
</TD></TR>
</TABLE>
<P>

<!-- END header -->
<center><STRONG>See also: The Answer Gang's 
<a href="../tag/kb.html">Knowledge Base</a>
and the <i>LG</i> 
<a href="http://www.linuxgazette.net/search.html">Search Engine</a></STRONG>
</center><HR>
<UL>
<!-- index_text begins -->
<li><A HREF="#tips/1"
	><strong>Linux now serving: Outlook Global Address List</strong></a>
<li><A HREF="#tips/2"
	><strong>no more duplicate email</strong></a>
<li><A HREF="#tips/3"
	><strong>Changeing IP address</strong></a>
<li><A HREF="#tips/4"
	></a>linux consoles --or--
<br><A HREF="#tips/4"
	><strong>The "Other" [Alt] Key</strong></a>

<li><A HREF="#tips/5"
	><strong>how to create Imakefiles</strong></a>
<li><A HREF="#tips/6"
	></a>Booting stops at devfs --or--
<br><A HREF="#tips/6"
	><strong>Even journalled filesystems need fsck sometimes</strong></a>

<li><A HREF="#tips/7"
	><strong>Foxpro</strong></a>
<li><A HREF="#tips/8"
	><strong>unable to open an initial console</strong></a>
<li><A HREF="#tips/9"
	></a>question on redhat ip forwarding --or--
<br><A HREF="#tips/9"
	><strong>IP Masquerading: Red Hat 8.x Redoux</strong></a>

<li><A HREF="#tips/10"
	><strong>Learning Red Hat 8.0</strong></a>
<li><A HREF="#tips/11"
	><strong>Q: man pages for poll_wait(), wait_event()   and others</strong></a>
<li><A HREF="#tips/12"
	><strong>is the md5 check always right?</strong></a>
<li><A HREF="#tips/13"
	><strong>Follow ups on mgp and mplayer</strong></a>
<li><A HREF="#tips/14"
	><strong>Net2Phone ipchains config</strong></a>
<li><A HREF="#tips/15"
	><strong>Lost win95 data (and system) when loading linux</strong></a>
<li><A HREF="#tips/16"
	><strong>Good locations for sendmail howtos?</strong></a>
<li><A HREF="#tips/17"
	></a>internet connection --or--
<br><A HREF="#tips/17"
	><strong>Will this modem even work?  Let's ask the internet</strong></a>

<li><I>Linux Journal's</I> Weekly News Notes 
	<a href="#tips/lj">Tech Tips</a>
	<ul>
	<li><A HREF="http://www.linuxjournal.com/modules.php?op=modload&name=NS-subscribe&file=newsletter"
		>subscribe</A> to LJWNN
	</ul>
<!-- index_text ends -->
</UL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/1"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Linux now serving: Outlook Global Address List</FONT></H3>
Tue, 19 Nov 2002 11:59:58 -0800
<BR>Rick Moen (<a href="mailto:tag@lists.linuxgazette.net?cc=LUIS@casiano.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%231%20ldap%20addresslist">the <em>LG</em> Answer Gang</a>)
<BR>Question by Luis Sanchez (LUIS from casiano.com)


<P><STRONG>
Is there a way to share the users in a Linux Mail Server for Outlook
clients?  We will connect out Outlook clients via pop3/smtp to the
linux email server but wonder how to share the global address list
(like Exchange) ..
</STRONG></P>
<BLOCKQUOTE>
What you need to do is set up a shared address book using the OpenLDAP
server, an open-source facility for serving up Lightweight Directory
Access Protocol information to networks, that is routinely included in
Linux distributions.  This needs to be done with some care on the
OpenLDAP end of things, because Micros*ft Outlook is unusually picky
about the LDAP schema.  One hands-on guide to configuring the schema
is here:  
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQUOTE><code>
<A HREF="http://www.dclug.org.uk/archive-Nov00-May01/msg00253.html"
	>http://www.dclug.org.uk/archive-Nov00-May01/msg00253.html</A>
</code></BLOCKQUOTE></BLOCKQUOTE>
<BLOCKQUOTE>
You can find one general guide to setting up LDAP (server end)
<EM>software</EM>, in the form of a set of lecture notes I wrote about LDAP, a
year or so ago:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQuote><code>
<A HREF="http://linuxmafia.com/~rick/lecture-notes/ldap"
	>http://linuxmafia.com/~rick/lecture-notes/ldap</A>
</code></BLOCKQuote></BLOCKQUOTE>
<BLOCKQUOTE>
An example of how to set up the <EM>client</EM> (MS-Outlook) end of the problem
(at a university site) is here:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQuote><code>
<A HREF="http://www.cae.wisc.edu/fsg/info/mail/ldap_outlook.html"
	>http://www.cae.wisc.edu/fsg/info/mail/ldap_outlook.html</A>
</code></BLOCKQuote></BLOCKQUOTE>
<BLOCKQUOTE>
Note that appending to the address book from MS-Outlook is not
supported (or desirable, actually).
</BLOCKQUOTE>
<BLOCKQUOTE>
Good luck with the project.  Expect it to take a while, to work out all
the details.
</BLOCKQUOTE>

<!-- end 1 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/2"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">no more duplicate email</FONT></H3>
Tue, 29 Oct 2002 10:20:31 -0800
<BR>Dan Wilder (<a href="mailto:tag@lists.linuxgazette.net&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%232%20dup%20email%20killer">SSC.COM sysadmin</a>)


<P>
We now keep an MD5 sum the body of every message submitted to the Answer
Gang.  If another identical message body shows up, it gets sidelined.
</P>
<P>
As usual, this is run over procmail, with two stanzas in the
list's procmailrc that look like:
</P>
<p align="center">See attached <tt><a href="misc/tips/dupekiller.procmail.txt">dupekiller.procmail.txt</a></tt></p>
<P>
The first stanza says "filter this message through a program".
</P>
<P>
The second says "sideline if you see an X-Duplicate header in
the result".
</P>
<P>
The duplicate elimination script being used on this list
has been upgraded to use Python's library md5 routines
rather than an external pipeline, and to employ locking
on the db.
</P>
<P>
By popular request, we're now filtering other lists here with
this, and one local user who often receives duplicate emails
that are not always spams has asked for the script, too.
</P>
<P>
The upgraded script, which the procmail recipe calls upon:
</P>
<p align="center">See attached <tt><a href="misc/tips/dup.py.txt">dup.py.txt</a></tt></p>

<!-- end 2 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/3"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Changeing IP address</FONT></H3>
Fri, 22 Nov 2002 07:22:58 +0530
<BR>Kapil Hari Paranjape (<a href="mailto:tag@lists.linuxgazette.net?cc=eyal_kornblut@mod.gov.il&cc=kapil@imsc.res.in&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%233%20change%20IP">kapil from imsc.res.in</a>)
<BR>Question by eyal (eyal_kornblut from mod.gov.il)


<P><STRONG>
I have a Linux server that functions as a Mail Relay in my system.
All I want to do is to change its IP address.
How shuld I do it ? witch files shuld I change, and how ??
</STRONG></P>
<P><STRONG>
I would be very thanksfull for some help
</STRONG></P>
<P><STRONG>
eyal
</STRONG></P>
<P>
This depends quite a bit on the precise distribution of Linux you have
installed. Is it RedHat, <A HREF="http://www.debian.org/">Debian</A>, <A HREF="http://www.suse.com/">SuSE</A>, Mandrake,...
</P>
<P>
It also depends on how your network is configured. By static addresses
entered in some file under <TT>/etc</TT> or via DHCP.
</P>
<P>
At the very least you should do:
</P>
<P><CODE>
grep -ril "your_current_ip_address_here" /etc
</CODE></P>
<P>
to find out which files refer to your IP address.
</P>
<P>
In addition if you use SSL and/or SSH you must go through the
configuration of these services and check that the new IP address is
reflected.
</P>
<P>
Having gone through this procedure more than once, I must warn you
that <EM>if</EM> you a free machine that can take the place of your mail
server then the easiest solution is to setup <EM>that</EM> machine as the new
mail server and switch off the old machine.
</P>
<P>
Regards,
<BR>Kapil.
</P>

<blockquote><font color="#000066">You might also want to check that reverse-resolution of DNS is updated
to reflect that your new host is attached to this IP address;  it's
normally handled by the ISP who owns the IP block, so it's not stored
locally unless you have made special arrangements, and even if you have,
best to make sure they went through safely for both the old and new
address.
 -- Heather</font></blockquote>

<!-- end 3 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/4"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">The "Other" [Alt] Key</FONT></H3>
Mon, 18 Nov 2002 09:46:18 -0800
<BR>Jim Dennis (<a href="mailto:tag@lists.linuxgazette.net?cc=gavitron@shaw.ca&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%234%20other%20alt">the <em>LG</em> Answer Guy</a>)
<BR>Question by The Gavitron (gavitron from shaw.ca)


<!-- ::
The "Other" [Alt] Key
~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
<A HREF="../issue35/tag/magickeys.html"
	>http://linuxgazette.net/issue35/tag/magickeys.html</A>
</STRONG></P>
<P><STRONG>
James,
</STRONG></P>
<P><STRONG>
Further to your technical article quoted above;
</STRONG></P>
<P><STRONG>
You explain that I can use the <TT>/other/</TT> alt key for
ttys 13-24, but in my case, I only want to use both
alt keys to switch between the same 12 ttys.  Is it
possible to configure this?  Would making tty24 a
symbolic link to tty12 accomplish it?  I realise it's
been over 4 years since you wrote the original article,
but if you can still help, I would greatly appreciate
it.
</STRONG></P>
<P><STRONG>
Yours,
Gavin McDonald.
</STRONG></P>
<P>
You DON'T want to try symlinking those device files around.
</P>
<P>
Just use the 'loadkeys' utility to change your Linux console's
keymaps around to suit you tastes.  You can start by reading the
following man pages:  loadkeys(1), keymaps(5), dumpkeys(1), and
possibly showkey(1)
</P>
<P>
Then use 'dumpkeys' to dump a set of all the current key bindings.
Edit that (delete all the stuff you don't want to change) and
look for the section that looks something like this:
</P>
<p align="center">See attached <tt><a href="misc/tips/jimd.console-keymap-fragment-1.txt">jimd.console-keymap-fragment-1.txt</a></tt></p>
<P>
... and another section like:
</P>
<p align="center">See attached <tt><a href="misc/tips/jimd.console-keymap-fragment-2.txt">jimd.console-keymap-fragment-2.txt</a></tt></p>
<P>
Now simply change those to read:
</P>
<p align="center">See attached <tt><a href="misc/tips/jimd.console-keymap-fragment-otheralt.txt">jimd.console-keymap-fragment-otheralt.txt</a></tt></p>
<P>
Notice that all I'm doing is changing the Console_13 to Console_1
etc. (at the end of each line that begins with the word keycode).
</P>
<P>
Then simply pass that through the loadkeys command.  In fact you
could take that last excerpt (as show between the &quot; and &quot; quotes
above) save it to a file --- <TT>/usr/local/etc/mykeymap.def</TT> --- for
example and add a line to your rc.local file to perform a simple:
</P>
<P><CODE>
loadkeys &lt; /usr/local/etc/mykeymap.def
</CODE></P>
<P>
... command.
</P>

<!-- end 4 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/5"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">how to create Imakefiles</FONT></H3>
Fri, 08 Nov 2002 16:10:27 +0530 (IST)
<BR>Karl-Heinz Herrman (<a href="mailto:tag@lists.linuxgazette.net?cc=Kirankumar.Pv@geind.ge.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%235%20Imakefiles">the <em>LG</em> Answer Gang</a>)
<BR>Question by Kirankumar Po (Kirankumar.Pv from geind.ge.com)

<P><STRONG>
plz excuse me for asking questions without your permission ,
</STRONG></P>
<P><STRONG>
now my question is ...........
</STRONG></P>
<P>
This group (answergang) is willing to answer questions related to the
operating system linux, so if you ask a question according to this little
help what to ask and how to ask it:
</P>
<BLOCKQuote><code>
<A HREF="../tag/ask-the-gang.html"
	>http://www.linuxgazette.net/tag/ask-the-gang.html</A>
</code></BLOCKQuote>
<P>
you won't have to appologise for asking.
</P>
<P><STRONG>
"can we delete a file of a particular version ?"
if so how , if not what is the alternate for that
</STRONG></P>
<P>
Now this question is somewhat... broad. Yes, certainly linux has a version
management system, My preferred one is CVS. But unless you tell us what <EM>you</EM>
use if you use one we will have trouble guessing what might be appropriate in
your case.
</P>
<P><STRONG><CODE>
file name is test
</CODE></STRONG></P>
<P><STRONG>
test
1.1---1.2--1.3----1.4---1.5
</STRONG></P>
<P><STRONG>
i want to delete version 1.3 what is the command for that
and tell me the condition of 1.4
</STRONG></P>
<P>
For cvs this would be the command "admin" with flag "-o" for outdate.
</P>

<blockquote><pre>khh &gt; cvs -H admin
Usage: cvs admin [options] files...
      [.......]
        -o range   Delete (outdate) specified range of revisions:
           rev1::rev2  Between rev1 and rev2, excluding rev1 and rev2.
           rev::       After rev on the same branch.
           ::rev       Before rev on the same branch.
           rev         Just rev.
           rev1:rev2   Between rev1 and rev2, including rev1 and rev2.
           rev:        rev and following revisions on the same branch.
           :rev        rev and previous revisions on the same branch.
</pre></blockquote>
<P>
Information on a particular version would be told by
cvs status or cvs log on the file with an additional "-r revnumber" if you
really are interested only in that particular version.
</p>

<!-- end 5 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/6"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Even journalled filesystems need fsck sometimes</FONT></H3>
Mon, 18 Nov 2002 13:08:46 +0000 (GMT)
<BR>Thomas Adam (<a href="mailto:tag@lists.linuxgazette.net?cc=tedlinux@inet.net.nz&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%236%20fsck%20journal">The <em>LG</em> Weekend Mechanic</a>)
<BR>Question by Trev (tedlinux from inet.net.nz)

<!-- ::
Even journalled filesystems need fsck sometimes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
Hi, love your Mag, and your doing a great job here.
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
I know 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle"> I love the magazine too 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<P><STRONG>
My MDK 8.1, kernel 2.4.8.26-mdk system stops at
</STRONG></P>

<pre><strong>running DevFs deamon
invald operand:0000
CPU:0
EIP:   .........
EFLAGS .........
eax    .........
asi    .........
ds     .........
Process devfs pid 123
Stack: .........
CallTrace: .....
Code:
(Lots of letters and numbers)
</strong></pre>
<P><STRONG>
Is this a hardware problem ?
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
Oh, it most certainly would suggest a hardware
problem. As I am sure you are aware the "dev fs" sets
up those hardware devices contained within "<TT>/dev</TT>" such
as soundcard, etc.
</BLOCKQUOTE>
<P><STRONG>
i have no problems in <A HREF="http://www.suse.com/">SuSE</A> or Win (SuSE
and Win on hda, MDK and some vfat partitions on hdb)
and i can mount
MDKs partitions (in rescue) ok.
</STRONG></P>
<P><STRONG>
I've had problems when booting with devfs twice, the
first time (some
weeks ago) it put it back to the old dev system, 10
to 15 boots back, it
put it back to the devfs system.
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
I'm not certain but is the new way ("devfs") actually
a kernel module rather than it being "built-in" to the
kernel???
</BLOCKQUOTE>
<P><STRONG>
I tried rescue to rebuild devfs but not
knowing/finding any commands (no
man pages) i got nowhere, reiserfsck and e2fsck
found no problems, i
commented out pts from fstab but it made no
difference. I tried booting
with devfs=nomount but lilo would not recognize it,
not in lilo i guess.
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
hmmm...the script "<TT>/dev/MAKEDEV</TT>" does some things, but
not what you're trying to do.
</BLOCKQUOTE>
<P><STRONG>
I had no luck with your DB or google.
</STRONG></P>
<P><STRONG>
Neither did I 
<IMG SRC="../gx/dennis/unsmily.gif" ALT=":-(" 
		height="24" width="20" align="middle">
</STRONG></P>
<HR width="10%" align="center"><P><STRONG>
Sorry for being slow getting back to you, only got
it going late last night
and read your email (and 450 others).
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
Oh, that's ok. You actually read 450 consecutive
e-mails? Gosh -- hope you haven't got eye-strain 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<P><STRONG>
I changed the "devfs=mount" to "devfs=nomount" in
lilo.conf but it made no
difference,
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
Hmm, that would suggest that your filesystem type for
the particular partition is abnormal in someway.
</BLOCKQUOTE>
<P><STRONG>
then out of desperation i tried
reiserfsck again on <TT>/</TT> but this
time i did reiserfsck --rebuild-tree and it fixed it

<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">, dmesg says "Mounted
devfs on <TT>/dev</TT>".
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
Ah.... that's interesting and something that Mandrake
should have tested and/or implemented in both the
kernel and their documentation. I'm sure there are
other like you running MDK8.1 with the same problem/.
</BLOCKQUOTE>
<P><STRONG>
I'll see if devfs and reiserfs has an update for MDK
8.1.
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
Unlikely -- you'll probably have to re-compile your
kernel as a result. But it's not as hard as you might
think....honest. Last I heard Eric Raymond was working
on a graphical "maze" frontend for compilation!!! So
much for the tcl/tk interface 
<IMG SRC="../gx/dennis/unsmily.gif" ALT=":-(" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<BLOCKQUOTE>
[ashwin] 
Linus rejected that for kernel 2.5. Instead, a Qt interface was chosen,
so that's what will be in 2.6 (or it may even be called 3.0).
</BLOCKQUOTE>
<P><STRONG>
Thanks Thomas for your reply.
</STRONG></P>
<BLOCKQUOTE>
[Thomas] 
As I said -- it's what we're here for 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle"> 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle"> Anytime.
If you have any other problems, let us know!
</BLOCKQUOTE>

<blockquote><font color="#000066">Gentle readers, it's also worth mentioning that journaled fs' will still
be fsck'd when the volumes reach their maximum mount count.  Journals
make them robust, so a crash (which marks notmal filesystems "dirty",
forcing fsck) simply results in a journal replay.  So now we know one
thing that can happen if the journal itself gets an ouchie.
 -- Heather</font></blockquote>

<!-- end 6 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/7"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Foxpro</FONT></H3>
Sun, 17 Nov 2002 20:43:29 -0800
<BR>Rick Moen (<a href="mailto:tag@lists.linuxgazette.net?cc=devi_ys@yahoo.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%237%20foxpro">the <em>LG</em> Answer Gang</a>)
<BR>Question by Deviyanti Setionegoro (devi_ys from yahoo.com)

<P><STRONG>
My name is Deviyanti, I want to ask a question, I have a foxpro 2.6
under dos that runs on windows NT. Now I want to migrate from windows
NT to linux Redhat 7.2. The question is will my application in foxpro
2.6 can run in Linux? If can, what are the additional software that I
should install first, before I move my aplication in foxpro 2.6 to
linux.
</STRONG></P>
<P>
Something called "Recital Linux Developer" runs FoxPro 2.6 applications
unchanged on Linux:
</P>
<BLOCKQuote><blockquote><code>
<A HREF="http://www.recital.com/solutions_foxpro.htm"
	>http://www.recital.com/solutions_foxpro.htm</A>
</code></BLOCKQuote></blockquote>
<P>
Additionally, this question did sort of come up once before, a few years
back, when Answer Gang founder Jim Dennis was The Answer Guy, all by his
lonesome:
</P>
<blockquote><BLOCKQuote><code>
<A HREF="../issue30/tag_database.html"
	>http://linuxgazette.net/issue30/tag_database.html</A>
</code></BLOCKQuote></blockquote>
<P>
Some of that will no doubt still be relevant.
</P>

<!-- end 7 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/8"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">unable to open an initial console</FONT></H3>
Fri, 08 Nov 2002 12:24:07 +0530 (IST)
<BR>Karl-Heinz Herrman (<a href="mailto:tag@lists.linuxgazette.net?cc=lawrence.osullivan@141.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%238%20initial%20console">the <em>LG</em> Answer Gang</a>)
<BR>Question by Lawrence O'Sullivan (lawrence.osullivan from 141.com)

<P><STRONG>
Hi, I could sure use some help with this problem. I've followed the "Linux
from Scratch" guides to building a Linux system. Their instructions and
guides were very good, and everything seems to have compile correctly.
Also, I have posted this question on their support mail, and received
several suggestion but none helped. When I boot into the new Linux system,
the process hangs and the last three lines displayed are:
</STRONG></P>

<pre><strong>Freeing unused kernel memory: 140k freed
Warning: unable to open an initial console
Kernel Panic: Attempted to kill init
</strong></pre>
<P><STRONG>
Entering this  lfs root=/dev/hda9 init=/bin/sh  in lilo still hangs.
</STRONG></P>
<BLOCKQUOTE>
I'm pretty sure (since I had the same when I was first time switching from
2.2.x kernel to 2.4.x style) that the console driver is not in the kernel.
my config seems to have that as "y" not as module.
</BLOCKQUOTE>
<p align="center">See attached <tt><a href="misc/tips/k-h.kernel-dot-config-fragment.txt">k-h.kernel-dot-config-fragment.txt</a></tt></p>
<P><STRONG>
I'm not using devfs.
</STRONG></P>
<P><STRONG>
The inittab file appears correct, and was reviewed by the LFS folks.
</STRONG></P>
<P><STRONG>
The fstab file appears correct, and was reviewed by the LFS folks.
</STRONG></P>
<P><STRONG>
The configuration (.config) for the Kernel build appears to be correct. It was reviewed by the LFS folks and I compared it to the distribution that loads.
</STRONG></P>
<BLOCKQUOTE>
Maybe or maybe not -- make sure the above mentioned character devices are
there.
</BLOCKQUOTE>
<P><STRONG>
The new Linux system is on its own partition and the root and boot are on the same partition.
</STRONG></P>
<P><STRONG>
My original Linux distribution, which is on its own partition, still boots and can mount the partition with the new Linux system.
</STRONG></P>
<P><STRONG>
Any suggestion as to what else I can check or change would really help.
</STRONG></P>
<P><STRONG>
Thanks
<BR>Lawrence
</STRONG></P>

<!-- end 8 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/9"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">IP Masquerading: Red Hat 8.x Redoux</FONT></H3>
Mon, 18 Nov 2002 20:55:34 -0800
<BR>Jim Dennis (<a href="mailto:tag@lists.linuxgazette.net?cc=chhong@cisco.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%239%20ip%20masq%20rh%208">the <em>LG</em> Answer Guy</a>)
<BR>Question by chhong (chhong from cisco.com)

<!-- ::
IP Masquerading: <A HREF="http://www.redhat.com/">Red Hat</A> 8.x Redoux
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
I have a RedHat Linux 8.0 machine with kernal 2.4.18-14. One of the
network card (Eth0 eg. 192.168.10.1) is connected to my private network
(consisting of a FTP server and 2 pc). Another network card (Eth1 eg.
201.1.1.*) is connected to the internet. How do I make my FTP server
accessible from other pcs in the internet and make pcs in my private
network access the internet?
</STRONG></P>
<P><STRONG>
Thanks
<BR>Chris Hong
</STRONG></P>
<P>
Well, I haven't played with Red Hat 8.0 yet.  However, the key to
your question lies in two steps.  First you have to enable the kernel's
packet forwarding feature.  Manually this can be done via a command
like:
</P>
<blockquote><CODE>
echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</CODE></blockquote>
<P>
However, that would not persist beyond a reboot.  Under Red Hat there
is an <TT>/etc/sysctl.conf</TT> file which needs to have an entry like:
</P>
<BLOCKQuote><code>
net.ipv4.ip_forward = 1
</code></BLOCKQuote>
<P>
This allows the kernel to route packets (from your internal network
to the outside world).
</P>
<P>
However, that obviously won't do much good by itself.  Packets from
your network that "leaked" out to the Internet would be useless since
no responses could get back to your RFC1918 non-routable addresses
(192.168.*.*, 10.*.*.*, and 172.16.*.* through 172.31.*.*).
</P>
<P>
So, the other requisite step is to enable IP masquerading.  Over the
years the Linux IP packet filtering features haved changed radically
with each major kernel release.  So old versions of Linux used the
'ipfw', then the 'ipfwadm', and then the 'ipchains' commands to manage
the kernel's packet filtering tables and configure its behavior.  Red
Hat version 8.0 uses a 2.4 kernel with the netfilter subsystem and the
'iptables' command to manage it.
</P>

<blockquote><pre>modprobe iptable_nat
# In the NAT table (-t nat), Append a rule (-A) after routing
# (POSTROUTING) for all packets going out eth1 (-o eth1) which says to
# MASQUERADE the connection (-j MASQUERADE).
iptables -t nat -A POSTROUTING -o eth1 -j MASQUERADE
</pre></blockquote>

<blockQuote><ul>
<LI>Example slightly modified from
	 <A HREF="http://www.netfilter.org/documentation/HOWTO//NAT-HOWTO-4.html#ss4.1"
	>http://www.netfilter.org/documentation/HOWTO//NAT-HOWTO-4.html#ss4.1</A>
</ul></blockQuote>
<P>
You may have to hunt around in the Red Hat <TT>/etc/</TT> directory tree to
figure out the best place to put his command.  I think they have an
<TT>/etc/rc.d/init.d/iptables</TT> script which you can enable with their
'chkconfig' command.  If you read that I think you'll find some file
like <TT>/etc/sysconfig/network-scripts/iptables.dat</TT> or something like
that.  If I recall correctly from Red Hat 7.x, you could put just the
arguments for this iptables command (from the -t to the end of the line)
into that file.
</P>
<P>
The reason I'm tossing in so many qualifiers in this last paragraph is
because I mostly use <A HREF="http://www.debian.org/">Debian</A> and haven't actually installed or managed
a Red Hat 8.0 system, yet.  In addition some of the details change with
every major release.  The differences are minor --- easy to adapt to if
you can read simple shell scripts.
</P>
<P>
There is probably also a way to do all of this using some GUI tool.
However, I still avoid graphical system administration tools.  I'm
firmly of the opinion that the most important systems administration
tool is your favorite text editor!
</P>

<!-- end 9 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/10"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Learning Red Hat 8.0</FONT></H3>
Tue, 26 Nov 2002 13:40:35 -0800
<BR>Heather Stern (<a href="mailto:tag@lists.linuxgazette.net?cc=jhavilan@attbi.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2310%20learn%20redhat"><em>Linux Gazette</em> Technical Editor</a>)
<BR>Question by James M. Haviland (jhavilan from attbi.com)

<P><STRONG>
What is the best book to learn RH's 8.0?  Or will the books I have on
learning 5 or 6 and maybe 7 be good enough to learn the basics or anything
except the fine points.
</STRONG></P>
<P>
Stuff about the bash shell will be pretty much the same.
</P>
<P>
Learning how to use a text editor will be pretty much the same.
</P>
<P>
Chances are that in a modern one the screen may look a little different
but it will likely be a little easier to read.
</P>
<P>
Anything showing screen shots walking you through the install will show
pictures only good for that exact version.  You can read the chapter
anyway, as the basic steps of partitioning and answering network
questions will still be asked, but the screens will look different.
</P>
<P>
Pretty much, you can follow along in an older book, and look at man
pages or --help output from a program to catch up on some things that
may be new.  If you also connect to the internet and surf to the home
pages of some software you are trying to learn, there may be discussion
forums and more things to read there.
</P>
<P>
And of course there's the Linux Documentation Project 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">  (www.tldp.org)
</P>
<P>
Many of these things will be equally valid for red hat, or for other
linux distributions.
</P>
<P><STRONG>
I tried to use the e-mail program that came with it and I set it up wrong
some how so that I couldn't send e-mails.  I was able to use Mozzarella or
Netscape's e-mail program.
</STRONG></P>
<P>
You have to connect to an internet provider before you can read emails.
Your system usually has to have an SMTP program (sendmail, or one of its
competitors) in order to send emails.
</P>
<P>
Mozarella, yum.  You probably meant "mozilla" - the browser's firebreathing
dinosaur-like mascot.
</P>
<P>
Mozilla and netscape use the same code under the hood;  they compose
SMTP messages and transmissions directly, rather than needing a local
server.  Think of this as driving the mail up to the post office
yourself all the time instead of leaving it at your door for the postman
to pick up when he comes by every day for the mail.
</P>
<P><STRONG>
Thank you for your time.
</STRONG></P>
<P><STRONG>
Jim
</STRONG></P>
<P>
You're welcome.
</P>

<!-- end 10 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/11"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Q: man pages for poll_wait(), wait_event()   and others</FONT></H3>
Mon, 4 Nov 2002 16:21:32 -0500 (EST)
<BR>Pradeep Padala (<a href="mailto:tag@lists.linuxgazette.net?cc=vkarasik@ndsisrael.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2311%20kernel%20functions">the <em>LG</em> Answer Gang</a>)
<BR>Question by Vitaly Karasik (vkarasik from ndsisrael.com)

<P><STRONG>
Are there any  additional sources for manpages [we've checked
kernel-doc package, <A HREF="http://kernelnewbies.org/documents"
	>http://kernelnewbies.org/documents</A>, Kernel*
HOWTO's and so on, but without success].
</STRONG></P>
<P>
Linux source is the authoritative documentation for kernel functions. I
guess you already know about <A HREF="http://lxr.linux.no"
	>http://lxr.linux.no</A>. That's the right place
to look for documentation 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</P>
<P>
Apart from that Alessandro Rubini's book on device drivers has some
information on this. Information regarding poll is here in that book:
</P>
<blockquote><BLOCKQuote><code>
<A HREF="http://www.xml.com/ldd/chapter/book/ch05.html#t3"
	>http://www.xml.com/ldd/chapter/book/ch05.html#t3</A>
</code></BLOCKQuote></blockquote>
<P>
This should give a fair idea of what needs to be done when poll on a
device is done.
</P>
<P><DL><DT>
You can read the whole book online at:
<DD><A HREF="http://www.xml.com/ldd/chapter/book"
	>http://www.xml.com/ldd/chapter/book</A>
</DL></P>
<P>
Also try to follow any driver's code which implements 'select' or 'poll'
for the device.
</P>

<!-- end 11 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/12"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">is the md5 check always right?</FONT></H3>
Sun, 3 Nov 2002 18:23:17 +0000
<BR>Steve Kemp (<a href="mailto:tag@lists.linuxgazette.net?cc=paupople@online.no&cc=skx@tardis.ed.ac.uk&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2312%20md5sum">skx from tardis.ed.ac.uk</a>)
<BR>Question by Simon Pople (paupople from online.no)

<P><STRONG>
I just downloaded 3 Mandrake CDs via FTP and read after doing that that I
should have set the download mode to binary not ASCII.  I didn't do that,
but when I run MD5 on all the .iso files they are all fine....is it possible
that even though the MD5 checksums are all matching, the files still aren't
correct, or is MD5 an infallible test of the downloaded ISOs?
</STRONG></P>
<P>
MD5 should be a good enough test of validity.  It has got some weaknesses
which have recently come to light, but it's extremely unlikely that you've
come across three seperate examples.
</P>
<P>
It's probably the case that your FTP/download software switched to binary
by itself, without you having to explicitly do it.
</P>

<!-- end 12 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/13"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Follow ups on mgp and mplayer</FONT></H3>
Sun, 17 Nov 2002 03:40:22 +0100
<BR>Robos (<a href="mailto:tag@lists.linuxgazette.net?cc=robos@muon.de&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2313%20mgp%20and%20mplayer">the <em>LG</em> Answer Gang</a>)


<P>
Hi Folks
</P>
<P>
I did look into the mgp with embedded mplayer issue today again and got a
little further:
after looking into the man-page of xwininfo I found -name. If I call:
</P>
<BLOCKQuote><code>
xwininfo -name MagicPoint
</code></BLOCKQuote>
<P>
(always the same I hope 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> I get the win-id like this:
</P>
<blockquote><CODE>
xwininfo -name MagicPoint |grep Window |awk '{print $4}' &gt;/tmp/wid
</CODE></blockquote>
<P>
and then:
</P>
<BLOCKQuote><code>
mplayer /home/robos/movies/play* -vo x11 -wid cat /tmp/wid=1BOB
</code></BLOCKQuote>
<P>
OK, I actually put the whole calls into a bash script since mgp makes some
strange things if I call it from within mgp with %system. So, in the mgp
text I do a
</P>
<blockquote><code>
%system "/home/robos/mplayer.sh"
</code></blockquote>
<P>
and call the whole thing like this:
</P>
<blockquote><CODE>
mgp mplayer.mgp -x vflib -U
</CODE></blockquote>
<P>
The -U is the important one: -U since forking is prohibited
otherwise...
This sorta works, but the display stays a little garbled afterwards (I put a
%system "killall mplayer" on the next page)  and in the page that displays
the vid nothing else is shown (no text). But, I would say something to
improve upon.
If you use -o with mgp it doesn't go fullscreen and then the vid is also
centered in my case (I use enlightenment btw).
</P>
<P>
OK
<br>I'll toy a little more
<br>Robos
</P>

<!-- end 13 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/14"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Net2Phone ipchains config</FONT></H3>
Mon, 18 Nov 2002 11:46:27 -0600
<BR>John Larmour (<a href="mailto:tag@lists.linuxgazette.net?cc=jlarmour@eds.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2314%20net2phone">jlarmour from eds.com</a>)


<blockquote><font color="#000066">In last issue ( <EM>LG</EM> 84) help wanted #3:
	<A HREF="../issue84/lg_mail.html#wanted/3"
	>http://linuxgazette.net/issue84/lg_mail.html#wanted/3</A>
it was asked if Linux has net2phone support.
 -- Heather</font></blockquote>
<P><STRONG>
I see that this request is a month or more old.  Has this problem been
solved?
</STRONG></P>

<blockquote><font color="#000066">Many times, people do get their solutions, but don't pass them back
along to us.  So I cannot really say.
 -- Heather</font></blockquote>
<P><STRONG>
I have a linux firewall (ipchains) at home, and run Net2Phone on a
window98 box that goes through the firewall.  If you are still having
problems, I may be able to help with some of the settings.
</STRONG></P>
<HR width="10%" align="center"><P><STRONG>
Okay, I'm at home now and can check the settings.  On the Net2Phone
client, choose menu-&gt;preferences-&gt;network. Make note of the "doorman"
URLs and port numbers (mine are call1.net2phone.com and
call2.net2phone.com, both on port 6801).  In the client box, choose a
number for your ports (I use the same for both TCP and UDP).  Valid
numbers are greater than 1024 and less than 65000.
</STRONG></P>
<P><STRONG>
My firewall uses masquerading, and is not a proxy.  I don't know what
your setup is, so this may or may not work for you.  In my previous
message I said I use ipchains.  Sorry, that shoud have been iptables.  I
got it set up a while ago, and really haven't touched it since.
</STRONG></P>
<P><STRONG>
Here are the variables I use in my script:
</STRONG></P>

<pre><strong>${ISP} is the network card connected to my ISP,
${LAN} is the network card connected to my home network.
${PHINIT}is the port used by the doorman (6801)
${PHCTL} and ${PHVCE} are the TCP and UDP port numbers I picked
</strong></pre>
<P><STRONG>
Here are the iptables commands I added to my script to start my firewall:
</STRONG></P>

<pre><strong>iptables -A INPUT -p udp -i ${ISP}-s call1.net2phone.com -m state
--state != INVALID --source-port ${PHINIT} -j ACCEPT
iptables -A INPUT -p udp -i ${ISP}-s call2.net2phone.com -m state
--state != INVALID --source-port ${PHINIT} -j ACCEPT
iptables -A INPUT -p udp -i ${ISP}--source-port ${PHVCE} -j ACCEPT
iptables -A INPUT -p tcp -i ${ISP}--source-port ${PHCTL} -j ACCEPT
</strong></pre>
<P><STRONG>
Hope this isn't too late to be helpful....
</STRONG></P>

<!-- end 14 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/15"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Lost win95 data (and system) when loading linux</FONT></H3>
Sun, 17 Nov 2002 13:00:20 EST
<BR>mike, Heather Stern (<a href="mailto:tag@lists.linuxgazette.net?cc=JTHodgson@aol.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2315%20lost%20partitions">the <em>LG</em> Answer Gang</a>)
<BR>Question by JTHodgson (JTHodgson from aol.com)

<P><STRONG>
Dear Answer gang  -   my problem is an inaccessible C: drive holding my win95
system and all my data - much of it not backed up, naturally 
<IMG SRC="../gx/dennis/unsmily.gif" ALT=":-(" 
		height="24" width="20" align="middle">  .
</STRONG></P>
<P><STRONG>
Here is how I think it happened.
</STRONG></P>
<P><STRONG>
I started with a standard Win95 set up, with a 5G C: drive, a bootable 48x cd
drive  and a standard floppy a: drive.
</STRONG></P>
<P><STRONG>
I then added a 20G Western Digital secondary drive. This came with the
Phoenix bios overlay ez-bios, which took control of both internal drives
(despite the fact that c: was within the old bios limit).
</STRONG></P>
<P><STRONG>
With both drives running a single dos partition, the system ran without
problems, until I tried to partition the d:  drive to load linux (6.3 suse).
Neither partition magic, nor fip would repartition the disk.
</STRONG></P>
<P><STRONG>
I then downloaded the latest data life guard (DLG) (=ez-bios) installation
utility from the web, and used it to partition the d: drive.  I also made a
floppy win95 boot disk.
</STRONG></P>
<P><STRONG>
At this point the win95 system was operating correctly, but with a reduced
disk size visible on d:.
</STRONG></P>
<P><STRONG>
I then started to load linux by booting from the cd.  It ran through the
initial screens without problem, but when it came to assigning the partition
to mount the system, the second partition on d: was not visible.  There was
no escape route, so I powered off.
</STRONG></P>
<P><STRONG>
Now the system would not boot from c:.
</STRONG></P>
<P><STRONG>
Nor would it boot from the system disc in a:, or ,rather, when I did the c:
drive was not accessible (nor the d: drive!).
</STRONG></P>
<P><STRONG>
I tried fdisk <TT>/mbr</TT>, and restoring the mbr "before installing ez bios" and "
after installing ez-bios" (options in the downloaded DLG utility).  The DLG
utility also told me that the c: drive had a "non dos partition".
</STRONG></P>
<P><STRONG>
I assume that I have inadvertently created a linux partition on the c: drive.
</STRONG></P>
<P><STRONG>
How can I recover from this?  Or is there some other explanation?  Is this a
</STRONG></P>
<P><STRONG>
diy job, or should I consider a data recovery service (my marriage may be at
stake here!).
</STRONG></P>
<P><STRONG>
Very grateful for any help you could give.  I'm keen to join the penguins,
but this is off-putting!
</STRONG></P>
<P><STRONG>
John Hodgson
</STRONG></P>
<BLOCKQUOTE>
[mike] 
First off, can you boot into linux?
If so check the data as follows
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQUOTE><CODE>
mount the c: partition
</CODE></BLOCKQUOTE></BLOCKQUOTE>
<BLOCKQUOTE>
type ls <TT>/mnt</TT> to see if a mount point has been setup by your distro
</BLOCKQUOTE>
<BLOCKQUOTE>
if you see something like <TT>/mnt/dos_c</TT> do ls &lt;this dir&gt; to see if there
are any files
</BLOCKQUOTE>
<BLOCKQUOTE>
if there is no <TT>/mnt/dos</TT> etc directory do the following
</BLOCKQUOTE>

<blockquote><pre>mkdir /mnt/c
mount /dev/hda1 /mnt/c
</pre></blockquote>
<BLOCKQUOTE>
then type df to see what partitions are mounted
</BLOCKQUOTE>
<BLOCKQUOTE>
then type ls <TT>/mnt/c</TT> to see if your files are still there
</BLOCKQUOTE>
<P><STRONG>
Thanks, Mike...
</STRONG></P>
<P><STRONG>
To avoid the possibility of further over-writing on the old C: drive, I used
DemoLinux running from the CD drive.  By default this loads the <A HREF="http://www.kde.org/">KDE</A> desk top.
</STRONG></P>
<P><STRONG>
This showed two internal drive icons, but clicking on hda1 gave an error:
</STRONG></P>
<Pre><STRONG>
"Unable to run the command specified.  The file or directory file:/mnt/hda1
does not exist"
</STRONG></Pre>
<P><STRONG>
Moving to console mode:
</STRONG></P>
<P><STRONG>
ls /mnt  gave the response
</STRONG></P>

<pre><strong>cdrom  floppy  hdb1
</strong></pre>
<P><STRONG>
Apparently the old C: drive is not being recognised
</STRONG></P>
<P><STRONG>
Mkdir <TT>/mnt/c</TT>  gave error message
</STRONG></P>

<pre><strong>Mkdir cannot create directory  '/mnt/c' : permission denied
</strong></pre>
<P><STRONG>
While DemoLinux was loading I spotted a line that I
think related to the old C: drive, giving it the following properties: win98
FAT-32 LBA-matched partition
</STRONG></P>
<BLOCKQUOTE>
[Heather] 
Sorry to come a bit late to the game.  Anyways it looks to me as if your
initial diagnosis is correct - the partition table has gotten somehow
mismatched with what is really on the drive.
</BLOCKQUOTE>
<BLOCKQUOTE>
The Linux utility to deal with this problem is gpart - it will
physically look at the bits on the drive, and guess a partition table
for you.  If your drive electronics do not agree with what your BIOS
reads for cylinder/head/sector values, it might actually be wrong, but
if you see something that looks like the layout you remember, it's
probably right, and you can write the result into the MBR-tail with a
commandline switch.
</BLOCKQUOTE>
<BLOCKQUOTE>
(I say "tail" because strictly speaking the first 446 bytes are the boot
loader and the 64 bits at the end are the partition table, and some
techies refer to only the loader as the MBR, while others call the whole
512byte cluster this.  But we digress.)
</BLOCKQUOTE>
<BLOCKQUOTE>
The DOS analogue to solve this problem - bearing in mind that I've not
had to use it for years, so I cannot vouch for the current edition
one way or another... is Symantec's Norton Disk Doctor... NDD <TT>/REBUILD.</TT>
As a few repartitioning utlities are on the market they might also have
some sort of "reset to whatever the disk has on it" feature - possibly
as a last-ditch rescue against their own failure modes.  The same caveat
against the BIOS mismatch problem applies.  Also, if it isn't new enough
a DOS tool may not recognize any linux bits you've managed to get on there.
</BLOCKQUOTE>
<BLOCKQUOTE>
Anyways, I <EM>have</EM> used gpart recently myself and can assure you that it
works.  The real fun is getting a cd-boot or floppy-boot distro that
has it in there.  I don't recall if I used Knoppix, or if I host-mounted
one of my laptop drives temporarily (so <TT>/dev/hda</TT> was a known good
system).  DemoLinux, if it has a copy of gpart on it, can help you solve
that quite quickly, and if it doesn't have it, you may be able to fetch
a binary of the program into your ramdisk.
</BLOCKQUOTE>
<BLOCKQUOTE>
Pretty much, all the live-CD discs use a ramdisk or two.
</BLOCKQUOTE>

<!-- end 15 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips/16"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Good locations for sendmail howtos?</FONT></H3>
Tue, 26 Nov 2002 13:07:33 -0800
<BR>Heather Stern, John Karns (<a href="mailto:tag@lists.linuxgazette.net?cc=supersimian@hotmail.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2316%20sendmail%20howtos">the <em>LG</em> Answer Gang</a>)
<BR>Question by David (supersimian from hotmail.com)


<P><STRONG>
Hey there Answer Gang,
</STRONG></P>
<P><STRONG>
You've helped me in the past, I'm hoping you can help me again.
</STRONG></P>
<P><STRONG>
I'm having diffuculties setting up sendmail and friends on a small home
network. I can't seem to get mail to work between hosts. I feel fairly
competent in linux in general, but this continues to baffle me.
</STRONG></P>
<P><STRONG>
I'm using RedHat 8.0 on two systems, my main desktop, and our
firewall/dns/nat/etc box. My roommate is using WinXP. But basically, I'm
looking for a good howto doc on setting up email between the gateway box and
my desktop, so I can forward the root mail form the gateway to an arbitrary
account on my desktop. Y'know, for getting alerts, logwatch info, etc.
</STRONG></P>
<P><STRONG>
And just to learn a bit more about the workings of email in general.
</STRONG></P>
<P><STRONG>
At present, I can't get ANY kind of email to move between the two boxes.
</STRONG></P>
<P><STRONG>
Mostly, I'm looking for a really good writeup on how to configure things to
my liking. I mean, I don't want to have to buy a book on it, it's just for
home use, but I want a good understanding.
</STRONG></P>
<P><STRONG>
If you people can point me towards a good resource, I'd really appreciate
it.
</STRONG></P>
<BLOCKQUOTE>
[John Karns] 
Well I suppose the best resource is the O'Reilly book on sendmail - but
since you mentioned that you don't want to buy a book, I do recall
stumbling across a helpful sendmail web site about 3 yrs ago.  So a web
search would probably turn up a few sources of info.  There are also some
fairly comprehensive FAQ's etc available...
</BLOCKQUOTE>
<BLOCKQUOTE>
[Heather]
</BLOCKQUOTE>

<blockQuote><ol>
<LI>try the faq's and other helpful notes at sendmail.org, then the
   community forums at sendmail.net.


<LI>each of sendmail's major competitors also have websites;  since some
   of their FAQs are in the form of "under sendmail I would... how do I
   do that in this mail transport?"  then reading the documentation of
   all the major mailers should help considerably toward learning about
   email in general.


<LI>for your NT box to get mail from your linux server, either your linux
   server needs to run POP or IMAP daemons... or your NT system has to
   run an SMTP daemon and be listed as a MX for itself. The first one
   is <EM>much</EM> easier.
</ol></blockQuote>
<P><STRONG>
Thanks Heather, I'll have a look at these resources.
Luckily, I've managed to muddle through a bit of it on my own,
the mail is moving, just need to fine-tune things a bit. I now
understand why the sendmail.cf file is so infamous 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</STRONG></P>
<P><STRONG>
rewrite rules, UGH...
</STRONG></P>
<BLOCKQUOTE>
[John Karns] 
Finally, I can provide a quick hint about (one method of) setting up mail
between hosts.  For my purposes I just added the host names in
<TT>/etc/mail/mailertable</TT> in form of
</BLOCKQUOTE>
<BLOCKQUOTE>
machine1.my.psuedo.dom         smtp:machine1.my.psuedo.dom
machine2.my.psuedo.dom         smtp:machine2.my.psuedo.dom
</BLOCKQUOTE>
<BLOCKQUOTE>
In the comments in that file:
</BLOCKQUOTE>

<TABLE WIDTH="95%" BORDER="1" BGCOLOR="#FFFFCC"><TR><TD>
<p align="center">...............</p>
<BLOCKQUOTE><BLOCKQUOTE><CODE>
# sendmail will look for all non-local email into this file to determine
<BR># the transport way to the next host. the destination hostname is used
<BR># to find an entry in this file.
</CODE></BLOCKQUOTE></BLOCKQUOTE><p align="center">...............</p>
</TD></TR></TABLE>
<BLOCKQUOTE>
And from <TT>/etc/mail/README:</TT>
</BLOCKQUOTE>

<TABLE WIDTH="95%" BORDER="1" BGCOLOR="#FFFFCC"><TR><TD>
<p align="center">...............</p>
<BLOCKQUOTE>
sendmail.cf supports some more external database files. The
default configuration uses <TT>/etc/aliases</TT>, <TT>/etc/mail/mailertable</TT>,
<TT>/etc/mail/genericstable</TT> and <TT>/etc/mail/virtusertable.</TT> These files are
normal text files that are converted with "makemap" to the real database
files (ending in .db).
</BLOCKQUOTE>
<BLOCKQUOTE>
For all outgoing email, sendmail will use the destination hostname
and look into <TT>/etc/mail/mailertable</TT> to see how this email should
be transported to the next destination. Please read that file for
some examples on email-routing.
</BLOCKQUOTE><p align="center">...............</p>
</TD></TR></TABLE>
<BLOCKQUOTE>
Note 1: There is a Makefile in that dir to enable running 'make' after
adding the host names to the text file.  That will create the .db file
which sendmail actually uses.
</BLOCKQUOTE>
<BLOCKQUOTE>
Note 2: I'm not sure how much of this structure is from the generic
sendmail and how much may be contributed by <A HREF="http://www.suse.com/">SuSE</A>, but my gueess is that it
is mostly generic.  This seems to be born out by the above reference to
sendmail.cf pointing to those files.
</BLOCKQUOTE>
<BLOCKQUOTE>
Note 3: This setup works for me.  I don't have a name server set up, just
use a hosts file.  YMMV.
</BLOCKQUOTE>

<!-- end 16 -->
<!--              . . . . . . . . . . . . . . . . . . .              -->
<HR WIDTH="40%" ALIGN="center">
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Will this modem even work?  Let's ask the internet</FONT></H3>
Sun, 10 Nov 2002 14:15:06 -0800
<BR>Rick Moen (<a href="mailto:tag@lists.linuxgazette.net?cc=ralphk@hauns.com&subject=%20Re%3A%20%5BLG%2085%5D%202c%20Tips%20%2317%20usb%20softmodem">the <em>LG</em> Answer Gang</a>)
<BR>Question by Helen &amp; Ralph (ralphk from hauns.com)


<!-- ::
Will this modem even work?  Let's ask the internet
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
can I use a zoom/modem usb model 3090 with redhat 7.2 ?
</STRONG></P>
<P>
The best place to research USB-hardware support problems in Linux is
<A HREF="http://www.linux-usb.org"
	>http://www.linux-usb.org</A>.  You might want to make a 
	note of that, for
the future.  Selecting "Working devices list" on the front page takes
you the Overview page.  From there, we select Devices, since we're
looking up support for a particular hardware device, rather than any of
the other information categories.  We're now shown the dozen or so USB
device categories, and pick "Comm:  Communications devices (Modems)".
This brings us to a long multipage list of modems by manufacturer.
Moving through that to the Zs, eventually finding the line item for
"Zoom Telephonics, Inc. 3090".  Finally, selecting that item brings us
to <A HREF="http://www.qbik.ch/usb/devices/showdev.php?id=660"
	>http://www.qbik.ch/usb/devices/showdev.php?id=660</A>.
</P>
<P>
And it's bad news:
</P>
<BLOCKQuote>
Zoom sales claims this is "a winmodem and will not
work with Linux". Shame.
</BLOCKQuote>
<P>
There's more, but that about sums it up:
This is undoubtedly a unit designed to achieve the lowest possible
retail price by omitting key circuitry normally integral to all modems
(the ROM or "controller" chip implementing required communications
protocols, and/or the UART chip to control and buffer serial
communications).  The omitted functionality is then emulated in software
by MS-Windows-only proprietary "engine' software.
</P>
<P>
If/when you go shopping for a better modem, you might want to consult
Rob Clark's modem database, at
<A HREF="http://www.idir.net/~gromitkc/winmodem.html"
	>http://www.idir.net/~gromitkc/winmodem.html</A>.
</P>

<blockquote><font color="#000066">The real tip here, for newbies and old hands alike;  we can no longer
assume that being external or internal, or which interface a modem is
plugged into, indicates whether it has an incomplete chipset and needs
a booster shot from specialized driver software.  Some manufacturers
offer fully-capable internal modems, and some external ones are duds
like this one.  Use the net resources at <A HREF="http://www.linmodems.org"
	>http://www.linmodems.org</A>,
and if you <EM>decide</EM> to use a supported or partially supported winmodem,
don't expect too much out of it when you have your system under a heavy
CPU load.
 -- Heather</font></blockquote>

<!-- end 17 -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<hr>
<CENTER><SMALL><STRONG>
<h5>This page edited and maintained by the Editors of <I>Linux Gazette</I><br>HTML script maintained by <A HREF="mailto:star@starshine.org">Heather Stern</a> of Starshine Technical Services, <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
<br>Copyright &copy; 2002
<br>Copying license <A HREF="http://www.linuxgazette.net/copying.html">http://www.linuxgazette.net/copying.html</A>
<BR>Published in Issue 85 of <i>Linux Gazette</i>, December 2002</H5>
</STRONG></SMALL></CENTER>
<!-- *** END copyright *** -->
<HR>


<!--startcut ==========================================================-->
<CENTER>
<!-- *** BEGIN navbar *** -->
<IMG ALT="" SRC="../gx/navbar/left.jpg" WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="bottom"><A HREF="lg_mail.html"><IMG ALT="[ Prev ]" SRC="../gx/navbar/prev.jpg" WIDTH="16" HEIGHT="45" BORDER="0" ALIGN="bottom"></A><A HREF="index.html"><IMG ALT="[ Table of Contents ]" SRC="../gx/navbar/toc.jpg" WIDTH="220" HEIGHT="45" BORDER="0" ALIGN="bottom" ></A><A HREF="../index.html"><IMG ALT="[ Front Page ]" SRC="../gx/navbar/frontpage.jpg" WIDTH="137" HEIGHT="45" BORDER="0" ALIGN="bottom"></A><IMG ALT="[ Talkback ]" SRC="../gx/navbar/talkback.jpg" WIDTH="121" HEIGHT="45" BORDER="0" ALIGN="bottom"  ><A HREF="../lg_faq.html"><IMG ALT="[ FAQ ]" SRC="./../gx/navbar/faq.jpg"WIDTH="62" HEIGHT="45" BORDER="0" ALIGN="bottom"></A><A HREF="lg_answer.html"><IMG ALT="[ Next ]" SRC="../gx/navbar/next.jpg" WIDTH="15" HEIGHT="45" BORDER="0" ALIGN="bottom"  ></A><IMG ALT="" SRC="../gx/navbar/right.jpg" WIDTH="15" HEIGHT="45" ALIGN="bottom">
<!-- *** END navbar *** -->
</CENTER>
</BODY></HTML>
<!--endcut ============================================================-->
