<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.3B.f">
<TITLE>The Answer Guy 50: More on Linksys Ether16 Cards</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<H4>"The Linux Gazette...<I>making Linux just a little more fun!</I>"</H4>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Guy</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	LinuxCare,
	<A HREF="http://www.linuxcare.com/">http://www.linuxcare.com/</A> 
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Linksys Ether16 NIC installation issues, as asked...</H3>

<p><em>[ This was our most popular question for answers from the crowd to
	help out the Answer Guy.  So, for those of you who missed it, the
	original question was... -- Heather ]</em></p>

<P><STRONG><FONT COLOR="#000066"><EM>
From Chuck Whinney on Sun, 05 Dec 1999
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000066"><EM>
I cant seem to get my Linksys Ether16 LAN card to work under linux. I turned
off the PnP liek teh linksys website said, and I turned the motherboard
setting from PnP on that IRW to the ISA setting. Linux still never
recognizes it.
</EM></FONT></STRONG></P>
<P><STRONG><FONT COLOR="#000066"><EM>
Any ideas? Thanks! Chuck
</EM></FONT></STRONG></P>

<!--              . . . . . . . . . . . . . . . . . . .              -->
<p><hr width="40%" align="center">
<!-- begin 9 -->
<H3 align="left"><img src="../../gx/dennis/bbubble.gif" 
	height="50" width="60" alt="(!) " border="0"
	>More on Linksys Ether16 Cards</H3>

<p><strong>rabuno answered on Sun, 02 Jan 2000  
</strong></p>
<!-- ::
More on Linksys Ether16 Cards
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<BLOCKQUOTE>
A loyal reader offers this answer to supplement one from
last month.
</BLOCKQUOTE>
<p><strong><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Chuck Whinney (no email) asks you:
</strong></p>

<p><em>[ Nobody's email is listed in Answer Guy messages, because
        I strip them out unless it's actually important to the
        question or commentary.  I believe privacy is important,
        and I won't have spambots harvesting addresses
        via this column.  I've snipped the repeat, as I just did that
	above. -- Heather ]</em></p>

<p><strong><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
The Linksys Ether16 is a nice cheap card.  Out of p-n-p mode it acts like
a NE2000, at least close enough so the Linux ne driver has no trouble
running it.  The card comes with a DOS floppy with the configuration
program, but Chuck shouldn't need to use that unless the card has been
previously used (in a Winxx machine) or unless he wants to set goofy IO
address or IRQ settings. The last couple I've purchased new ($30 at my
local office supply store) came defaulted to NE2000 mode, IRQ=5, IO
address=300.
</strong></p>
<p><strong>
The only possible causes of trouble in Chuck's case, imho, would be:
<ul>
<li> a damaged card or a damaged slot
<li> a conflict with some other device
<li> Linksys has modified their chipset so the card is no longer compatable
</ul>
</strong></p>
<p><strong>
If Chuck continues to have troubles with the card feel free to send him my
email &amp; I can try to help him out.
</strong></p>
<p><strong>
I loyally read your column in LG.  Thanks; you are providing a great
service.  Happy New Year.
</strong></p>

<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Thanks, rabuno.  I occasionally get other clarifications and
corrections, and sometimes I'm not that good about getting them
forwarded into the column.  I'd like to thank everyone who
helped me out on this column last year, and I'd love to be able
to answer all the questions that come to me.  I think I missed
about 400 from last year.  They're still in my "lgaz/2do" folder
in case I get laid up with nothing else to do for a couple of
months during this new millenium.
</BLOCKQUOTE>

<!-- sig -->

<!-- end 9 -->
<!--              . . . . . . . . . . . . . . . . . . .              -->
<HR WIDTH="40%" ALIGN="center">
<!-- begin 12 -->
<H3 align="left"><img src="../../gx/dennis/bbubble.gif" 
	height="50" width="60" alt="(!) " border="0"
	>A Solution to: How to detect Linksys Ether16 Cards</H3>

<p><strong>Claude Baker answered on Sat, 08 Jan 2000  
</strong></p>
<!-- ::
A Solution to: How to detect Linksys Ether16 Cards
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<BLOCKQUOTE>
Here's another reader-contributed answer to using those pesky
NE2000 clone Linksys Ether16 ethernet cards:
</BLOCKQUOTE>
<p><strong><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
        HEIGHT="28" WIDTH="50" BORDER="0"
        >
The writer questions how to detect a LinkSys Ether16 and you suggest
another card.
</strong></p>
<p><strong>
I have that card in a router/firwall box which is based upon a P133 with
a PCI motherboard. I'm ashamed to admit it, but I spent 2-3 months
figuring out how to configure the card. As you might guess, I was
looking in the wrong places because I thought that I was misconfiguring
the routing and masquerading.
</strong></p>
<p><strong>
The Linksys card is an ne2000 clone and it is setup using a DOS utility
found on the driver diskette. The driver software may be downloaded from
the LinkSys site and it is an executable that copies itself to a
floppy.  Once the download is on a floppy, a:\utility\setup queries the
card to display IRQ and I/O addresses. The utility also allows you to
set the desired IRQ, I/O address, and select between RJ-45 or BNC I/O on
the card. All setup choices are saved in non-volatile memory.
</strong></p>
<p><strong>
Setup on my machine also required a change in the Award BIOS - I had to
specify the IRQ I used to be a "Legacy ISA" rather than "PCI/ISA PnP"
for Linux.
</strong></p>
<p><strong>
I spent some time setting up a Linux Router Project distribution for
that machine and have a recollection that in addition to pulling in the
non-PCI ne2000 module, I also needed an 8309 module. My impression is
that the ne2000 is part of the 8309 family.
</strong></p>
<p><strong>
Claude Baker
</strong></p>
<!-- sig -->

<!-- end 12 -->
<!--              . . . . . . . . . . . . . . . . . . .              -->
<HR WIDTH="40%" ALIGN="center">
<!-- begin 25 -->
<H3 align="left"><img src="../../gx/dennis/bbubble.gif" 
	height="50" width="60" alt="(!) " border="0"
	>Linksys Ether16 NIC installation issues</H3>

<p><strong>marcus.post answered on Tue, 11 Jan 2000  
</strong></p>
<!-- ::
More Suggestions on Linksys Ether16
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
I wanted to comment on this because some easy items where missed in
answering this customer. THe chipset is fully supported, being an NE2000
clone that works just fine. If he is having difficulty installing it, here's
where he should check:
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
I got about three or four items to expound on this
message.  Presumably that means that I didn't do a
very good job answering the question.
</BLOCKQUOTE>
<BLOCKQUOTE>
These days I try to forward/respond to corrections and
commentary on the threads in previous months.
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
#1 Conflicts. This is not likely a problem, since the Ether software that
sets the IRQ and I/O of the card checks for conflicts before setting the
resources. If you have not installed new hardware, or turned on any extra on
board peripherals (Serial, Parallel, or USB ports), this shouldn't be an
issue.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
I'm not familiar with this particular NE2000 clone.
Older ethercards commonly were set by pins and jumpers.
I'd also not trust the IRQ detection on an ISA bus.
Classically this has not been reliable.  As you suggest
an installed card which was inactive might not respond
to IRQ probing but could cause problems later  when it
was active.
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
#2 How the driver is loaded. As a shot in the dark, you are likely using
redhat, in which case the best choice is to use Linux Config to set up the
module to load at boot. Most distros will work the same way, but some you
have to manually edit rc.* files. THere is a linux-conf topic for network
interfaces, but I forget what it is called ATM. If you have to edit the rc.*
files, look for a <tt>rc.modules</tt> file; most distrobutions have one with the
network card modules already specified, but commented out. Find the one with
your module ( <tt>ne2k.o</tt> I believe) and uncomment it. In either case, don't
worry about specifying the IRQ; you only need to note the I/O address for
this card. <EM>VERY IMPORTANT</EM> when specifying the I/O port, use "<tt>0x320</tt>"
instead of  "<tt>320</tt>". You have to specify the number is hex, which is '<tt>0x</tt>'. So,
if the software that disabled your plug n play on the card said it was using
port "<tt>330</tt>", tell linux that the port is "<tt>0x330</tt>" Don't expect the module to
autodetect the card: on this card, it almost never works (I own three of
them personally), while autodetect works on other cards, such as my SMC. I
don't know why, but don't count on the module to detect the card.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
I presume you're referring to the '<tt>linuxconf</tt>' program.
I'd suggest using '<tt>insmod</tt>' to load the appropriate loadable
module manually.
</BLOCKQUOTE>
<BLOCKQUOTE>
You make a good point about using the 0x prefix to
indicate that you are providing a hexadecimal address.
Presumably you could convert 0x300 to its decimal equivalent
though I've never tried it.
</BLOCKQUOTE>
<BLOCKQUOTE>
One thing I do like about PCI --- it supports much
easier and robust autodection than the old ISA cards.
</BLOCKQUOTE>
<BLOCKQUOTE>
You also have chosen reasonal I/O port addresses,
0x300, through 0x330 are the most common ethernet I/O
base port mappings.  I've also seen 0x240, and 0x280.
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
#3. I dont know about ISA IRQ changes you made in the BIOS. From personal
experience, they just aren't needed. You sound comfortable enough with them,
so you may want to change them back to normal once you are positve the Linux
configurations are correct and complete.
</STRONG></P>
<P><STRONG>
#4 Standard troubleshooting: If you dont get an error when booting, check
'<tt>ifconfig</tt>'. You may just need to assign the card an address, subnet, et al.
Or, run dhcpcd if you have a DHCP server/cable modem/DSL router/whatever.
Try a different ISA slot. If all looks good locally, but you cant reach
outside of your own box, check your cables, subnet mask. First answer if the
problem is hardware or software. Tackle it logically.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
I thought he specified that he was getting <tt>SIOCSIFADDR:</tt>
errors (meaning that the driver isn't seeing the interface).
If you can successfully set an address etc. with
'<tt>ifconfig</tt>' then you should check for external connections,
link lights, and similar problems.
</BLOCKQUOTE>
<BLOCKQUOTE>
I have found that some 10/100 ethernet cards seem to be
"allergic" to some hubs.  So be sure to try a "known
working" connection.
</BLOCKQUOTE>
<BLOCKQUOTE>
In particular I don't like the Linksys hubs, but I've
never had problems with the Netgear products.
</BLOCKQUOTE>
<BLOCKQUOTE>
Running tcpdump on your interface can be a useful was
to check for functionality.  That should work so long
as there is any traffic on the segment and the driver
is loaded correctly.  Thus you can isolate it to
the higher level (addressing, masking, routing tables)
or the lower (driver kernel, or physical link layer).
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Best of luck,
<br>Toodles
</STRONG></P>

<!-- sig -->

<!-- end 25 -->
<!--startcut ======================================================= -->
<P> <hr> <P>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 2000, James T. Dennis 
<BR>Published in <I>The Linux Gazette</I> Issue 50 February 2000</H5>
<H6 ALIGN="center">HTML transformation  by
	<A HREF="mailto:star@starshine.org">Heather Stern</a> of
	Starshine Technical Services,
	<A HREF="http://www.starshine.org/">http://www.starshine.org/</A> 
</H6>
<P> <hr> <P>
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<TABLE WIDTH="95%"><TR VALIGN="center" ALIGN="center">
<TD colspan="2" rowspan="2"><A 
	HREF="../lg_answer50.html"
	><IMG SRC="../../gx/dennis/answernew.gif"
              ALT="[ Answer Guy Current Index ]"></A>
<TD colspan="2" rowspan="2"><A 
	HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answertoc.gif"
              ALT="[ Index of Past Answers ]"></A></td>
  <TD WIDTH="11%"><A HREF="../lg_answer50.html#greeting"><img
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A></TD>
  <TD WIDTH="11%"><A HREF="1.html">1</A></TD>
  <TD WIDTH="11%"><A HREF="2.html">2</A></TD>
  <TD WIDTH="11%"><A HREF="3.html">3</A></TD>
  <TD WIDTH="11%"><A HREF="4.html">5</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="11%"><A HREF="5.html">5</A></TD>
  <TD WIDTH="11%"><A HREF="6.html">6</A></TD>
  <TD WIDTH="11%"><A HREF="7.html">7</A></TD>
  <TD WIDTH="11%"><A HREF="8.html">8</A></TD>
  <TD WIDTH="11%"><A HREF="9.html">9</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="10.html">10</A></TD>
  <TD WIDTH="10%"><A HREF="11.html">11</A></TD>
  <TD WIDTH="10%">&nbsp;</TD>
  <TD WIDTH="10%"><A HREF="13.html">13</A></TD>
  <TD WIDTH="11%"><A HREF="14.html">14</A></TD>
  <TD WIDTH="11%"><A HREF="15.html">15</A></TD>
  <TD WIDTH="11%"><A HREF="16.html">16</A></TD>
  <TD WIDTH="11%"><A HREF="17.html">17</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="18.html">18</A></TD>
  <TD WIDTH="10%"><A HREF="19.html">19</A></TD>
  <TD WIDTH="10%"><A HREF="20.html">20</A></TD>
  <TD WIDTH="10%"><A HREF="21.html">21</A></TD>
  <TD WIDTH="11%"><A HREF="22.html">22</A></TD>
  <TD WIDTH="11%"><A HREF="23.html">23</A></TD>
  <TD WIDTH="11%"><A HREF="24.html">24</A></TD>
  <TD WIDTH="11%">&nbsp;</TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="26.html">26</A></TD>
  <TD WIDTH="10%"><A HREF="27.html">27</A></TD>
  <TD WIDTH="10%"><A HREF="28.html">28</A></TD>
  <TD WIDTH="10%"><A HREF="29.html">29</A></TD>
  <TD WIDTH="11%"><A HREF="30.html">30</A></TD>
  <TD WIDTH="11%"><A HREF="31.html">31</A></TD>
  <TD WIDTH="11%"><A HREF="32.html">32</A></TD>
  <TD WIDTH="11%"><A HREF="33.html">33</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="34.html">34</A></TD>
  <TD WIDTH="10%">&nbsp;</TD>
  <TD WIDTH="10%"><A HREF="36.html">36</A></TD>
  <TD WIDTH="10%"><A HREF="37.html">37</A></TD>
  <TD WIDTH="11%"><A HREF="38.html">38</A></TD>
  <TD WIDTH="11%"><A HREF="39.html">39</A></TD>
  <TD WIDTH="11%"><A HREF="40.html">42</A></TD>
  <TD WIDTH="11%"><A HREF="41.html">41</A></TD>
</TR><TR VALIGN="center" ALIGN="center">
  <TD WIDTH="10%"><A HREF="42.html">42</A></TD>
  <TD WIDTH="10%"><A HREF="43.html">43</A></TD>
  <TD WIDTH="10%"><A HREF="44.html">44</A></TD>
  <TD WIDTH="10%"><A HREF="45.html">45</A></TD>
  <TD WIDTH="11%"><A HREF="46.html">46</A></TD>
  <TD WIDTH="11%"><A HREF="47.html">47</A></TD>
  <TD WIDTH="11%"><A HREF="48.html">48</A></TD>
</TR></TABLE>
</TR><TR VALIGN="center" ALIGN="center">
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> <P>
<!-- begin lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<A HREF="../index.html"
	><IMG SRC="../../gx/indexnew.gif" ALT="[ Table Of Contents ]"></A>
<A HREF="../../index.html"
	><IMG SRC="../../gx/homenew.gif" ALT="[ Front Page ]"></A>
<A HREF="../lg_bytes50.html"
	><IMG SRC="../../gx/back2.gif" ALT="[ Previous Section ]"></A>
<A HREF="../../faq/index.html"
	><IMG SRC="../../gx/dennis/faq.gif"
              ALT="[ Linux Gazette FAQ ]"></A>
<A HREF="../lg_tips50.html"
	><IMG SRC="../../gx/fwd.gif" ALT="[ Next Section ]"></A>
<!-- end lgnav ::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
