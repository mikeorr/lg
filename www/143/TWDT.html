<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>
Linux Gazette : October 2007 (#143) 
</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="../lg.css" rel="stylesheet" type="text/css" media="screen, projection" />

<style type="text/css" media="screen, projection">
<!--

.twdtarticle {
	width: 84%;
}

.twdtarticle h1 {
	font-size:19px;
	text-align:center;
}

.lgcontent {
        width: 84%;
        margin-top: 30px;
}

-->
</style>

</head>

<body id="twdtbody">

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" alt="Linux Gazette" id="twdtlogo"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">

<a href="../index.html">Home</a>
<a href="../faq/index.html">FAQ</a>
<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>
</div>

<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt;
<a href="index.html">October 2007 (#143)</a> &gt;
TWDT

</div>


<div class="content lgcontent">

<h2>October 2007 (#143):</h2>

<ul>

	<li><a href="#lg_mail">Mailbag</a>

	<li><a href="#lg_mail2">Mailbag1</a>

	<li><a href="#lg_mail3">An Ongoing Discussion of Open Source Licensing Issues</a>

	<li><a href="#lg_talkback">Talkback</a>

	<li><a href="#lg_tips">2-Cent Tips</a>

	<li><a href="#lg_bytes">NewsBytes</a>, by <i>Howard Dyckoff</i></li>

	<li><a href="#anonymous">Linux Console Scrollback</a>, by <i>Anonymous</i></li>

	<li><a href="#pfeiffer">Securing Apache Web Server with mod_security</a>, by <i>Ren&eacute; Pfeiffer</i></li>

	<li><a href="#saha">Introducing Python Pickling</a>, by <i>Amit Kumar Saha</i></li>

	<li><a href="#sephton">A Question Of Rounding</a>, by <i>Paul Sephton</i></li>

	<li><a href="#collinge">HelpDex</a>, by <i>Shane Collinge</i></li>

	<li><a href="#ecol">Ecol</a>, by <i>Javier Malonda</i></li>

</ul>

</div>



<br />


<div class="content lgcontent">

<a name="lg_mail"></a>
<h1>Mailbag</h1>

</b>
</p>

<p>
<h3>This month's answers created by:</h3><strong>[  Amit Kumar Saha, Ben Okopnik, Faber Fedor, Kapil Hari Paranjape, Ren&eacute; Pfeiffer, MNZ, Neil Youngman, Rick Moen, Suramya Tomar, Mike Orr (Sluggo), Steve Brown, Thomas Adam  ]</strong>
<br />...and you, our readers!<br /><hr width="50%" align="center" size="3" /><h2>Editor's Note</h2>

<p>You may have noticed the absence of Mailbag, Talkback, and other
mail-related features of LG in the previous edition (LG#142) - your Mailbag
Editor was engaged in an urgent project launch (the birth of our son,
Michael Kaishu Okopnik) just as the LG editorial cycle started. I'm
compiling this edition with the "help" of our newest staffer, who waves his
first "Hello, World!" to the LG readership.<br>
 -- Kat
</p>
 
<hr width="50%" align="center" size="3" /><h1>Our Mailbag</h1>
<hr />

<!-- Thread anchor: Bash Ref. Manual 8.4.3 Commands for Changing Text --><a name='bash_ref_manual_8_4_3_commands_for_changing_text'></a>
<h3>Bash Ref. Manual 8.4.3 Commands for Changing Text</h3>
<p>
<b><p>
tuxsun1 [tuxsun1 at gmail.com]
</p>
</b><br />
<b>Tue, 04 Sep 2007 12:01:58 -0500</b>
</p>

<p>
I do not understand how to implement negative arguments as documented in
the following excerpts from the Bash Reference Manual, Chapter 8.
Command Line Editing, Section 8.4 Bindable Readline Commands,
sub-section 8.4.3 Commands for Changing Text:
</p>

<pre>
|upcase-word (M-u)|
    Uppercase the current (or following) word. With a negative argument,
    uppercase the previous word, but do not move the cursor.
 
|downcase-word (M-l)|
    Lowercase the current (or following) word. With a negative argument,
    lowercase the previous word, but do not move the cursor.
 
|capitalize-word (M-c)|
    Capitalize the current (or following) word. With a negative
    argument, capitalize the previous word, but do not move the cursor.
</pre>
Pressing ALT-u, ALT-l, or ALT-c to uppercase, lowercase, or capitalize
the current (or following) word is very straightforward.
</p>

<p>
But for the life of me I'm baffled as to what they mean, "With a
negative argument," to uppercase, lowercase, or capitalize the previous
word.
</p>

<p>
What negative argument? From where? What keystroke(s)? I'm lost as to
how to uppercase, lowercase, or capitalize the previous word.
</p>

<p>
What am I missing in their explanation?
</p>

<p>
Thank you in advance!
</p>

<p>
John
</p>


<p>

</p>

<p><b>[  <a name="mb-bash_ref_manual_8_4_3_commands_for_changing_text"></a> <a href="misc/lg/bash_ref_manual_8_4_3_commands_for_changing_text.html">Thread continues here (2 messages/2.74kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Sound problems after Kubuntu upgrade --><a name='sound_problems_after_kubuntu_upgrade'></a>
<h3>Sound problems after Kubuntu upgrade</h3>
<p>
<b><p>
Mike Orr [sluggoster at gmail.com]
</p>
</b><br />
<b>Sat, 11 Aug 2007 11:48:07 -0700</b>
</p>

<p>
My sound isn't working right.  How do I fix it?
</p>

<p>
Seriously, I upgraded from Kububtu 6.10 to 7.04 in a different root
partition, though they're sharing the same home partition.  Now where
the old system makes a big sound, the new system makes a teensy-weensy
little sound.  I go back and startle the neighbors; I sally ho (or ho
Sally), and I have to wait till the refrigerator shuts off to hear the
sound.
</p>

<p>
The configuration in both appears to be identical.  KInfoCenter says
it's a VIA 8237 device with ALC655, Type 10 ALSA emulation.  KMix has
"Master" and "PCM" unmuted and their volumes near maximum.  In the
Switches tab, all the lights are off except "External Amplifier",
which doesn't do anything either way.
</p>

<p>
The KDE Peripherals dialog has "Enable the sound system", "Run with
the highest possible priority", "sound buffer as large as possible",
"auto-suspend if idle after 60 seconds", "autodetect audio device",
"default quality", "Midi through midi through port-0 - ALSA device".
The test sound is quiet and distorted on the new system, but loud and
clear on the old one.
</p>

<pre>-- 
Mike Orr &lt;sluggoster@gmail.com&gt;
</pre>

<p><b>[  <a name="mb-sound_problems_after_kubuntu_upgrade"></a> <a href="misc/lg/sound_problems_after_kubuntu_upgrade.html">Thread continues here (9 messages/11.29kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Clock problem --><a name='clock_problem'></a>
<h3>Clock problem</h3>
<p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]
</p>
</b><br />
<b>Sun, 5 Aug 2007 20:28:53 +0200</b>
</p>

<p>
<p class="editorial">
[[[  This is a followup to a question published previously.
<a href="../141/lg_mail.html">http://linuxgazette.net/141/lg_mail.html</a> - Kat  ]]]
</p>

</p>

<p>
On Jul 30, 2007 at 1227 +1200, Jimmy Kaifiti appeared and said:
</p>

<pre>
&gt;Hi , my name is Jimmy,can anyone help me fix the time on my PC.  I
&gt;change the Battery so many time ,I mean the new CMOS Battery ,but my
&gt;time is still not read correct
</pre>

<p>
What hardware are you using? Which operating system do you use on top of
this hardware? What did you try to keep the system clock in sync?
</p>

<p>
Modern PC hardware has several time sources, and not all mainboards
have reliable counters for keeping the time in synchronisation. The CMOS
battery may be one source of problems, but if you use an operating
system with a Linux kernel it will read the time from the nonvolatile
RAM on your board only once when booting. If you correct your time after
that you may have to write it to the nonvolatile RAM on your board. This
can be done with commands such as "hwclock --systohc" or similar.
</p>

<p>
Here is some information on the difficult task of keeping the system
time sufficiently accurate:
</p>

<p>
<a href="http://www.beaglesoft.com/mainfaqclock.htm">http://www.beaglesoft.com/mainfaqclock.htm</a>
</p>

<p>
<a href="http://www.linux-mag.com/id/866/">http://www.linux-mag.com/id/866/</a>
</p>

<p>
<a href="http://susefaq.sourceforge.net/howto/time.html">http://susefaq.sourceforge.net/howto/time.html</a>
</p>

<p>
<a href="http://www.ntp.org/">http://www.ntp.org/</a>
</p>

<p>
<a href="http://cr.yp.to/clockspeed.html">http://cr.yp.to/clockspeed.html</a>
</p>

<p>
Best wishes,
Ren&eacute;.
</p>


<p>

</p>

<hr />


<!-- Thread anchor: Things Debian Project Leaders Do --><a name='things_debian_project_leaders_do'></a>
<h3>Things Debian Project Leaders Do</h3>
<p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]
</p>
</b><br />
<b>Sun, 5 Aug 2007 12:46:49 +0200</b>
</p>

<p>
<p class="editorial">
[[[  This is a followup to
<a href="../141/misc/lg/things_debian_project_leaders_do.html">http://linuxgazette.net/141/misc/lg/things_debian_project_leaders_do.html</a>
- Kat  ]]]
</p>

</p>

<p>
On Jul 27, 2007 at 1004 -0400, Ben Okopnik appeared and said:
</p>

<pre>
&gt; [...]
&gt; I seem to recall a couple of programs in the Debian kit that do
&gt; something like this by feeding random data to apps, but this one seems
&gt; to be a real star. E.g., <a href="http://sam.zoy.org/zzuf/lol-firefox.gif">http://sam.zoy.org/zzuf/lol-firefox.gif</a> crashes
&gt; my Firefox (1.5.0.11) very nicely - one-click functionality. <img src="../gx/smile.png" alt=":)">
</pre>

<p>
It does even crash the latest 2.0.0.6 Iceweasel with the same one-click
functionality. Maybe one of the libraries doesn't like it.=20
</p>


<pre>
&gt; [...] I haven't taught a security class in a
&gt; while, but it seems like 'zzuf' would make a <em>very</em> nice teaching aid
&gt; for when I'm explaining vulnerability discovery. [...]
</pre>

<p>
I have some workshops on this topic in October and November, and thanks
to Kapil the students will have a new toy. <img src="../gx/smile.png" alt=":)">
</p>

<p>
Best wishes,
Ren&eacute;,
just returned from the Adriatic coast.
</p>


<p>

</p>

<p><b>[  <a name="mb-things_debian_project_leaders_do"></a> <a href="misc/lg/things_debian_project_leaders_do.html">Thread continues here (3 messages/2.49kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Extending GIMP Plugins --><a name='extending_gimp_plugins'></a>
<h3>Extending GIMP Plugins</h3>
<p>
<b><p>
Amit Kumar Saha [amitsaha.in at gmail.com]
</p>
</b><br />
<b>Tue, 21 Aug 2007 15:34:53 +0530</b>
</p>

<p>
Hello all,
</p>

<p>
GIMP plugins extend GIMP, we know that.
</p>

<p>
Is there any way to make GIMP plugins themselves extensible. My point
here is that, can we make a GIMP plugin which allows itself modifiable
by a end-user to include a new functionality without much of a hassle
on part of the end-user. Does any one know of a method to do this or
any GIMP plugin which already does this?
</p>

<p>
I would appreciate even the slightest of insights.
</p>

<p>
Thanks a lot!
</p>

<p>
Regards
<pre>-- 
Amit Kumar Saha
[URL]:<a href="http://amitsaha.in.googlepages.com">http://amitsaha.in.googlepages.com</a>
</pre>

<p><b>[  <a name="mb-extending_gimp_plugins"></a> <a href="misc/lg/extending_gimp_plugins.html">Thread continues here (2 messages/2.01kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Latex Editors --><a name='latex_editors'></a>
<h3>Latex Editors</h3>
<p>
<b><p>
Amit Kumar Saha [amitsaha.in at gmail.com]
</p>
</b><br />
<b>Sun, 26 Aug 2007 00:36:35 +0530</b>
</p>

<p>
<p class="editorial">
[[[  This is a followup to
<a href="../141/misc/lg/latex_editors.html">http://linuxgazette.net/141/misc/lg/latex_editors.html</a> - Kat  ]]]
</p>

</p>

<p>
Hi all,
</p>

<p>
Its been a long time since this thread was alive. Well, during this
phase I just completed a project report, completely prepared in LATEX,
my first. I used Kile (kile.sourceforge.net) for my purpose. I was too
dumb probably to either even try the Vim or Emacs extensions as
suggested.
</p>

<p>
oh yes, the report has got such a neat, professional look to it.
Thanks to Latex!
</p>

<p>
Thank you all for all the suggestions.
</p>

<p>
Regards
</p>

<pre>-- 
Amit Kumar Saha
[URL]:<a href="http://amitsaha.in.googlepages.com">http://amitsaha.in.googlepages.com</a>
</pre>

<hr />


<!-- Thread anchor: I have a silly question --><a name='i_have_a_silly_question'></a>
<h3>I have a silly question</h3>
<p>
<b><p>
dinesh sikhwal [disikh at yahoo.com]
</p>
</b><br />
<b>Sun, 19 Aug 2007 03:22:11 -0700 (PDT)</b>
</p>

<p>
<p class="editorial">
[[[  The original subject for this thread was
"Talkback:128/lg_foolish.html". The only truth in that was the foolish
part. No connection at all to the alleged inspiration, so I've taken the
liberty of renaming it.  And who's surprised that this came in as html
mail? - Kat  ]]]
</p>

</p>

<p>
GD AFER NOON, ACTUALLY M STUFENT OF B.E. FINAL YR. I M FRESH  FOR LINUX
SO I WANT TO MAKE A PROJECT IN LINUX JUST LIKE A SMALL PROJECT AND THAT
WIIL B VERY USEFUL AND INTERESTING.
</p>

<p>
       

</p>

<p><b>[  <a name="mb-i_have_a_silly_question"></a> <a href="misc/lg/i_have_a_silly_question.html">Thread continues here (3 messages/2.41kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Random Numbers --><a name='random_numbers'></a>
<h3>Random Numbers</h3>
<p>
<b><p>
MNZ [mnzaki at gmail.com]
</p>
</b><br />
<b>Tue, 7 Aug 2007 17:48:20 +0300</b>
</p>

<p>
Hey Gang,
A question about computer "generated" random numbers, in short how
random are they really?
</p>

<p>
I was trying to write this little perl script to play random songs and
I noticed it tends to repeat a certain collection of songs (which
changes everyday, or even every couple of hours). So what's really
happening?
</p>

<p>
Thanks.
<pre>-- 
//MNZ\\
</pre>

<p><b>[  <a name="mb-random_numbers"></a> <a href="misc/lg/random_numbers.html">Thread continues here (19 messages/25.62kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Shuttle-SD39P2 --><a name='shuttle_sd39p2'></a>
<h3>Shuttle-SD39P2</h3>
<p>
<b><p>
Thomas Adam [thomas.adam22 at gmail.com]
</p>
</b><br />
<b>Tue, 14 Aug 2007 22:21:40 +0100</b>
</p>

<p>
<p class="editorial">
[[[  This is a followup to
<a href="../141/misc/lg/shuttle_sd39p2__should_i_buy_one.html">http://linuxgazette.net/141/misc/lg/shuttle_sd39p2__should_i_buy_one.html</a>
- Kat  ]]]
</p>

</p>

<p>
---------- Forwarded message ----------
<pre>
From: Paul &lt;sayhellotopaul@gmail.com&gt;
Date: 14-Aug-2007 22:20
Subject: Shuttle-SD39P2
To: thomas.adam22@gmail.com
</pre>

<p>
Hi,
</p>

<p>
I read that you are using the above Shuttle and I am thinking about
getting one myself. I was wondering though what graphics did you use
and whether it is so silent that you do not notice it or that you can
hear it but it is not bothering at all. I am thinking about getting a
8800gts, but am not sure whether it will be too loud for the system..
I would appreciate your info!
</p>

<p>
Paul
</p>

<p>

</p>

<p><b>[  <a name="mb-shuttle_sd39p2"></a> <a href="misc/lg/shuttle_sd39p2.html">Thread continues here (2 messages/3.44kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: C Programming [Debian Issues] --><a name='c_programming_debian_issues'></a>
<h3>C Programming [Debian Issues]</h3>
<p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]
</p>
</b><br />
<b>Fri, 17 Aug 2007 17:32:13 +0200</b>
</p>

<p>
Hello, Steve!
</p>

<p>
On Aug 17, 2007 at 1607 +0100, Steve Brown appeared and said:
</p>

<pre>
&gt; [...]
&gt; Do you know, sometimes getting an answer just allows you to think of
&gt; more questions. I'm off to look into C programming again all because
&gt; of one little email and make as well.
</pre>

<p>
I know what you mean. <img src="../gx/smile.png" alt=":)"> While you are at it, I can recommend the book
"Deep C Secrets" written by Peter van der Linden.
<a href="http://www.taclug.org/booklist/development/C/Deep_C_Secrets.html">http://www.taclug.org/booklist/development/C/Deep_C_Secrets.html</a>
</p>

<p>
The book holds treasures of tips, hints and plain shocks for all who
know C and like to revisit their skills. The author packs everything
into a kind of technical novel with lots of entertaining examples.
</p>

<p>
Best,
Ren&eacute;,
who also did a <em>lot</em> of C stuff on the Amiga.
</p>


<p>

</p>

<p><b>[  <a name="mb-c_programming_debian_issues"></a> <a href="misc/lg/c_programming_debian_issues.html">Thread continues here (8 messages/7.71kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: dfsbuild --><a name='dfsbuild'></a>
<h3>dfsbuild</h3>
<p>
<b><p>
Suramya Tomar [security at suramya.com]
</p>
</b><br />
<b>Tue, 14 Aug 2007 20:03:17 +0530</b>
</p>

<p>
Hey Mohsen,
  Sorry I have no idea of what that particular error means as I have 
never seen it before. I am cc'ing this email to the TAG (The Answer 
Gang) @Linux Gazette and maybe one of the smart people who frequent the 
list might be able to help you with this.
</p>

<p>
TAG: Got this email a few days ago. Any idea whats causing this error 
and how to fix it?
</p>


<pre>
&gt; Dear Suramya, 
&gt; I have readed Steve article,(Thanks Steve),
&gt; i wanna DFS &amp; i wrote a dfs.cfg which i attached it.
&gt; i run following command:
&gt; dfsbuild -V -c /etc/dfsbuild/dfs.cfg -w /myworkdir
&gt; It works good,It retrieve packages while i get receive following message:
&gt; <strong>**************************************************************</strong>
&gt; D: Return code: 0
&gt; D: call action: helper-remove
&gt; P: Deconfiguring helper cdebootstrap-helper-makedev
&gt; D: Execute "dpkg -P cdebootstrap-helper-makedev" in chroot
&gt; O: (Reading database ...
&gt; O: 7141 files and directories currently installed)
&gt; D: Return code: 0
&gt; D: call action: apt-cleanup
&gt; D: Execute "apt-get update" in chroot
&gt; O: Reading packages lists...
&gt; O:
&gt; D: Return code:0
&gt; P: Writing apt sources.list
&gt; [dfs/DEBUG] Saving sources.list
&gt; [dfs/CRITICAL] Exception: (NoOption "mirror","get (i386/mirror)")
&gt; dfsbuild: (NoOption "mirror","get (i386/mirror)")
&gt; <strong>*********************************************************************</strong>
&gt; I know that 0 code is correct action.But 2 or 3 last line confused me....
&gt; Please help me......
&gt; 
</pre>

<p>
Thanks,
  Suramya
</p>

<pre>-- 
<pre>
Name : Suramya Tomar
Homepage URL: <a href="http://www.suramya.com">http://www.suramya.com</a>
</pre>
</pre>************************************************************
</p>


<p>

</p>

<p><b>[  <a name="mb-dfsbuild"></a> <a href="misc/lg/dfsbuild.html">Thread continues here (2 messages/2.78kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Problem with openvpn certificate Revoke --><a name='problem_with_openvpn_certificate_revoke'></a>
<h3>Problem with openvpn certificate Revoke</h3>
<p>
<b><p>
Smile Maker [britto_can at yahoo.com]
</p>
</b><br />
<b>Tue, 21 Aug 2007 04:49:24 -0700 (PDT)</b>
</p>

<p>
Folks,
</p>

<p>
 I am running openvpn-2.0.9-1 in Fedora core 4.I installed as rpm.
</p>

<p>
When i try to revoke the certificate from the data base  , I am getting the following error 
</p>

<pre>
"Using configuration from /etc/openvpn/easy-rsa/openssl.cnf
error on line 282 of config file '/etc/openvpn/easy-rsa/openssl.cnf'
6819:error:0E065068:configuration file routines:STR_COPY:variable has no value:conf_def.c:629:line 282
Using configuration from /etc/openvpn/easy-rsa/openssl.cnf
error on line 282 of config file '/etc/openvpn/easy-rsa/openssl.cnf'
6820:error:0E065068:configuration file routines:STR_COPY:variable has no value:conf_def.c:629:line 282
cat: crl.pem: No such file or directory "
</pre>
Can u guys help me out
</p>

<pre>-- 
Britto
</pre>

<p><b>[  <a name="mb-problem_with_openvpn_certificate_revoke"></a> <a href="misc/lg/problem_with_openvpn_certificate_revoke.html">Thread continues here (2 messages/2.54kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Debian Issues --><a name='debian_issues'></a>
<h3>Debian Issues</h3>
<p>
<b><p>
Amit Kumar Saha [amitsaha.in at gmail.com]
</p>
</b><br />
<b>Fri, 17 Aug 2007 14:45:25 +0530</b>
</p>

<p>
hello,
</p>

<p>
I have been facing a couple of "weird" issues on Debian 4.0
</p>

<p>
1. Every time (on a new boot) I have to "listen" to a video song, I
have to run "alsaconf". I can see the video and listen to audio files
but not the video songs until i run "alsaconf"
</p>

<p>
2. GCC reports linker error while using "sin", "cos", etc. However it
is solved when i append a "-lm" during compilation
</p>

<p>
Waiting for some insights!
</p>

<p>
Thanks
</p>

<pre>-- 
Amit Kumar Saha
[URL]:<a href="http://amitsaha.in.googlepages.com">http://amitsaha.in.googlepages.com</a>
</pre>

<p><b>[  <a name="mb-debian_issues"></a> <a href="misc/lg/debian_issues.html">Thread continues here (20 messages/24.13kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: XMMS2 (Was: Random Numbers) --><a name='xmms2_was__random_numbers'></a>
<h3>XMMS2 (Was: Random Numbers)</h3>
<p>
<b><p>
Thomas Adam [thomas at edulinux.homeunix.org]
</p>
</b><br />
<b>Wed, 15 Aug 2007 00:19:07 +0100</b>
</p>

<p>
On Tue, Aug 07, 2007 at 06:03:18PM +0200, Ren? Pfeiffer wrote:
</p>

<pre>
&gt; On Aug 07, 2007 at 1637 +0100, Thomas Adam appeared and said:
&gt; &gt; On 07/08/07, Ren? Pfeiffer &lt;lynx@luchs.at&gt; wrote:
&gt; &gt; &gt; You could probably add a counter per song and check if the selected song
&gt; &gt; &gt; was played more than $n times and prefer a song that was played less
&gt; &gt; &gt; times.
&gt; &gt; 
&gt; &gt; "Collections".  XMMS2 allows for this:
&gt; &gt; 
&gt; &gt; <a href="http://wiki.xmms2.xmms.se/index.php/Collections">http://wiki.xmms2.xmms.se/index.php/Collections</a>
&gt; 
&gt; Oh, I missed that feature apparently (but I am still "stuck" with
&gt; xmms1, too lazy to upgrade).
</pre>

<p>
It's not a straight upgrade -- the design of XMMS2 is completley different
to XMMS1.  You can't compare the two.  In many respects, XMMS2 mimicks how
MPD works, in that it's a client/server idea.
</p>

<p>
The GUi tools for it are all still in development.  It lacks anything like
ncmpc for the console though, alas.  Something I am considering porting,
actually.
</p>

<p>
-- Thomas Adam
</p>

<pre>-- 
"He wants you back, he screams into the night air, like a fireman going
through a window that has no fire." -- Mike Myers, "This Poem Sucks".
</pre>

<hr />


<!-- Thread anchor: PPM Image Reader in C --><a name='ppm_image_reader_in_c'></a>
<h3>PPM Image Reader in C</h3>
<p>
<b><p>
Amit Kumar Saha [amitsaha.in at gmail.com]
</p>
</b><br />
<b>Fri, 17 Aug 2007 11:47:38 +0530</b>
</p>

<p>
Hi all,
</p>

<p>
Has anyone got a "ready-made" PPM image reading program in C? I have to meet
a deadline for a project, so it would really be useful if anyone could
provide me with such a program.
</p>

<p>
Thanks
</p>

<pre>-- 
Amit Kumar Saha
[URL]:<a href="http://amitsaha.in.googlepages.com">http://amitsaha.in.googlepages.com</a>
</pre>

<p><b>[  <a name="mb-ppm_image_reader_in_c"></a> <a href="misc/lg/ppm_image_reader_in_c.html">Thread continues here (6 messages/4.40kB)</a>  ]</b></p>
<hr />


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/lg_mail.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="lg_mail2"></a>
<h1>Mailbag1</h1>

</b>
</p>

<p>
<h3>This month's answers created by:</h3><strong>[  Ben Okopnik, Rick Moen  ]</strong>
<br />...and you, our readers!<br /><hr width="50%" align="center" size="3" /><h2>Editor's Note</h2><p>These are the e-mail exchanges that lead to Rick Moen's Domain
Expiration article in LG142 (<a href="http://linuxgazette.net/142/moen.html">http://linuxgazette.net/142/moen.html</a>)</p> 
<hr width="50%" align="center" size="3" /><h1>Our Mailbag</h1>
<hr />

<!-- Thread anchor: V. 3.2 results on all possible domains --><a name='v_3_2_results_on_all_possible_domains'></a>
<h3>V. 3.2 results on all possible domains</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Tue, 14 Aug 2007 14:55:33 -0700</b>
</p>

<p>
I wrote to Ben, early Monday:
</p>


<pre>
&gt; OK, I've finished testing all 270 TLDs.
</pre>

<p>
271.  As an extreme oddity, it turns out that .arpa is both a valid TLD
and serves up meaningful port-43 WHOIS data.  See:
<a href="http://en.wikipedia.org/wiki/.arpa">http://en.wikipedia.org/wiki/.arpa</a>   (DNS admins know .arpa from their
reverse-DNS zonefiles, but there are other portions of the namespace.)
</p>

<p>
However, .arpa's WHOIS data lacks expiration dates, FWIW.
</p>

<p>
<a href="http://en.wikipedia.org/wiki/Category:Generic_top-level_domains">http://en.wikipedia.org/wiki/Category:Generic_top-level_domains</a> points 
out a variety of other wacky valid TLDs and proposed TLDs, but none
other than .arpa is both valid and serves WHOIS data.
</p>

<p>
My favourite of the wacky TLDs is .root, described here:
<a href="http://en.wikipedia.org/wiki/Vrsn-end-of-zone-marker-dummy-record.root">http://en.wikipedia.org/wiki/Vrsn-end-of-zone-marker-dummy-record.root</a>
</p>


<pre>
&gt; As noted, .my, .tk, and .tw aren't yet handled, but can be.
</pre>

<p>
Ben, no hurry, but any time you can tweak the regexes for those three
final additions, it would be good.
</p>

<p>
Other readers:
<a href="http://linuxmafia.com/pub/linux/network/domain-check-testdata">http://linuxmafia.com/pub/linux/network/domain-check-testdata</a> has notes,
and the latest release of domain-check is in that directory.
</p>


<p>

</p>

<p><b>[  <a name="mb-v_3_2_results_on_all_possible_domains"></a> <a href="misc/lg/v_3_2_results_on_all_possible_domains.html">Thread continues here (6 messages/8.33kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Domain auto-renew mechanisms --><a name='domain_auto_renew_mechanisms'></a>
<h3>Domain auto-renew mechanisms</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Mon, 6 Aug 2007 15:32:50 -0700</b>
</p>

<p>
I figured this will be of general interest.  Ben and I (with Ben doing
the real work) have been working, off and on, on a scriptable mechanism 
for checking a list of Internet domains for impending expirations, and 
then do some sort of appropriate notification.  Ben's Perl script,
"domain-check", for this purpose relies on the commodity open-source
client for the TCP port 43 "WHOIS" information service, offered by most
domain registries.
</p>

<p>
We've run into a fascinating tangle of complications, most of them
(primarily) non-technical.  It's been a lovely case study in all of the
manifold ways that the interface between people and automated systems
can go wrong.
</p>

<p>
Domain registrars (typically) don't <em>want</em> their customers' domains to
expire:  That leads to loss of business, after all -- though most are
pleased to put expired domains in a "held" state for a while, in which
one can ransom them back for significant money.  Registrars have a few 
ways to help customers avoid accidental expiration:  One of them is 
called "auto-renew".  With this feature enabled for one's domain (now a
default setting at many registrars), the registrar will attempt to
charge a renewal fee to the customer's credit card of record, at some
time prior to -- or exactly at -- the time of expiration.
</p>

<p>
<em>Most</em> registrars' implementation of that idea involves, say, three
successive attempts to charge the customer's credit card, at, say, 
30 days from expiration, 20 days, and then 10 days -- or something like
that.  At least, I recall seeing such a policy once or twice:  I think
Joker.com does that, for example.
</p>

<p>
But then there's Gandi.net, of France.  Look at the first line of the
domain-check report below:
</p>


<p>
----- Forwarded message from root &lt;root@linuxmafia.com&gt; -----
</p>

<pre>
Date: Sun, 5 Aug 2007 08:46:12 -0700
To: rick@linuxmafia.com
Subject: domain-check: Expired domains
From: root &lt;root@linuxmafia.com&gt;
</pre>
According to 'whois', the following domains have expired:
</p>

<p>
laconiv.org (0 days ago)
nic.edu (5 days ago)
nic.cx (7 days ago)
nic.hm (280 days ago)
</p>

<p>
----- End forwarded message -----
</p>


<p>
I've corresponded with Chaz Boston-Baden (a friend), owner of the
laconiv.org domain (which was the site of the recent World Science 
Fiction Convention in Los Angeles, L.A.con IV):  He thanked me for 
keeping laconiv.org on my monitoring list, and assured me that he's
arranged with Gandi.net, his registrar, to auto-renew.
</p>

<p>
Here's the relevant snippet from WHOIS:
</p>

<p>
$ whois laconiv.org | more
[Querying whois.publicinterestregistry.net]
[whois.publicinterestregistry.net]
[...]
Domain ID:D99628485-LROR
Domain Name:LACONIV.ORG
Created On:06-Aug-2003 22:18:41 UTC
Last Updated On:10-Sep-2005 01:00:04 UTC
Expiration Date:06-Aug-2007 22:18:41 UTC
Sponsoring Registrar:Gandi SAS (R42-LROR)
Status:OK
Registrant ID:0-622473-Gandi
Registrant Name:SCIFI INC. c/o BADEN
Registrant Organization:SCIFI INC. c/o BADEN
</p>


<p>
So, holy mama!  Expiration is set for 10:18 PM UTC today, which is 3:18
PM Pacific Daylight Time -- and it's 3:26 PM PDT right this moment.
(Probably some timing glitch.)
<p>
[ ... ]
</p><p><b>[  <a name="mb-domain_auto_renew_mechanisms"></a> <a href="misc/lg/domain_auto_renew_mechanisms.html">Thread continues here (4 messages/11.10kB)</a>  ]</b></p>
<hr />


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/lg_mail2.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="lg_mail3"></a>
<h1>An Ongoing Discussion of Open Source Licensing Issues</h1>

</b>
</p>

<p>
<h1>Our Mailbag</h1>
<hr />

<!-- Thread anchor: More on the Eben Moglen / Tim O'Reilly argument --><a name='more_on_the_eben_moglen_tim_o_reilly_argument'></a>
<h3>More on the Eben Moglen / Tim O'Reilly argument</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Tue, 21 Aug 2007 14:01:00 -0700</b>
</p>

<p>
Tim O'Reilly has now written about the ~1/2 hour interview he recently
did with Prof. Eben Moglen on "Software Licensing in the Web 2.0 Era" at
OSCon 2007, in a post entitled "My Tongue-Lashing from Eben Moglen":
<a href="http://radar.oreilly.com/archives/2007/08/my_tonguelashin.html">http://radar.oreilly.com/archives/2007/08/my_tonguelashin.html</a>
</p>

<p>
It's interesting and thoughtful -- and also includes an .ogg-format
clip of the interview that will let me finally see it on my Xubuntu G3
iBook.  ;-&gt;
</p>

<p>
Pending my doing so, here's an excerpt from Moglen's remarks, concerning
the much-discussed ASP loophole aka SaaS (Software as a Service)
loophole:
</p>

<p>
   "We've got to conclude that what Google does, they have a right to do
   in freedom. They shouldn't need anyone's permission to run programs.
   Stallman was right about that at the very beginning. If you have to ask
   other people's permission to run a program, you don't have adequate
   freedom. And that means you've got to have the right to run programs for
   someone else. And what's more, you have to have the right to make
   private modifications. Because if you don't have a right to make private
   modifications, and keep them to yourself whenever you want to, then the
   principle of freedom of thought is being rudely disrupted by a required
   responsibility to disclose what you are thinking to someone else... So
   if we take the philosophical responsibility to provide freedom
   seriously, we're going to have to say ... their rights, properly
   protected, may conflict with other people's rights, properly protected.
   The solution isn't to reduce anyone's rights." 
</p>

<p>
As I feared, Prof. Moglen (and impliedly the FSF) is saying that ASP
deployments should be seen as private modification and usage, and that 
private usage must not be encumbered by, say, copyleft obligations tied
to the act of offering codebases up for public usage via network access.
</p>

<p>
This stance, ironically, ends up amounting to a BSD-licensing position.
Advocates of that position, sooner or later, tend to voice the standard
BSD-advocacy mantra:  "So what if it permits creation of proprietary
forks?  If you're any good at what you do, you'll just outcompete them."
</p>

<p>
Which is fine if you are OK with working hard to produce free / open
source software, only to see a competitor take a branch of your work
proprietary.  FSF has always, until now, been the prime examplar of a
group that is <em>not</em> OK with that -- that, in fact, invented the concept
of copyleft as a means by which software authors can, if they wish, 
prevent that dilution of (their portion of) the commons.
</p>

<p>
Matt Asay of former badgeware firm Alfresco has just said pretty much the
same thing, and I think he's right
(<a href="http://news.com.com/8301-10784_3-9763068-7.html):">http://news.com.com/8301-10784_3-9763068-7.html):</a>
</p>

<p>
    GPL is the new BSD in Web 2.0, and why this matters
   
    The Internet turns open-source licensing on its head. Copyleft is
    neither copyright nor copyleft anymore in the Web world. It's just copy,
    because distribution of a service over the Internet doesn't count as
    distribution in the archaic licensing language that plagues most
    open-source licenses.
<p>
[ ... ]
</p><p><b>[  <a name="mb-more_on_the_eben_moglen_tim_o_reilly_argument"></a> <a href="misc/lg/more_on_the_eben_moglen_tim_o_reilly_argument.html">Thread continues here (1 message/5.14kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: When will CPAL actually be _used_? --><a name='when_will_cpal_actually_be_used'></a>
<h3>When will CPAL actually be _used_?</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Tue, 21 Aug 2007 13:16:21 -0700</b>
</p>

<p>
More to come, I'm sure.
</p>

<p>
----- Forwarded message from Rick Moen &lt;rick@linuxmafia.com&gt; -----
</p>

<pre>
Date: Tue, 21 Aug 2007 13:04:03 -0700
To: Ross Mayfield &lt;ross.mayfield@socialtext.com&gt;
Cc: license-discuss@opensource.org
From: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: When will CPAL actually be _used_?
</pre>
Hello, Ross.  I noted with great interest Socialtext's submission of
Common Public Attribution License to OSI, at the beginning of July, and
in fact posted favourable comments on it to the license-discuss mailing
list, at that time.  The OSI Board then, of course, approved it on July
25.
</p>

<p>
Since then, your firm's press releases and numerous bits of news
coverage (The Register, CMS Wire, eWeek, and quite a few others) have
proclaimed your firm's conversion of Socialtext Open to this new
OSI-certified licence.
</p>

<p>
In addition, your firm's Web pages began prominently featuring OSI's
"OSI Certified" regulated certification mark logo, which may be used
only for codebases released under OSI certified open source licences.
</p>

<p>
So, I am obliged to ask:  When will your product actually use CPAL?
To date, it is not.  To wit:
</p>

<p>
o  The SourceForge.net project at
   <a href="http://sourceforge.net/projects/socialtext/">http://sourceforge.net/projects/socialtext/</a> has, as the latest
   downloadable tarball, Socialtext Open release 2.11.6.1.  It's perhaps
   understandable that <em>that</em> form of access to source code still gets the
   user only code under the "Socialtext Public Licence 1.0" MPL 1.1 +
   Exhibit B badgeware licence -- because that tarball, your latest full
   release, was dated May 22, 2007, prior to your CPAL announcements.
</p>

<p>
o  However, what's a bit more difficult to understand is that following
   hyperlinks for source code access on your coprorate Web site takes you
   to <a href="http://www.socialtext.net/open/index.cgi?socialtext_open_source_code">http://www.socialtext.net/open/index.cgi?socialtext_open_source_code</a>,
   which cites a svn command to check the "head" development codebase out
   of repo.socialtext.net -- and <em>that</em> code, your very latest developer
   code, is <em>likewise</em> under Socialtext Public Licence 1.0.
</p>

<p>
So, when is Socialtext going to actually <em>use</em> the OSI-certified licence
that it's been claiming in public to be using?
</p>

<p>
Also, would you mind please removing the "OSI Certified" logo from your
pages until such time as you are legally entitled to use it?  Thank you.
</p>

<p>
As a reminder, I called your attention here on December 29, 2006 to your
then-advertised wiki page <a href="http://www.socialtext.net/stoss/">http://www.socialtext.net/stoss/</a> claiming in
error that Socialtext had submitted SPL 1.0 to OSI's certification
process, when it had not done so.  You acknowledged the critique, but
Socialtext did not fix the misstatement of fact until I reminded you of
it a second time, here, on January 22, 2007.  I hope that your
firm's correction of its erroneous public licensing information, this
time, will be significantly faster.
</p>

<p>
Best Regards,
Rick Moen
rick@linuxmafia.com
(speaking only for himself)
</p>

<p>
----- End forwarded message -----
</p>

<p>

</p>

<p><b>[  <a name="mb-when_will_cpal_actually_be_used"></a> <a href="misc/lg/when_will_cpal_actually_be_used.html">Thread continues here (3 messages/8.86kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: SCO Group follies --><a name='sco_group_follies'></a>
<h3>SCO Group follies</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Sun, 12 Aug 2007 22:47:19 -0700</b>
</p>

<p>
----- Forwarded message from Rick Moen &lt;rick@linuxmafia.com&gt; -----
</p>

<pre>
Date: Fri, 10 Aug 2007 19:44:37 -0700
To: conspire@linuxmafia.com
From: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: [conspire] Novell beats SCO;  also, CABAL meeting tomorrow!  ;-&gt;
</pre>
I thought I'd pass this along.  Also, mail from Darlene reminded me to
mention that tomorrow, 4 PM to midnight, is the CABAL meeting here in
Menlo Park.
</p>

<p>
I made the same sort of plum-jam marinade as last time, except <em>this</em> 
time I'll have had a chance to let the meat (mostly beef, this time)
soak it up for 3+ days instead of a couple of hours.
</p>

<p>
So, don't be strangers.
</p>



<pre>
Date: Fri, 10 Aug 2007 17:59:12 -0700
To: svlug@lists.svlug.org
From: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: [svlug] (forw) SCO v. Novell Decided
</pre>
Groklaw coverage is at
<a href="http://www.groklaw.net/article.php?story=20070810165237718">http://www.groklaw.net/article.php?story=20070810165237718</a> .
</p>

<p>
Note also:  (1) Judge Kimball left Novell's claim against SCO Group for
slander of title still undecided.  (2) SCO Group now owe to Novell the
copyright royalties money it collected from Microsoft and Sun, which is 
considerably more money than it now has.  (3) The SCO v. IBM and Red Hat
v. SCO cases can now proceed.
</p>

<p>
----- Forwarded message from David Chait &lt;davidc@bonair.stanford.edu&gt; -----
</p>

<pre>
Date: Fri, 10 Aug 2007 16:12:07 -0700
From: David Chait &lt;davidc@bonair.stanford.edu&gt;
To: "sulug-discuss@lists.Stanford.EDU" &lt;sulug-discuss@mailman.Stanford.EDU&gt;
Subject: SCO v. Novell Decided
</pre>
For all of those who haven't heard yet, there has been a ruling on SCO 
v. Novell this afternoon, and SCO lost massively.
</p>

<p>
(reposted from groklaw.net)
</p>

<p>
CONCLUSION
</p>

<p>
For the reasons stated above, the court concludes that Novell is the 
owner of the UNIX and UnixWare copyrights. Therefore, SCO's First Claim 
for Relief for slander of title and Third Claim for specific performance 
are dismissed, as are the copyright ownership portions of SCO's Fifth 
Claim for Relief for unfair competition and Second Claim for Relief for 
breach of implied covenant of good faith and fair dealing. The court 
denies SCO's cross-motion for summary judgment on its own slander of 
title, breach of contract, and unfair competition claims, and on 
Novell's slander of title claim. Accordingly, Novell's slander of title 
claim is still at issue.
</p>

<p>
The court also concludes that, to the extent that SCO has a copyright to 
enforce, SCO can simultaneously pursue both a copyright infringement 
claim and a breach of contract claim based on the non-compete 
restrictions in the license back of the Licensed Technology under APA 
and the TLA. The court further concludes that there has not been a 
change of control that released the non-compete restrictions of the 
license, and the non-compete restrictions of the license are not void 
under California law. Accordingly, Novell's motion for summary judgment 
on SCO's non-compete claim in its Second Claim for breach of contract 
and Fifth Claim for unfair competition is granted to the extent that 
SCO's claims require ownership of the UNIX and UnixWare copyrights, and 
denied in all other regards.
<p>
[ ... ]
</p><p><b>[  <a name="mb-sco_group_follies"></a> <a href="misc/lg/sco_group_follies.html">Thread continues here (3 messages/24.77kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: [ILUG] Solution needed for terminale server licensing problem. --><a name='ilug_solution_needed_for_terminale_server_licensing_problem'></a>
<h3>[ILUG] Solution needed for terminale server licensing problem.</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Tue, 14 Aug 2007 09:38:27 -0700</b>
</p>

<p>
Another one for the list.
</p>

<p>
----- Forwarded message from Rick Moen &lt;rick@linuxmafia.com&gt; -----
</p>

<pre>
Date: Tue, 14 Aug 2007 09:31:52 -0700
To: ilug@linux.ie
From: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: Re: [ILUG] Solution needed for terminale server licensing problem.
</pre>
Quoting Michael Armbrecht (michael.armbrecht@gmail.com):
</p>


<pre>
&gt; There are alternatives to MS Project, most of them done in Java.
&gt; This one (<a href="http://sourceforge.net/projects/openproj/">http://sourceforge.net/projects/openproj/</a>) looks very
&gt; MS-Projectish. It's Open Source....
</pre>

<p>
Sadly, no, it's not.  Quoting my summary at "Project Management" on
<a href="http://linuxmafia.com/kb/Apps/:">http://linuxmafia.com/kb/Apps/:</a> 
</p>

<p>
   Licence is deceptively claimed to be open source, but in fact is MPL
   1.1 plus a proprietary "badgeware" addendum that impairs third-party
   commercial usage by requiring that derivative works include mandatory
   advertising of OpenProj publisher Projity's name and trademarked logo on
   "each user interface screen" while specifically denying users a
   trademark licence.
</p>

<pre>-- 
Cheers,
Rick Moen                                     Age, baro, fac ut gaudeam.
rick@linuxmafia.com
-- 
Irish Linux Users' Group mailing list
About this list : <a href="http://mail.linux.ie/mailman/listinfo/ilug">http://mail.linux.ie/mailman/listinfo/ilug</a>
Who we are : <a href="http://www.linux.ie/">http://www.linux.ie/</a>
Where we are : <a href="http://www.linux.ie/map/">http://www.linux.ie/map/</a>
</pre>

<p><b>[  <a name="mb-ilug_solution_needed_for_terminale_server_licensing_problem"></a> <a href="misc/lg/ilug_solution_needed_for_terminale_server_licensing_problem.html">Thread continues here (4 messages/9.93kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Suggestion for domain-check licensing --><a name='suggestion_for_domain_check_licensing'></a>
<h3>Suggestion for domain-check licensing</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Mon, 3 Sep 2007 10:54:25 -0700</b>
</p>

<p>
----- Forwarded message from Matty &lt;matty91@gmail.com&gt; -----
</p>

<pre>
Date: Mon, 3 Sep 2007 10:37:56 -0400
From: Matty &lt;matty91@gmail.com&gt;
To: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: Re: Suggestion for domain-check licensing
</pre>
On 7/16/07, Rick Moen &lt;rick@linuxmafia.com&gt; wrote:
</p>

<pre>
&gt;
&gt; Hi, Ryan!  Thanks for the version 1.4 update.  You still might want to
&gt; consider the following suggested small tweak, if you want the script to
&gt; be open source:
&gt;
&gt;
&gt; # License:
&gt; #  Permission is hereby granted to any person obtaining a copy
&gt; #  of this software to deal in the software without restriction
&gt; #  for any purpose, subject to the condition that it shall be
&gt; #  WITHOUT ANY WARRANTY; without even the implied warranty of
&gt; #  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
&gt;
</pre>

<p>
Hi Rick,
</p>

<p>
I came across your Linux Gazette article this weekend. Great write up!
I thought I updated the licensing for domain-check last month, but it
looks like I saved the file with the wrong name. Ooops.<img src="../gx/frown.png" alt=":("> I just moved
the updated file into place, and it's now licensed under the GPL (the
same as Ben's Perl script). This should allow you (and anyone else) to
use it for whatever you want.
</p>

<p>
Thanks,
- Ryan
<pre>-- 
UNIX Administrator
<a href="http://prefetch.net">http://prefetch.net</a>
</pre>

<hr />


<!-- Thread anchor: Groklaw's OSI item --><a name='groklaw_s_osi_item'></a>
<h3>Groklaw's OSI item</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Wed, 22 Aug 2007 13:18:26 -0700</b>
</p>

<p>
----- Forwarded message from Matthew Flaschen &lt;matthew.flaschen@gatech.edu&gt; -----
</p>

<pre>
Date: Wed, 22 Aug 2007 16:12:51 -0400
From: Matthew Flaschen &lt;matthew.flaschen@gatech.edu&gt;
To: License Discuss &lt;license-discuss@opensource.org&gt;
Subject: Re: Groklaw's OSI item
</pre>
Rick Moen wrote:
</p>

<pre>
&gt; (I call it bad because it trivially impairs usage, while
&gt; simultaneously utterly failing in its probable goal of being a copyleft
&gt; licence within the ASP industry.
</pre>

<p>
Actually, CPAL does have a network clause (unrelated to the advertising
clause, which does nothing for the SaaS problem):
</p>

<p>
"The term ???External Deployment??? means the use, distribution, or
communication of the Original Code or Modifications in any way such that
the Original Code or Modifications may be used by anyone other than You,
whether those works are distributed or communicated to those persons or
made available as an application intended for use over a network. As an
express condition for the grants of license hereunder, You must treat
any External Deployment by You of the Original Code or Modifications as
a distribution under section 3.1 and make Source Code available under
Section 3.2."
</p>

<p>
This is taken from the Open Software License.
</p>

<p>
This would seem to require SaaS deployments provide source code to end
users.
</p>

<p>
Matt Flaschen
</p>

<p>
----- End forwarded message -----
</p>

<p>
----- Forwarded message from Rick Moen &lt;rick@linuxmafia.com&gt; -----
</p>

<pre>
Date: Wed, 22 Aug 2007 13:17:06 -0700
To: license-discuss@opensource.org
From: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: Re: Groklaw's OSI item
</pre>
Quoting Matthew Flaschen (matthew.flaschen@gatech.edu):
</p>


<pre>
&gt; 
&gt; Actually, CPAL does have a network clause (unrelated to the advertising
&gt; clause, which does nothing for the SaaS problem):
&gt; 
&gt; "The term ???External Deployment??? means the use, distribution, or
&gt; communication of the Original Code or Modifications in any way such that
&gt; the Original Code or Modifications may be used by anyone other than You,
&gt; whether those works are distributed or communicated to those persons or
&gt; made available as an application intended for use over a network. As an
&gt; express condition for the grants of license hereunder, You must treat
&gt; any External Deployment by You of the Original Code or Modifications as
&gt; a distribution under section 3.1 and make Source Code available under
&gt; Section 3.2."
&gt; 
&gt; This is taken from the Open Software License.
&gt; 
&gt; This would seem to require SaaS deployments provide source code to end
&gt; users.
</pre>

<p>
I stand corrected!  Thank you.  That's the problem with writing from
unaided memory, before getting around to checking of original documents.
</p>

<p>
CPAL thus does indeed join GPL w/Affero, OSL 3.0, ASPL 2.0, and Honest
Public License as licences with SaaS-oriented copyleft clauses.
</p>


<p>
----- End forwarded message -----
</p>

<p>

</p>

<hr />


<!-- Thread anchor: when is an open source license open source? --><a name='when_is_an_open_source_license_open_source'></a>
<h3>when is an open source license open source?</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Fri, 17 Aug 2007 16:51:48 -0700</b>
</p>

<!-- p>
It might be unkind to publish in <em>LG</em> the first (and longest) of these
three, but the other two might be fine and of interest.
</p>

<p -->
----- Forwarded message from 'Rick Moen' &lt;rick@linuxmafia.com&gt; -----
</p>

<pre>
Date: Mon, 2 Jul 2007 19:34:19 -0700
From: 'Rick Moen' &lt;rick@linuxmafia.com&gt;
To: Aaron Fulkerson &lt;aaronf@mindtouch.com&gt;
Subject: Re: when is an open source license open source?
</pre>
Quoting Aaron Fulkerson (aaronf@mindtouch.com):
</p>


<pre>
&gt; Dreamhost must have been having probs:
&gt; <a href="http://www.oblogn.com/2007/06/26/open-letter-to-osi/">http://www.oblogn.com/2007/06/26/open-letter-to-osi/</a> try again.
&gt; Alternatively: <a href="http://www.mindtouch.com/blog/2007/06/26/open-letter-to-osi/">http://www.mindtouch.com/blog/2007/06/26/open-letter-to-osi/</a>
&gt; (same post just cross-posted)
</pre>

<p>
Hi, Aaron.  Thank you for the URL.  Being tied down in a software
upgrade at the moment, I don't have much time to comment, but here are a
few thoughts.  I speak, here, largely as a student of rhetoric.
</p>

<p>
1.  Just so you know, "open letters" have always been non-starters:
They pretty much scream "ignore me", to most people.  This has nothing
to do with the merit of what's said; it's just a reflexive reaction
people tend to develop towards anything described as that. 
</p>

<p>
IMO, if you want to be taken seriously, refactor to avoid that
unfortunate language.  E.g., you could send an <em>actual</em> letter to the
OSI Board and then reproduce on your Web site a copy of it.
</p>

<p>
2.  The paragraph starting with "If you read my personal blog..." 
will tend to give to casual observers the impression of your dwelling on
and boring them with your past complaints.  To be really blunt, it has
the surface flavour of whining (e.g., "been called infantile names"),
and nobody likes a whiner.  Again, this has nothing to do with the
substance of what you're saying.  It's a presentation issue, and
presentation is important, because people filter what they read
mercilessly, and you want to avoid all the obvious reasons (common
heuristics) why people stop reading something and move on.
</p>

<p>
3.  The phrase "I've left lengthy comments at OSI" in this paragraph
is unfortunate for the same reason:  The reader of your current point
doesn't have any use for this information, and it just gives such 
readers another candidate reason for ignoring you.  They may dismiss you
as one of those tireless cranks who deluge online forums with barrages
comments and then complain that nobody takes them seriously.
</p>

<p>
4.  
</p>


<pre>
&gt; I've blogged about SugarCRM and it's CEO John Roberts previously (the
&gt; last bit of this post). 
</pre>

<p>
And your point?  None is evident.  Again, since there's no obvious
<em>reason</em> cited why you mention this, the casual impression this gives is
of someone who simply blogs a great deal, and wants to send readers on a
long chain of links because what you say is so very vital in its full
detail that you couldn't possibly summarise, i.e., like a crank.
</p>

<p>
5.  
<p>
[ ... ]
</p><p><b>[  <a name="mb-when_is_an_open_source_license_open_source"></a> <a href="misc/lg/when_is_an_open_source_license_open_source.html">Thread continues here (1 message/16.87kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Junk CNet story from Matt Asay (MySQL, badgeware) --><a name='junk_cnet_story_from_matt_asay_mysql_badgeware'></a>
<h3>Junk CNet story from Matt Asay (MySQL, badgeware)</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Tue, 14 Aug 2007 16:37:15 -0700</b>
</p>

<p>
Lawyer, ex-badgware firm Alfresco executive, and OSI Board member Matt
Asay writes a "NewsBlog" at CNet news.com, in which he comments on open
source.  A couple of days ago, that column published a compendium of
whoppers[1], attempting to accuse open source users of hypocrisy.
</p>

<p>
Quoting key parts:
</p>

<p>
  The open-source community's double standard on MySQL
  posted by Matt Asay
  [...]
</p>

<p>
  Remember 2002? That's when Red Hat decided to split its code into Red
  Hat Advanced Server (now Red Hat Enterprise Linux) and Fedora. Howls of
  protest and endless hand-wringing 
  [<a href="http://news.zdnet.com/2100-3513-5102282.html">http://news.zdnet.com/2100-3513-5102282.html</a>] ensued:
</p>

<p>
  Enter 2007. MySQL decides to comply with the GNU General Public
  License and only give its tested, certified Enterprise code to those who
  pay for the service underlying that code (gasp!). Immediately cries of
  protest are raised [<a href="http://www.linux.com/feature/118489">http://www.linux.com/feature/118489</a>], How dare 
  MySQL not give everything away for free?
</p>

<p>
  Ironically, in this same year of 2007, SugarCRM received universal
  plaudits (from me, as well) for opening up _part of its code base_ 
  under GPLv3. Groklaw crowed
  [<a href="http://www.groklaw.net/articlebasic.php?story=20070725161131598">http://www.groklaw.net/articlebasic.php?story=20070725161131598</a>], 
  "SugarCRM Goes GPLv3!" People everywhere flooded the streets to wax 
  fecund and celebrate by multiplying and replenishing the earth.
</p>

<p>
  [...] I'm criticizing the open-source community for applying a
  hypocritical double-standard.
</p>

<p>
No, Matt.  Sorry, you lose.
</p>

<p>
First, the ZDNet link you cited simply did <em>not</em> feature even one
member of the Linux community being quoted as criticising Red Hat in any 
way, let alone failing to comply with GPLv2 or any other open source
licence -- for the simple reason that Red Hat didn't violate any 
licence, and in fact has published full source code RPMs for the full
software portions of RHEL, downloadable free of charge and fully
accessible to the public (which is far more than the licences require).
</p>

<p>
(RHEL includes two non-software SRPMS that contain trademark-encumbered
image files.  People who wish to have non-trademark-encumbered RHEL 
can create same by using different image files in their place, or can 
rely on CentOS et alii's ongoing work in doing exactly that.  I've
previously pointed this set of facts out to Matt directly, on an occasion
when he attempted to defend his own firm's then-usage of badgeware
licensing through the tu-quoque fallacy of criticising Red Hat.)
</p>

<p>
Likewise, the linux.com story you cited concerning MySQL AB's cessation of
offering source tarballs to the general public (though public access
to the SCM repository will remain) does <em>not</em> feature even one cry of
protest -- for the simple reason that MySQL AB is still offering a
fully, genuinely open source product.
</p>

<p>
(Accordingly, Matt's assertion about whom MySQL AB will "give its
tested, certified Enterprise code to" is simply false.)
<p>
[ ... ]
</p><p><b>[  <a name="mb-junk_cnet_story_from_matt_asay_mysql_badgeware"></a> <a href="misc/lg/junk_cnet_story_from_matt_asay_mysql_badgeware.html">Thread continues here (1 message/4.50kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Moglen And O'Reilly exchange at OSCon --><a name='moglen_and_o_reilly_exchange_at_oscon'></a>
<h3>Moglen And O'Reilly exchange at OSCon</h3>
<p>
<b><p>
Rick Moen [rick at linuxmafia.com]
</p>
</b><br />
<b>Fri, 17 Aug 2007 17:55:57 -0700</b>
</p>

<p>
----- Forwarded message from Steve Bibayoff &lt;bibayoff@gmail.com&gt; -----
</p>

<pre>
Date: Fri, 17 Aug 2007 15:04:50 -0700
From: Steve Bibayoff &lt;bibayoff@gmail.com&gt;
To: Rick Moen &lt;rick@linuxmafia.com&gt;
Subject: Moglen And O'Reilly exchange at OSCon
</pre>
Hi Rick,
</p>

<p>
Found a video of the Eben Moglen/ Tim O'Reilly exchange at OSCon. It
was titled "Licensing in the Web 2.0 Era". Unfornatley, the video
appears to be in a .mov quicktime format, but seems playable on Free
software players(w/ unFree codecs).
<a href="http://www.mefeedia.com/entry/3282956/">http://www.mefeedia.com/entry/3282956/</a>
<a href="http://blip.tv/file/get/Radar-EbenMoglenLicensingInTheWeb20Era126.mov">http://blip.tv/file/get/Radar-EbenMoglenLicensingInTheWeb20Era126.mov</a>
</p>

<p>
Funny comment about trying to get the O'Reilly OSCon copy of the video/audio:
"Regrettably, we missed the assault. Stories needed to go out, and we
assumed the chat would follow familiar, boring lines. After about ten
people later asked if we caught the spectacular show, The Register
contacted the OSCON audio staff to obtain a recording of the session.
"No problem," they said, "It will just take a couple of minutes, but
you need to get O'Reilly's permission first." O'Reilly corporate
refused to release the audio, saying it would cause a slippery slope.
(We're still trying to understand that one.) They, however, did add
that Moglen appeared to be "off his meds."
<a href="http://jeremy.linuxquestions.org/2007/07/29/open-source-and-the-future-of-network-applications/">http://jeremy.linuxquestions.org/2007/07/29/open-source-and-the-future-of-network-applications/</a>
</p>


<p>
hth,
</p>

<p>
Steve
</p>

<p>
ps. What was that name of that book that you where discussing at Linux
Picnix about the Renaissance? It was a case study done about Florence
Nightingale, the father of the rugby school, and someone else. TIA.
</p>

<p>
----- End forwarded message -----
</p>

<p>
----- Forwarded message from Rick Moen &lt;rick@linuxmafia.com&gt; -----
</p>

<pre>
Date: Fri, 17 Aug 2007 17:54:43 -0700
From: Rick Moen &lt;rick@linuxmafia.com&gt;
To: Steve Bibayoff &lt;bibayoff@gmail.com&gt;
Subject: Re: Moglen And O'Reilly exchange at OSCon
</pre>
Quoting Steve Bibayoff (bibayoff@gmail.com):
</p>


<pre>
&gt; Found a video of the Eben Moglen/ Tim O'Reilly exchange at OSCon. It
&gt; was titled "Licensing in the Web 2.0 Era". Unfornatley, the video
&gt; appears to be in a .mov quicktime format, but seems playable on Free
&gt; software players(w/ unFree codecs).
&gt; <a href="http://www.mefeedia.com/entry/3282956/">http://www.mefeedia.com/entry/3282956/</a>
&gt; <a href="http://blip.tv/file/get/Radar-EbenMoglenLicensingInTheWeb20Era126.mov">http://blip.tv/file/get/Radar-EbenMoglenLicensingInTheWeb20Era126.mov</a>
</pre>

<p>
I'll be checking this out when I'm next at a computer with the necessary
software.  (My Xubuntu iBook will play many Quicktime .mov files, but, 
since it's a G3 PPC, the unfree codecs are out, even if I wanted them 
present, which I really don't.)
</p>

<p>
Meanwhile, there have been a number of text excerpts from Moglen's
commentary.  Here's a typical one, from
<a href="http://www.linux.com/feature/118201">http://www.linux.com/feature/118201</a> :
<p>
[ ... ]
</p><p><b>[  <a name="mb-moglen_and_o_reilly_exchange_at_oscon"></a> <a href="misc/lg/moglen_and_o_reilly_exchange_at_oscon.html">Thread continues here (1 message/6.17kB)</a>  ]</b></p>
<hr />


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/lg_mail3.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="lg_talkback"></a>
<h1>Talkback</h1>

</b>
</p>

<p>

<!-- Thread anchor: Talkback:141/anonymous.html --><a name='talkback_141_anonymous_html'></a>
<h3>Talkback:141/anonymous.html</h3>
<p><b>[ In reference to "<a href='../141/anonymous.html'>GRUB, PATA and SATA</a>" in LG#141 ]</b></p><p>
<b><p>
Matthias Urlichs [smurf at smurf.noris.de]
</p>
</b><br />
<b>Mon, 06 Aug 2007 23:04:32 +0200</b>
</p>

<p>
The reason UUIDs do not help has nothing to do with Linus' article: this
is not a kernel vs. userland issue.
</p>

<p>
This is a kernel vs. BIOS device numbering issue. UUIDs don't help here
because GRUB doesn't interpret them. In fact it cannot even read them
because they're in the menu.lst file which grub cannot find in the first
place. Catch-22, anyone?
</p>

<p>
In fact you need to go grub's command line on the bare metal (i.e. after
installing it on a floppy), not from Linux. Otherwise there's no point.
Your article should mention that.
</p>

<pre>-- 
Matthias Urlichs &lt;smurf@smurf.noris.de&gt;
{M:U} IT Design
</pre>

<hr />


<!-- Thread anchor: Talkback:141/lazar.html --><a name='talkback_141_lazar_html'></a>
<h3>Talkback:141/lazar.html</h3>
<p><b>[ In reference to "<a href='../141/lazar.html'>Serving Your Home Network on a Silver Platter with Ubuntu</a>" in LG#141 ]</b></p><p>
<b><p>
Raj Shekhar [rajlist at rajshekhar.net]
</p>
</b><br />
<b>Mon, 06 Aug 2007 10:41:39 +0530</b>
</p>

<p>
Some comments -
</p>

<p>
Section 8 - Configure your LAN machines
</p>

<p>
Use dhcp instead of trying to configure each machine individually.
</p>

<p>
Section 11 BIND DNS Server
</p>

<p>
another option is to use pdnsd as a caching nameserver.
</p>

<p>
Section 13 Samba file sharing
</p>

<p>
If you are only using linux boxes, you can also share using nfs.
Caveats:  it takes long time to mount large directories.
</p>

<p>
Section 14 TorrentFlux
</p>

<p>
Nice tip!
</p>

<p>
Thanks
<pre>-- 
raj shekhar
facts: <a href="http://rajshekhar.net">http://rajshekhar.net</a> | opinions: <a href="http://rajshekhar.net/blog">http://rajshekhar.net/blog</a>
I dare do all that may become a man; Who dares do more is none.
</pre>

<p><b>[  <a name="mb-talkback_141_lazar_html"></a> <a href="misc/lg/talkback_141_lazar_html.html">Thread continues here (4 messages/5.20kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:141/kapil.html --><a name='talkback_141_kapil_html'></a>
<h3>Talkback:141/kapil.html</h3>
<p><b>[ In reference to "<a href='../141/kapil.html'>Who is using your Network?</a>" in LG#141 ]</b></p><p>
<b><p>
Ramanathan Muthaiah [rus.cahimb at gmail.com]
</p>
</b><br />
<b>Tue, 7 Aug 2007 06:37:56 +0530</b>
</p>

<p>
Hi,
</p>

<p>
How would this be possible in computers running on leased IP addresses
via DHCP ?
</p>

<p>
Section 3 Secure Shell
</p>

<p>
. . . . . .
. . . . . .
</p>

<p>
The simplest way to do this is to go to each computer and copy these
files to a USB stick:
</p>

<pre>
   cp /etc/ssh/ssh_host_rsa_key.pub /media/usb/&lt;ip_addr&gt;.rsa.pub
   cp /etc/ssh/ssh_host_dsa_key.pub /media/usb/&lt;ip_addr&gt;.dsa.pub
</pre>
. . . . . .
</p>

<p>
/Ram
</p>

<p>

</p>

<p><b>[  <a name="mb-talkback_141_kapil_html"></a> <a href="misc/lg/talkback_141_kapil_html.html">Thread continues here (2 messages/2.46kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:124/smith.html --><a name='talkback_124_smith_html'></a>
<h3>Talkback:124/smith.html</h3>
<p><b>[ In reference to "<a href='../124/smith.html'>Build a Six-headed, Six-user Linux System</a>" in LG#124 ]</b></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Wed, 15 Aug 2007 00:29:07 -0400</b>
</p>

<p>
----- Forwarded message from Peter Sanders &lt;plsander@us.ibm.com&gt; -----
</p>

<pre>
Subject: Re: [TAG] tkb: Talkback:124/smith.html
To: Ben Okopnik &lt;ben@linuxgazette.net&gt;
From: Peter Sanders &lt;plsander@us.ibm.com&gt;
Date: Fri, 10 Aug 2007 09:49:14 -0500
</pre>
I just need to figure out which is easier:
</p>

<p>
- modifying a Live CD/DVD installation -- probably not the easiest to
change on the fly
or
- get a big enough flash drive to hold a reasonalbly functional
installation
</p>

<pre>-- 
Peter Sanders
t/l 553-6186  (507)253-6186
plsander@us.ibm.com
</pre>

<p><b>[  <a name="mb-talkback_124_smith_html"></a> <a href="misc/lg/talkback_124_smith_html.html">Thread continues here (7 messages/7.94kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:141/lg_bytes.html --><a name='talkback_141_lg_bytes_html'></a>
<h3>Talkback:141/lg_bytes.html</h3>
<p><b>[ In reference to "<a href='../141/lg_bytes.html'>An NSLU2 (Slug) Reminder Server</a>" in LG#141 ]</b></p><p>
<b><p>
T Ziomek [t_ziomek at yahoo.com]
</p>
</b><br />
<b>Thu, 2 Aug 2007 09:29:54 -0700 (PDT)</b>
</p>

<p>
To pick a nit..."Mozilla Firefox use up, 3.7% in 4 months in Europe" is
incorrect.  FF use was up 3.7 [percentage] <strong>points</strong>, not 3.7 percent.
The text under the headline gets this right when referring to a ~7 point
gain in the past year.
</p>

<p>
Regards, Tom Ziomek
</p>

<p>
       

</p>

<p><b>[  <a name="mb-talkback_141_lg_bytes_html"></a> <a href="misc/lg/talkback_141_lg_bytes_html.html">Thread continues here (2 messages/1.27kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:142/moen.html --><a name='talkback_142_moen_html'></a>
<h3>Talkback:142/moen.html</h3>
<p><b>[ In reference to "<a href='../142/moen.html'>Preventing Domain Expiration</a>" in LG#142 ]</b></p><p>
<b><p>
s. keeling [keeling at nucleus.com]
</p>
</b><br />
<b>Sun, 2 Sep 2007 17:17:42 -0600</b>
</p>

<p>
Entertaining and informative article, Rick, as always.  I hope I can
consider some of my recent floundering with whois and
linuxmafia.{com,net} as partial inspiration.
</p>

<p>
However, getting down to the picture at the .sig block, shouldn't you
be doing more long distance bicycling?  I always pictured you as one
of those ca. 150 lb., wiry joggers gorging yourself on tofu.  Instead,
the picture shows you're either a sumo wrestler, a linebacker (a geek
linebacker?!?), or you need to avoid burger joints more often.  Oh,
and that perl book behind you is pink.  Doesn't that need an upgrade?
</p>

<p>
My perl books are pink too, and they suit me just fine (damnit).  Sorry
for the crack about the picture.  I'd just prefer that folks like you
outlive me (I'm a selfish that way).
</p>


<p>
P.S. Ben, looks like we need to fiddle with pinehelper.pl again.  It's
     ignoring the bit in parens in the subject line, making "Subject:
     Talkback".  Crap.
</p>

<p>
     My version of your pinehelper.pl attached.  This is pinehelper.pl
     called by FF 2.0.0.4 (Debian stable/Etch Iceweasel), fwiw.
</p>

<p>
     I've also just installed flashplayer-mozilla, which appears to
     handle swf better than swf-player, so maybe I can actually read
     the cartoons this time.  <img src="../gx/smile.png" alt=":-)">
</p>

<p>
<a href="../143/misc/lg/pinehelper">http://linuxgazette.net/143/misc/lg/pinehelper</a>
</p>

<pre>-- 
Any technology distinguishable from magic is insufficiently advanced.
(*)
- -
</pre>

<p><b>[  <a name="mb-talkback_142_moen_html"></a> <a href="misc/lg/talkback_142_moen_html.html">Thread continues here (12 messages/28.80kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:116/okopnik1.html --><a name='talkback_116_okopnik1_html'></a>
<h3>Talkback:116/okopnik1.html</h3>
<p><b>[ In reference to "<a href='../116/okopnik1.html'>Booting Knoppix from a USB Pendrive via Floppy</a>" in LG#116 ]</b></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Sun, 9 Sep 2007 17:46:48 -0400</b>
</p>

<p>
[ cc'd to TAG ]
</p>

<p>
On Sun, Sep 09, 2007 at 05:00:03PM +0100, Andrew JRV Hunt wrote:
</p>

<pre>
&gt; I'm emailing about the following article:
&gt; <a href="../116/okopnik1.html">http://linuxgazette.net/116/okopnik1.html</a>
&gt; I'd like to know, for what version of knoppix is this (i tried with
&gt; 5.1, it didn't work), and then also where you could get an old version
&gt; (I've searched for Knoppix 3.8 which was the latest version of knoppix
&gt; at the time but I can't find a download anywhere).
</pre>

<p>
Well, that's exactly the problem. Shortly after I wrote that article,
the Knoppix folks stopped using the "boot.img" method and switched to
using "isolinux". If you can get hold of 3.3 - the version that I used -
it should work fine. Otherwise, well, the kernel is just too big -
period.
</p>


<pre>
&gt; If this fails, would it be possible that the script could be rewritten
&gt; for knoppix 5.1 or that I could be sent the image to be written onto
&gt; floppy?
</pre>

<p>
It's not a question of the script; the problem is that the kernel itself
- even before you add any modules, libs, etc. - is just too big to fit
into a boot.img image (1.44MB). That pretty well shuts off the
possibility.
</p>

<p>
You could approach it the other way, though: try downloading Puppy
Linux, or Damn Small Linux. Either of those should fit on a flash drive
just fine - and Puppy Linux definitely had a "boot from a flash drive"
description on their site the last time I looked.
</p>


<pre>
&gt; PS. I tried emailing the tag email address which didn't work.
</pre>

<p>
I assume you got it from some old resource. Try
tag@lists.linuxgazette.net - we've been using that one since May 2005 or
so.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<hr />


<!-- Thread anchor: Talkback:141/brownss.html --><a name='talkback_141_brownss_html'></a>
<h3>Talkback:141/brownss.html</h3>
<p><b>[ In reference to "<a href='../141/brownss.html'>An NSLU2 (Slug) Reminder Server</a>" in LG#141 ]</b></p><p>
<b><p>
Silas S. Brown [ssb22 at cam.ac.uk]
</p>
</b><br />
<b>Thu, 2 Aug 2007 17:24:28 +0100</b>
</p>

<p>
Hi, I wonder if you'd like to put this in Talkback or 2-Cent Tips in the
next issue:
</p>


<p>
Since writing the article, I found a couple of minor problems.
</p>

<p>
One was that the sound sometimes fails in such a way that is not
detectable by the NSLU2 (for example the speaker is not connected
properly), and to mitigate the possible consequences of this, I set my
NSLU2 to start playing a recognisible tune using its internal speaker if
an important alarm is not acknowledged.  I wrote a script that can
convert any MIDI file into commands for Johnathan Nightingale's "beep"
utility (which is available in the "beep" package on the NSLU2 Debian
distribution), and my "MIDI to beep" script is available at
</p>

<p>
<a href="http://people.pwf.cam.ac.uk/ssb22/mwrhome/midi-beeper.html">http://people.pwf.cam.ac.uk/ssb22/mwrhome/midi-beeper.html</a>
</p>

<p>
The other is that the NSLU2 may sometimes hang if the USB connection to
its primary disk is somehow jolted; use of its built-in hardware
watchtog helps, but it's best if the watchdog is used in such a way that
a disk hang will be noticed by the watchdog (which might not happen if
the process that's writing to /dev/watchdog is constantly in RAM), so
rather than running a watchdog program I decided to do it in root's
crontab:
</p>

<p>
<pre class="code">
* * * * * echo &gt;/dev/watchdog;sleep 20;echo &gt;/dev/watchdog;sleep 20;echo &gt;/dev/watchdog
</pre>
i.e. write to /dev/watchdog 3 times a minute (the system will reboot if
it's not written to for a whole minute).  Doing it this way rather than
in a self-conained process should result in a watchdog failure if the
primary disk gets pulled out (resulting in it being unmounted) because
bin/sleep will become unavailable.  This is so even though it will
normally be cached in RAM and incur little or no disk activity.  The
cron job is quite lightweight, since the code for "bash" can be shared
with any other bash scripts that are running at the same time and
therefore should not take up much of its own memory.
</p>

<p>

</p>

<p><b>[  <a name="mb-talkback_141_brownss_html"></a> <a href="misc/lg/talkback_141_brownss_html.html">Thread continues here (5 messages/6.03kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:138/dellomodarme.html --><a name='talkback_138_dellomodarme_html'></a>
<h3>Talkback:138/dellomodarme.html</h3>
<p><b>[ In reference to "<a href='../138/dellomodarme.html'>A Quick Introduction to R</a>" in LG#138 ]</b></p><p>
<b><p>
Urmi Trivedi [urmi208 at gmail.com]
</p>
</b><br />
<b>Tue, 31 Jul 2007 09:20:51 +0100</b>
</p>

<p>
Dear Answer-gang,
</p>

<p>
I have gone through this article regarding plotting the data-labels in R. I
found quite helpful functions but didn't find what i required. I have
already plotted two matrices against one another and wish to label them I
want to label the data-points plotted on the scatter-plots. Can you tell me
if there is any way to do that?
</p>

<p>
Thanking you,
</p>

<p>
Yours truly,
</p>

<p>
Urmi Trivedi.
</p>

<p>

</p>

<p><b>[  <a name="mb-talkback_138_dellomodarme_html"></a> <a href="misc/lg/talkback_138_dellomodarme_html.html">Thread continues here (2 messages/1.99kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: Talkback:issue52/okopnik.html --><a name='talkback_issue52_okopnik_html'></a>
<h3>Talkback:issue52/okopnik.html</h3>
<p><b>[ In reference to "<a href='../issue52/okopnik.html'>/okopnik.html</a>" in LG#issue52 ]</b></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Thu, 2 Aug 2007 11:34:49 -0400</b>
</p>

<p>
Hi, Garrett -
</p>

<p>
[ cc'd to The Answer Gang ]
</p>

<p>
On Tue, Jul 31, 2007 at 08:37:39PM -0700, garrett.ellis@cox.net wrote:
</p>

<pre>
&gt; (Also sent to ben-fuzzybear@yahoo, but I wasn't sure that address remained valid.)
&gt; 
&gt; Mr. Okopnik,
&gt; 
&gt; An article of yours from the April 2000 Linux Gazette may have just
&gt; saved me from hours of beating my head against my desk. Granted, I'd
&gt; already spent about 12 hours beating my head against my desk, so
&gt; further damage (if possible) has been averted.
</pre>

<p>
Heh. I've left the imprint of my forehead on at least a few brick walls,
so - yes, that sounds like a positive effect.
</p>


<pre>
&gt; See, I was doing some basic security changes on several hundred
&gt; systems. My Expect powers are not yet strong enough to automate this
&gt; task, but that's an aside. I've spent the last several days running
&gt; find commands with various -exec, and as it turns out, I managed to
&gt; annhiliate a RHEL4 Selinux system with the following:
&gt; 
&gt; find / -user root -perm -o+w -exec chmod 0600 '{}' \;
&gt; # I forgot "-type f" eek!
</pre>

<p>
('-type f' wouldn't have helped much, I'm afraid. It would have stopped
you from messing up, say, the entries in '/dev' - but that's about it.)
</p>

<p>
Ouch! You've "discovered" (and I use that in the most sympathetic way
possible) the power of the 'find' command. It's very similar to a
Milwaukee "Hole Hawg" drill: it <strong>will</strong> drill any hole you want it to -
whether it's through concrete, steel, or your leg...
</p>

<p>
(See this love paean to a Super Hawg:
<a href="http://www99.epinions.com/content_246549155460">http://www99.epinions.com/content_246549155460</a>)
</p>

<p>
Unix tools are kinda like that. Huge amounts of power - and the safety
is assumed to come from experience and forethought. Experience, however,
is what you get when you didn't have enough experience and forethought!
</p>


<pre>
&gt; For hours afterwards, nothing would execute even when I restored
&gt; execute permissions (on binaries only) from a Rescue CD. Your article
&gt; pointed out the need for +x on some (if not all) shared libs, and that
&gt; allowed me to rescue the machine.
&gt; 
&gt; Thank you. Thank you. I owe you one, two, or ten beers.
</pre>

<p>
[smile] Thanks, Garrett. I probably shouldn't say this - it's likely to
lose me a beer or two - but if I was in your place, I'd actually
reinstall the system from scratch; at the very least, I'd run a
comparison of everything in '{,/usr}{/bin,/sbin,/lib}/' against a
"normal" system. Given that you now have an uncertain set of
permissions, all sorts of security vulnerabilities and possible future
problems seem likely. The fact that your system works now gives you some
breathing room time-wise - but I wouldn't call it a closed case.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p><b>[  <a name="mb-talkback_issue52_okopnik_html"></a> <a href="misc/lg/talkback_issue52_okopnik_html.html">Thread continues here (2 messages/5.43kB)</a>  ]</b></p>
<hr />


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/lg_talkback.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="lg_tips"></a>
<h1>2-Cent Tips</h1>

</b>
</p>

<p>
<!-- Thread anchor: 2 cent tip: Determining dynamic shared libraries loaded during run-time of a program --><a name='2_cent_tip__determining_dynamic_shared_libraries_loaded_during_run_time_of_a_program'></a>
<h3>2 cent tip: Determining dynamic shared libraries loaded during run-time of a program</h3>
<p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]
</p>
</b><br />
<b>Wed, 15 Aug 2007 20:34:22 +0700</b>
</p>

<p>
Good day LG readers!
</p>

<p>
    How do you find out the library dependency of your program? Sure, 
ldd helps but doesn't always help in every circumstances. Some programs 
load the needed dynamic libraries with the help of dlopen() function, 
making ldd unaware of them.  But you need to track them all, let's say 
in order to setup a chroot jail. So, how do you detect them?
</p>

<p>
To explain this concept, take a look on the below codes (taken from man 
dlopen):
</p>

<p>
#include &lt;stdio.h&gt;
#include &lt;dlfcn.h&gt;
</p>

<p>
int main(int argc, char **argv)
{
    void *handle;
    double (*cosine) (double);
    char *error;
</p>

<p>
    handle = dlopen("libm.so", RTLD_LAZY);
    if (!handle) {
    fprintf(stderr, "%s\n", dlerror());
    exit(1);
    }
</p>

<p>
    cosine = dlsym(handle, "cos");
    if ((error = dlerror()) != NULL) {
    fprintf(stderr, "%s\n", error);
    exit(1);
    }
</p>

<p>
    printf("%f\n", (*cosine) (1.0));
    dlclose(handle);
    return 0;
}
Assume you save it as trace.c. Later you compile it with:
$ gcc -ldl -o trace trace.c
</p>

<p>
ldd shows you this:
$ ldd ./trace
        libdl.so.2 =&gt; /lib/libdl.so.2 (0x40029000)
        libc.so.6 =&gt; /lib/tls/libc.so.6 (0x42000000)
        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x40000000)
</p>

<p>
OK, where's that libm.so? It doesn't show up. This won't be a serious 
problem if you have its source code, but what if not? ltrace comes to 
rescue. You just need to tell ltrace to find the occurence of dlopen():
$ ltrace -f -e dlopen ./trace
dlopen("libm.so", 1)
....
</p>

<p>
-f tells ltrace to trace its forked children, not just the parent 
process. Now, the rest is just a matter of finding those libraries in 
library search path i.e any paths that are mentioned in /etc/ld.so.conf 
or LD_LIBRARY_PATH environment variable.
</p>

<p>
reference: man dlopen
</p>

<p>
regards,
</p>

<p>
Mulyadi
</p>



<p>

</p>

<p><b>[  <a name="mb-2_cent_tip__determining_dynamic_shared_libraries_loaded_during_run_time_of_a_program"></a> <a href="misc/lg/2_cent_tip__determining_dynamic_shared_libraries_loaded_during_run_time_of_a_program.html">Thread continues here (4 messages/5.96kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: 2 cent tip: Prevent Vim to accidentally write to opened file --><a name='2_cent_tip__prevent_vim_to_accidentally_write_to_opened_file'></a>
<h3>2 cent tip: Prevent Vim to accidentally write to opened file</h3>
<p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]
</p>
</b><br />
<b>Wed, 15 Aug 2007 16:46:51 +0700</b>
</p>

<p>
Hello everybody
</p>

<p>
    Most of us use "view" or "vim -R" in order to execute Vim in 
readonly mode. However, sometimes we accidentally force writing by 
issuing ":w!" command.
</p>

<p>
To prevent this, you can try:
$ vim -m &lt;file&gt;
</p>

<p>
    It really stops you from writing the modified buffer back to the 
backing file. The only exception is when you manually turn write mode on 
via:
:set write
</p>

<p>
have fun!
</p>

<p>
NB: Mr. Okopnik, please include this tip in the next LG release if you 
think this tip is useful for the LG audience. Thanks in advance.
</p>

<p>
regards,
</p>

<p>
Mulyadi.
</p>



<p>

</p>

<p><b>[  <a name="mb-2_cent_tip__prevent_vim_to_accidentally_write_to_opened_file"></a> <a href="misc/lg/2_cent_tip__prevent_vim_to_accidentally_write_to_opened_file.html">Thread continues here (2 messages/2.12kB)</a>  ]</b></p>
<hr />


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/lg_tips.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="lg_bytes"></a>
<h1>NewsBytes</h1>
<p id="by"><b>By <a href="../authors/dyckoff.html">Howard Dyckoff</a></b></p>

</b>
</p>

<p>

<h2>News in General</h2>

<h3>SCO files Chapter 11</h3>

<p>
Just before their September 17th day in court with Novell, SCO filed for protection with the US Bankruptcy Court in Delaware. The case numbers are  07-11337 and 07-11338, for The SCO Group and SCO Operations, Inc.
</p>

<p>
A few days later, Novell filed its own motions to limit the bankruptcy law protections and continue with the damages part of the landmark case.  The SCO actions occurred after the judge had ruled against most of SCO's pretrial motions and granted Novell's motion for a judicial trial rather than a jury trial. Novell had dropped any claim for punitive damages, paving the way to drop a jury trial.  According to Groklaw [http://www.groklaw.net/article.php?story=20070907215715563], this last trial was to determine what SCO owed because Novell retained an equity interest in royalties from the System V Unix licenses.
</p>

<p>
SCO filed a voluntary petition for reorganization under Chapter 11 of the United States Bankruptcy Code.  This effectively stops the on-going legal proceedings and allows SCO to reorganize and restructure its debt as it continues its operations.
</p> 

<p>
SCO also received a notice from the NASDAQ Stock Market indicating that its securities will be delisted from NASDAQ on September 27, 2007.
</p>


<h3>Intel Launches 'LessWatts.org' Open Source Project for Linux Systems Power Savings</h3>

<p>
At its DEVELOPER FORUM (IDF) in San Francisco, Intel launched an open source community project designed to increase energy efficiency spanning servers in data centers to personal mobile devices.  The new LessWatts.org initiative brings together the community of Linux developers, OSVs and end users to facilitate technology development, deployment and tuning and sharing of information around Linux power management.
</p>

 

<p>
For large data centers, server power consumption imposes limits on a center's growth and has significant financial and environmental costs. In addition to the large data center customers, mobile users are also constrained by power consumption limits as battery space is continually squeezed with the overall reduction in size of mobile devices. In both the server and the mobile markets, Linux operating systems continue to grow in relevance and market segment share.
</p>

 

<p>
"We created LessWatts.org to accelerate technology development and simplify information sharing for effective power management across a broad spectrum of devices and industry segments that are utilizing Linux," said Intel's Renee James. "A focused initiative that aggregates the disparate efforts into a holistic system and builds on our existing efforts with the industry in the Climate Savers Computing Initiative will serve as a strong catalyst to get energy-efficient solutions into the market segment faster, thereby benefiting the customers who purchase Intel-based products."
</p>

 

<p>
The LessWatts.org initiative encompasses several key projects including Linux kernel enhancements (such as the "tickless idle" feature that takes better advantage of power saving hardware technologies), the PowerTOP tool that helps tune Linux applications to be power aware and the Linux Battery Life Toolkit to measure and instrument the impact of Linux code changes on power savings. Additionally, LessWatts.org provides Linux support for hardware power saving features being implemented in current and upcoming Intel platforms.
</p>

 

<p>
Tips on the site include:<br>
-- Enable the power aware SMP scheduler [ <a href="http://www.lesswatts.org/tips/cpu.php#smpsched">http://www.lesswatts.org/tips/cpu.php#smpsched</a> ]<br>
-- Use SATA link power management  [ <a href="http://www.lesswatts.org/tips/disks.php#alpm">http://www.lesswatts.org/tips/disks.php#alpm</a> ]
</p>

 

<p>
At the launch, representative from Oracle, Novell, and Red Hat expressed support for the project and efforts to reduce the environmental impacts of computing.
</p>  

 

<p>
"Novell is working hard to be eco-friendly and customer-friendly at the same time by providing better power management technologies as part of SuSE* Linux Enterprise," said Jeff Jaffe, Novell executive vice president and chief technology officer. "We are committed to helping drive the technology forward as part of LessWatts.org and providing value to our customers by incorporating that technology into upcoming SuSE Linux Enterprise releases."
</p>

 

<p>
With the the tools and tips on the Less Watts website, an enterprise could save 10 watts of power on dual processor servers.  More information is available at <a href="http://www.lesswatts.org">http://www.lesswatts.org</a>.
</p>

 

<p>
 LG spoke with Arjan Van de Ven, who was demoing the LessWatt.org web site at the IDF showcase.   Arjan works in Portland, Or., at Intel's Open Source Tech Center, which is part of thier Software Solutions Group.     "In the communijty, individual and small project efforts have been under way for some time and some developments, like PowerTOP resulted from these.  But we wanted to have a system-wide perspective on power consumption.   It was the next logical step for us."     Arjan said that he and his coworkers wanted to draw on both the developer community and users at large to focus on power and utilization issues in an end-to-end way and the wiki style of the project should accomplish that.   He noted that user imput had improved PowerTop and other tools.   "The next thinkg we want to do is perform a gap analysis to see where we need to address new effort.  This is about really impacting power use, not just tech for tech's sake."
</p>

 


<h3>VMWorld shows off 32 MB Hypervisor</h3>

<p>
VMWorld, the user conference for VMware, occurred in mid-September and attendees were surprized and delighted by a preview of VMware ESX 3i. This announcement followed a long period of rumors concerning a VMware lite product.  ESX 3i is a tiny but fully functional version of ESX 3 that stripped out its 2 GB service console -- based on a hardened version of RHEL 3 -- and leaving only the petite 32 MB core ESX kernel. That's small enough to fit on an ancient digital camera SD memory card and Dell was demonstrating a concept server that used just such an SD card to boot ESX on bare metal.
</p> 

<p>
After the keynote announcement,  IBM and HP also showed ESX 3.1 server implementations.  All are planned for release by year-end or early 2008.
</p>

<p>
VMware has provided most of the conference keynotes and presentations - slides and audio - on links from here:<br>
<a href="http://www.vmworld.com/vmworld/home.jspa">http://www.vmworld.com/vmworld/home.jspa</a>
</p>


<h3>BEA announces "Genesis" - Web 2.0 tools for the Enterprise - and Virtual WebLogic</h3>

<p>
Playing a new card in its SOA strategy at its annual BEAWorld conference, BEA Systems CEO Alfred Chuang introduced Project Genesis, their next-generation business application platform that can "mash up" a Web 2.0 gumbo of open-source technologies, service-oriented architecture (SOA), social-computing features and add a dash of business process management.
</p> 
 

<p>
CEO Chuang told BEAWorld attendees that the software paradigm is changing and  the "era of innovation with packaged enterprise applications is over."  Application customization still takes too long, he added, because customers today need to adjust their IT systems in real time to meet changing business conditions
</p>

<p>
BEA's Project Genesis will try to radically simplify how businesses deliver at new or revised applications. With Genesis, both business users as well as IT staff will be able to quickly assemble and deploy dynamic business applications for competitive advantage. Genesis extends the BEA AquaLogic product family with tools for a simplified approach for assembling and modifying business applications.
</p>

<p>
CEO Chung told analysts that BEA is moving to support SAAS (software as a service) both within and outside the enterprise. "User-driven applications will be everywhere. Genesis realigns the entire application landscape. It will include user-based pricing and monitoring built into the architecture to make it truly deployable. It's architected to last."
</p>

<p>
Chung told LG that many of the components in Genesis will be derived from Open Source projects and that BEA will also contribute some of its Genesis IP to the software community as the project develops.   This is a significant strategic shift for BEA and represents an attempt to supports businesses of all sizes.
</p>

<p>
Also at BEAWorld, BEA announced WebLogic Server 10.3, the next release of their leading Java application server.   New features include support for Java SE 6, SAML 2 and Spring 2.1 which will provide better performance and control, improved security and OSS enhancements.  BEA WebLogic Server 10.3 should be available in Q1 2008.
</p>

<p>
Attendees previewed early lab test results by BEA and Intel on the WebLogic discrete virtual appliance, called LiquidVM.  The technology behind it runs Java about two times more efficiently than using the normal OS-based software stack on VMware Infrastructure. Because LiquidVM is a JVM that runs directly on top of the VMware ESX Server hypervisor platform, without a traditional OS, it can manage memory resources for Java applications much more efficiently. This can increase hardware utilization and reduce TCO. This approach to Java virtualization is unique in the industry.
</p>

<h3>Icahn boosts BEA stake, calls for sale of company</h3>
<p>
Right after BEAWorld SF and its announcement of new directions for BEA, billionaire investor Carl Icahn increased his stake in BEA to 8.5 percent and then urged the company's board to put BEA up for sale. "It is becoming increasingly difficult for a stand-alone technology company to prosper, especially in light of the very strong competitors in the area", Icahn said in his filing.  Icahn may also seek to have BEA hold a shareholder meeting, since the last one was in 2006.
</p>

<p>
Icahn said a larger software maker would be able to give BEA's WebLogic products to its sales force to sell, increasing the product's exposure while reducing its overhead.
</p>

<p>
BEA shares rose to $13.25, in Nasdaq trade, on the news. The stock has fallen about 12 percent over the past year, while IBM and Oracle shares had double digit gains.
</p>

<p>
Motley Fool postings on BEA note it's less than stellar financial performance in the past year.  BEA has been transitioning  to  Service-Oriented Architecture (SOA) software with mixed results.  But at BEAWorld several sessions highlighted a deepening primary partnership with Accenture on SOA for government agencies and fortune 100 companies, resulting in an SOA best-practices web site for Accenture and other primary partners.   Perhaps BEA is finally ready to reap some rewards from its investments in technology and in consulting services.
</p>

<p>
On Sept. 20th, Icahn raised his stake in BEA to 9.9 percent, or a total of 38.7 million shares.
</p>


<p>
<a href="http://www.fool.com/investing/dividends-income/2007/09/18/icahn-beats-up-bea.aspx">http://www.fool.com/investing/dividends-income/2007/09/18/icahn-beats-up-bea.aspx</a><br>
<a href="http://www.fool.com/investing/general/2007/02/26/some-more-fallout-for-bea.aspx">http://www.fool.com/investing/general/2007/02/26/some-more-fallout-for-bea.aspx</a>
</p>

<h3>Intel adds to its Roadmap with 45 nm, 32 nm chips and USB 3.0</h3>

<p>
Intel added details to its chip road map with plans for new CPUs after its first 45 nm 'Penryn' chip.   The details were in an avalanche of announcements during its Developer Forum (IDF) in September.
</p> 

<p>
First up was 'Nehalem', demonstrated on-stage by Intel's Paul Otellini.  Nehalem is an entirely new scalable processor with 731 million transistors,  simultaneous multithreading, and a multi-level cache architecture. Nehalem is anticipated to provide three times the peak memory bandwidth of current competing processors.  It features the new 'QuickPath' memory interconnect for a high speed system data path to Nehalem's processor cores.  This is similar to features currently in AMD's Opteron family of multicore processors.
</p>


<p>
Nehalem is on track for production in the second half of 2008.
</p>


<p>
Otellini said that Intel plans to offer greener line of 25-watt mobile dual-core Penryn processors for thinner and lighter laptop PCs. With low power chipsets, the 25W Penryn processor will be the next generation Centrino technology, codenamed 'Montevina' for mid-2008.
</p>


<p>
Otellini wowed the IDF attendees by showing off the first test wafers for 32 nm chips.   Intel has reached a milestone in the next-generation of  32nm static random access memory (SRAM) chips with more than 1.9 billion transistors each. Intel is on track to ramp to 32nm technology in 2009.
</p>


<p>
Intel and key partners formed the USB 3.0 Promoter Group to develop a super-speed personal USB interconnect that is expected to be over 10 times the speed of today's connection. USB 3.0 is backward compatible with USB 2.0, and the specification is expected to be complete in the first half of 2008.  As an example, a 27GB HD-DVD could be downloaded 70 seconds using USB 3.0.
</p>


<h2>Events</h2>

<h3>Conferences and Events</h3>

<p>
<strong>SCALE 6x</strong><br>
Main conference: <a href="http://www.socallinuxexpo.org/scale6x/documents/scale6x-cfp.pdf">http://www.socallinuxexpo.org/scale6x/documents/scale6x-cfp.pdf</a><br> 
Women in Open Source mini-conference: <a href="http://www.socallinuxexpo.org/scale6x/documents/scale6x-wios-cfp.pdf">http://www.socallinuxexpo.org/scale6x/documents/scale6x-wios-cfp.pdf</a><br> 
Open Source in Education mini-conference: <a href="http://www.socallinuxexpo.org/scale6x/documents/scale6x-education-cfp.pdf">http://www.socallinuxexpo.org/scale6x/documents/scale6x-education-cfp.pdf</a> 
</p>


<h3>October</h3>

<p>
SAP TECHED '07<br>
October 1 - 5, Las Vegas, NV<br>
<a href="http://www.sapteched.com/usa/reg/home.htm">http://www.sapteched.com/usa/reg/home.htm</a>
</p>


<p>
BEAWorld 2007 Barcelona<br>
October 2 - 4, Palau de Congressos de Catalunya<br>
<a href="http://www.bea.com/beaworld/es/index.jsp?PC=1AUGAATDM">http://www.bea.com/beaworld/es/index.jsp?PC=1AUGAATDM</a>
</p>


<p>
BI, Warehousing, and Analytics (BIWA) Summit<br>
October 2-3, 2007 Oracle Corp, Reston, VA [ $200 for both days] <br>
<a href="http://ioug.itconvergence.com/pls/apex/f?p=219:1:2287387044911126">http://ioug.itconvergence.com/pls/apex/f?p=219:1:2287387044911126</a>
</p>


<p>
Zend/PHP Conference &amp; Expo 2007<br>
October 8 - 11, San Francisco, California<br>
<a href="http://www.zend.com/store/zend_php_conference?emlstr=en-early-bird-0708">http://www.zend.com/store/zend_php_conference?emlstr=en-early-bird-0708</a>
</p>


<p>
Designing and Building Business Ontologies<br>
October 9 - 12; San Francisco, California<br>
<a href="http://www.wilshireconferences.com/seminars/Ontologies/">http://www.wilshireconferences.com/seminars/Ontologies/</a>
</p>


<p>
Ethernet Expo 2007<br>
October 15 - 17, Hilton New York, New York<br>
<a href="http://www.lightreading.com/live/event_information.asp?survey_id=306">http://www.lightreading.com/live/event_information.asp?survey_id=306</a>
</p>


<p>
ISPCON FALL 2007<br>
October 16 - 18, San Jose, CA<br>
<a href="http://www.ispcon.com">http://www.ispcon.com</a>
</p>


<p>
Interop New York<br>
October 22 - 26<br>
<a href="http://www.interop.com">http://www.interop.com</a>
</p>


<p>
LinuxWorld Conference &amp; Expo<br>
October 24 - 25, London, UK<br>
<a href="http://www.linuxworldexpo.co.uk">http://www.linuxworldexpo.co.uk</a>
</p>

<h3>November</h3>

<p>
CSI 2007<br>
November 3 - 9, Hyatt Regency Crystal City, Washington, D.C.<br>
<a href="http://www.csiannual.com">http://www.csiannual.com</a>
</p>


<p>
Interop Berlin<br>
November 6 - 8, Berlin, Germany<br>
<a href="http://www.interop.eu">http://www.interop.eu</a>
</p>


<p>
Oracle OpenWorld San Francisco<br>
November 11 - 15, San Francisco, CA<br>
<a href="http://www.oracle.com/openworld">http://www.oracle.com/openworld</a>
</p>


<p>
Supercomputing 2007<br>
November 9 - 16, Tampa, FL<br>
<a href="http://sc07.supercomputing.org">http://sc07.supercomputing.org</a>
</p>

<p>
Certicom ECC Conference 2007<br>
November 13-15, Four Seasons Hotel, Toronto<br>
[focused on the use of Suite B crypto algorithms in the enterprise]<br>
<a href="http://www.certicom.com/index.php?action=events,ecc2007_intro">http://www.certicom.com/index.php?action=events,ecc2007_intro</a>
</p>

<p>
Gartner Identity &amp; Access Management Summit<br>
14-16 November 2007, Los Angeles, CA<br>
<a href="http://www.gartner.com/it/page.jsp?id=502298&amp;tab=overview">http://www.gartner.com/it/page.jsp?id=502298&amp;tab=overview</a>
</p>

<p>
Gartner - 26th Annual Data Center Conference<br>
November 27-30, Las Vegas, NV<br>
<a href="http://www.gartner.com/it/summits/lsc26/index.jsp">http://www.gartner.com/it/summits/lsc26/index.jsp</a>
</p>

<h3>December</h3>

<p>
Agile Development Practices Conference<br>
December 3-6, Shingle Creek Resort, Orlando, FL<br>
<a href="http://www.sqe.com/agiledevpractices/Schedule/Default.aspx">http://www.sqe.com/agiledevpractices/Schedule/Default.aspx</a>
</p>


<h3>LPI Offers Discounted Certification Exams at Ohio LinuxFest 2007</h3>

<p>
The Linux Professional Institute (LPI), the world's premier Linux certification organization
(<a href="http://www.lpi.org">http://www.lpi.org</a>), will offer discounted LPIC-1, LPIC-2 and the
Ubuntu Certified Professional exams to attendees of the Ohio LinuxFest
2007 (Columbus, Ohio) on Sunday, September 30, 2007.
</p>

<p>
Exam labs will be at 1 p.m. and 3:30 p.m. on September 30th at the Drury
Inn &amp; Suites Columbus Convention Center (88 East Nationwide Boulevard,
Columbus, Ohio) in the lobby ballroom. "All Conference Pass" attendees
of the Ohio Linux Fest will be able to take any exam for $85 each.
Other discounts are available for free registered attendees and those
not participating in the Ohio LinuxFest--please see details on discounts
and other information on the exam labs at <a href="http://www.ohiolinux.org/lpi.html">http://www.ohiolinux.org/lpi.html</a>.
All exam candidates are asked to obtain an LPI ID at
<a href="http://www.lpi.org/en/lpi/english/certification/register_now">http://www.lpi.org/en/lpi/english/certification/register_now</a> and bring
valid photo identification and their LPI-ID number to the exam labs.
Payment for exams can be made by cash or cheque.
</p>

<p>
During the Ohio LinuxFest, Don Corbet (long time LPI volunter and LPI
Advisory Council member) will provide LPIC-1 exam cram sessions to
prepare for this exam lab.  Exam Cram sessions will be from 9 - 12 noon
(LPI Exam 101) and again from 1 - 5 p.m. (LPI Exam 102), at the Greater
Columbus Convention Center C-Pods. These exam cram sessions are part of
the Ohio LinuxFest University program.  For more information on the Ohio
LinuxFest University program please see:<a href="http://www.ohiolinux.org/olfu.html">http://www.ohiolinux.org/olfu.html</a> 
Linux professionals, exam candidates, and IT trainers are also invited
to visit LPI representatives at booth #27 during the Ohio LinuxFest.
</p>

<p>
For those interested in attending Ohio LinuxFest please know that the
the "All Conference Pass" registration has been extended to September
23rd. Free conference passes are also available for a limited number of
events.  For more information please see
<a href="http://www.ohiolinux.org/register.html">http://www.ohiolinux.org/register.html</a>
</p>



<h2>Distros</h2>

<h3>Release Candidate for openSUSE 10.3 available</h3>

<p>
The openSUSE development team has announced the availability of a release candidate for openSUSE 10.3, the last development build before the stable release on October 4th.  This release is stable, and suitable for testing by any user. Technical changes include libzypp 3.24; VirtualBox 1.5; OpenOffice.org 2.3RC3 and countless bug fixes. Note that this release does not include the final packages of GNOME 2.20, which will be added later.
</p>



<h2>Products</h2>

<h3>SWsoft unveils the beta version of Virtuozzo 4.0</h3>

<p>
SWsoft Virtuozzo differs from traditional hardware virtualization solutions in dynamically partitioning a single Windows or Linux operating system instance into scalable virtual environments or "containers". Virtuozzo can enable dozens to hundreds of containers to immediately leverage real hardware, resulting in better datacenter efficiency.
</p>


<p>
Virtuozzo 4.0's improved OS virtualization technology addresses many of the common performance, density, usability and infrastructure compatibility issues that plague traditional hardware virtualization solutions via a number of improvements and new features, including:
</p>

<ul>
    <li> Enhanced Usability - A redesigned interface that offers access to centralized resources, such as easy-to-use application templates and sample containers, plus streamlined installation;
    <li> High Availability - Virtuozzo 4.0 includes several new options to drive uptime, such as Windows Server 2003 and Red Hat clustering services, as well as real-time backups across Windows and Linux platforms;
    <li> Complete Management Flexibility - Arrange and manage virtual containers and Virtuozzo servers according to either the actual hardware infrastructure, or logically group them according to user preference.
</ul>


<p>
Serguei Beloussov, CEO of SWsoft, said,  "With new enterprise-class capabilities such as clustering and real-time backups along with a host of new management and automation features, Virtuozzo is now the most effective path to a streamlined, automated datacenter."
</p>


<p>
Virtuozzo 4.0 will be available for public beta testing by the end of September, with general availability expected later this year. To sign up for the beta program, users can go to www.swsoft.com/virtuozzo4/beta. A free, fully functional trial of Virtuozzo for Windows and Virtuozzo for Linux is available at <a href="http://www.swsoft.com/virtuozzo/trial">http://www.swsoft.com/virtuozzo/trial</a>.
</p>


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/lg_bytes.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>

<img align="left" alt="Bio picture" src="../gx/authors/dyckoff.jpg" class="bio">

<em>

Howard Dyckoff is a long term IT professional with primary experience at
Fortune 100 and 200 firms. Before his IT career, he worked for Aviation
Week and Space Technology magazine and before that used to edit SkyCom, a
newsletter for astronomers and rocketeers. He hails from the Republic of
Brooklyn [and Polytechnic Institute] and now, after several trips to
Himalayan mountain tops, resides in the SF Bay Area with a large book
collection and several pet rocks.

</em>
<br clear="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/dyckoff.html">Howard Dyckoff</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="anonymous"></a>
<h1>Linux Console Scrollback</h1>
<p id="by"><b>By <a href="../authors/anonymous.html">Anonymous</a></b></p>

</b>
</p>

<p>

<p>
We refer here to the GNU/Linux text console - which is not
what you have in a terminal window of a X windows manager
or desktop environment. There is so much confusion on this
point that I'm going to go into trivially-nitpicky detail: a text
console is what you get when you press 'Alt-Ctrl-F1' or 'F2'
and so on while the focus is on the desktop.
</p>


<h3>0. What are we talking about?</h3>

<p>
You are in a text console and text flies by. There is a way to recall it
and have a look by pressing 'Shift-PgUp' or 'Shift-PgDn' or possibly other
keys if you have modified the default keymap (no, not the X keymap.) You
are then using the <em>scrollback buffer</em> (scrollbuffer, for short.) 
</p>

<p>
When trying to put the scrollbuffer to good use, a couple
of things quickly become apparent:
</p>

<ul>
    <li>   only part of the boot messages can be recalled
    <li>   the file /var/log/messages catches a lot less of what
        you are looking for
</ul>

<p>
At this point, the web search starts and preliminary results
emerge:
</p>

<ul>
    <li>   scrollback issues are very old in Linux, they are
        traceable to the early 90s.
    <li>   You can forget everything published prior to kernel
        version 2.6.x.
</ul>

<p>
Indeed, you have to be selective with what you read: if you find any advice
prior to 2.6.x it is likely to confuse you and lead you astray.  Believe
me - I have put in the time so you don't have to.
</p>

<p>
The scrollback behaviour is determined in 'vc.c', a nasty little file in
the kernel source, where 'vc' stands for virtual console.
</p>

<p>
First, note that when you switch consoles, the scrollbuffer is
lost - so the entire size of the scrollbuffer is available for
the current console. (Here especially, there is a pile of
junk from pre-2.6.x times.)
</p>

<p>
The default scrollbuffer size is 32K. With that, you get 4 key presses -
each scrolling half a screen, 25 lines per screen. Figure it
out: that's about 50 lines. You will not get more than that,
even if you have 30 or 50 lines per screen.
</p>

<p>
However, 50 lines are just a small fraction of what flies
by at boot time. So two questions need to be answered:
</p>

<ol>
    <li>  How can the scrollbuffer be increased?
    <li>  Why are the log files not catching some of the messages
          you see at boot time?
</ol>


<h3>1. How can the scrollback buffer be increased?</h3>

<p>
One solution to (1) would be to change the default size in
the kernel source and recompile. Let me assume you are as
inclined to do so as I am (NOT) and would rather look for something
more flexible.
</p>

<p>
Well, there is a way - and it goes through a device called
framebuffer console, 'fbcon' for short. This device has a
documentation file by the name of 'fbcon.txt'; if you have
installed the kernel documentation, you have it. Sniff it out
somewhere in the '/usr/share' branch (I am not stating a path
because it may differ from distro to distro.) Anyway, you can
get it here as a single file:
</p>

<p>
<a href="http://www.mjmwired.net/kernel/Documentation/fb/fbcon.txt">http://www.mjmwired.net/kernel/Documentation/fb/fbcon.txt</a>
</p>

<p>
At this point, sorry: detour! We have <em>got</em> to talk briefly
about the framebuffer.
</p>

<p>
A framebuffer is a buffer between the display and the
graphic adapter. The beauty of it is that this buffer can
be manipulated: it allows for tricks that would be
impossible with the adapter acting directly on the display.
</p>

<p>
One of the tricks concerns the scrollbuffer; for instance,
you can tell the framebuffer to allocate more memory for it.
</p>

<p>
This is done via the kernel boot parameters. First, you request
a framebuffer; then you request a bigger scrollbuffer.
</p>

<p>
The following example refers to GRUB but can be easily
adapted to LILO. In GRUB's 'menu.lst', find the appropriate kernel line,
and:
</p>

<ol type="a">
<li> delete option 'vga=xxx', if present
<li> append option 'video=vesabf' or whatever fits your hardware
<li> append option 'fbcon=scrollback:128'
</ol>

<p>
The kernel line would then look something like the following;
</p>

<pre>
    kernel /vmlinuz root=/dev/sdb5 video=radeonfb fbcon=scrollback:128
</pre>

<p>
Why are we deleting the option 'vga=xxx'? Because it may
conflict with the video option. On my ATI adapter, I cannot
change the scrollbuffer if 'vga=xxx' is present. This may not
apply in your case.
</p>

<p>
The options just listed do work but what if you want more
lines and a smaller font on the screen? You used to have that with
the 'vga=xxx' option - and that option is gone.
</p>

<p>
Take heart - it can still be done with fbcon parameters as detailed in
'fbcon.txt' (but not detailed here.) Under Ubuntu and Debian
there is a more comfortable way:
</p>

<pre>
    dpkg-reconfigure console-setup
</pre>

<p>
It makes sense to use this command because it also adjusts
the initial ram disk (initrd) to your new settings.
</p>


<h3>2. Pushing up the cap</h3>

<p>
The option 'fbcon=scrollback:128' gives you 12-13 key
presses to traverse the scrollbuffer. That is approx. 150
lines - quite a bit, but possibly still not enough to catch all
the boot messages. Can we say more than 128, e.g. 256?
</p>

<p>
The cap of 128 is set in 'vc.c'. If you want more, you can
edit it and recompile.
</p>

<p>
For myself, I decided that it is not worth it. Before that
I almost believed that I found a higher cap - I quote from
'fbcon.txt':
</p>

<pre>
    fbcon=scrollback:&lt;value&gt;[k]
    ...
        The 'k' suffix is optional, and will multiply
        the 'value' by 1024.
</pre>

<p>
I rushed to try it out... and whatever the author was thinking,
rest assured that 128 and 128k will give you exactly the same result.
The default cap is 128KB of memory and that's the end of it.
</p>

<p>
Finally, note that using an extended scrollbuffer implies writes
to both the graphic adapter hardware and the buffer in memory.
If you use the default of 32KB, there is only a write to the
hardware. In practice, I was unable to notice any slowdown.
</p>


<h3>3. What's missing in the logs?</h3>

<p>
In Ubuntu and Debian and other distros all system messages
are logged to the file '/var/log/messages'. This applies
even if the log service (daemon) is not the old syslog but
syslog-ng ('ng': "new generation").
</p>

<p>
In both cases, you can view the messages by issuing 'dmesg' at the command
prompt.  It still doesn't help, though: you saw messages at boot time and
they are certainly not in the log. How come?
</p>

<p>
It is a <strong>feature</strong>, not a bug! The messages logged to the
file come from various subsystems of the operating system. The contributing
subsystems are referred to as 'facilities', and there are 8 of them. If, at boot
time, scripts or applications are run that do not belong to any facility,
you will see their messages rushing past your eyes - but nothing will be
written to the log file!
</p>

<p>
As an example you will not see the messages produced by
'loadkeys' (openSUSE) or 'consolechars' (Ubuntu and Debian) when
loading keymaps at boot time. Another example: when
running a text console editor you can scroll back its
display (including colour) using the scrollbuffer but what the
editor produced will never go to the system log file. The
reason is, of course, that 'loadkeys', 'consolechars', and
the editor do not belong to any facility.
</p>

<p>
Can this be changed? Yes - "just" customize and recompile those
applications you want logged. And/or modify the boot
scripts. And force logging of messages outside the system
facilities.
</p>

<p>
My bet is you are not going to do it.
</p>

<p>
(And your most likely response is: "nothing is missing from <em>my</em> log files." Oh
well...)
</p>

<script type="text/javascript">
digg_url = 'http://linuxgazette.net/143/anonymous.html';
digg_title = 'Linux Console Scrollback';
digg_bodytext = 'You are in a text console and text flies by. There is a
way to recall it and have a look. You are then using the
scrollback buffer (scrollbuffer, for short) pressing
Shift-PgUp or Shift-PgDn or possibly other keys if you have
modified the default keymap';
digg_topic = 'linux_unix';
</script>


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/anonymous.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<!-- ============================================================= -->
<!-- *** BEGIN bio *** -->
<hr>

<p>
<img ALIGN="LEFT" ALT="Bio picture" SRC="../gx/2002/note.png" class="bio">
<em>

A. N. Onymous has been writing for LG since the early days - generally by
sneaking in at night and leaving a variety of articles on the Editor's
desk. A man (woman?) of mystery, claiming no credit and hiding in
darkness... probably something to do with large amounts of treasure in an
ancient Mayan temple and a beautiful dark-eyed woman with a snake tattoo
winding down from her left hip. Or maybe he just treasures his privacy. In
any case, we're grateful for his contribution.<br>
 -- Editor, Linux Gazette

</em>
<br CLEAR="all">

<!-- *** END bio *** -->

<!-- ============================================================= -->


<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/anonymous.html">Anonymous</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="pfeiffer"></a>
<h1>Securing Apache Web Server with mod_security</h1>
<p id="by"><b>By <a href="../authors/pfeiffer.html">Ren&eacute; Pfeiffer</a></b></p>

</b>
</p>

<p>
<p>
The Internet has its share of packet filters and proxy servers in order to
increase the security for clients and servers alike. Filtering network
traffic is never a bad idea since it provides a basic level of protection.
When it comes down to protecting web servers your packet filter will most
probably allow HTTP and HTTPS traffic to your server application. Unless
you deploy an application proxy that inspects HTTP you can't do more.
But you can equip your Apache web server with <tt>mod_security</tt> which in
turns helps you to analyse any request thrown at it.
</p>

<h2>
Application Layer Inspection
</h2>

<p>
When you do any network traffic filtering or inspection you have to keep in mind
that usually nothing understand the things that should be inspected better than
the application in question. This is one of the reasons why proxy filters are
"better" suited for this job. They know the protocol and can normalise fancily
encoded requests. <tt>mod_security</tt> is in a very similar position. It sits
right inside the Appache <tt>httpd</tt> process and inspects the HTTP requests.
This is an important advantage over proxies since it can also see compressed or
even encrypted content without difficulties.
</p>
<p>
So, what needs to be inspected? Apache's <tt>httpd</tt> surely does inspect HTTP
requests. What do I need more? Well, there are some things <tt>mod_security</tt>
can do for you.
<ul>
<li> <strong>Better logging</strong><br>
     The module can log the content of HTTP POST requests. Apache usually doesn't log
     that. Furthermore you can log complete HTTP transactions. This makes the job
     of a potential attacker harder. In addition to that you have a very fine
     control on what and when to log.</li>
<li> <strong>Real time operation</strong><br>
     <tt>mod_security</tt> sees the requests directly and can act immediately.</li>
<li> <strong>Anomalies</strong><br>
     The security module can act on anomalies in the web server operation by
     looking at request rates, IP addresses, HTTP sessions and user account.</li>
<li> <strong>Black-/whitelisting</strong><br>
     You can use a signature-based approach and define what you want to allow and
     what you want to block.</li>
<li> <strong>Protects other web servers</strong><br>
     You can even protect other web server software by combining it with <tt>mod_proxy</tt>.
     The Apache server can act as reverse proxy thus seeing all HTTP requests and applying
     rule sets.</li>
</ul>
Sounds pretty impressive if you ask me. 
Now we only need to know how to add it to an existing Apache deployment.
</p>

<h2>
Installation
</h2>

<p>
The current released version is 2.x. It works well with Apache 2.0.x and 2.2.x. Apache 1.3.x is not
supported anymore (you should really upgrade your Apache servers, seriously). <tt>mod_security</tt>
has some more requirements.
<ul>
<li> You'll need the module <tt>mod_unique_id</tt> installed.</li>
<li> libxml2 and its development package is needed since the module can inspect XML and has to
     parse it.</li>
<li> If you use an Apache web server from your distribution, make sure the development packages
     are installed as well.</li>
<li> You'll need either the PCRE library for parsing regular expressions from your operating
     system or bundled with your Apache. <tt>mod_security</tt>'s documentation has a special
     note in case the compilation goes wrong.</li>
</ul>
<tt>mod_security</tt> doesn't use <tt>autoconf</tt>. You have to check its Makefile and
tell it where the <tt>ServerRoot</tt> directory of your Apache installation is. Then you can
try <tt>make</tt> and see if everything compiles. If you get compilation errors, make sure
your compiler environment and your development packages are complete. After the <tt>make</tt>
command finishes, stop your Apache server and issue a <tt>make install</tt>. The Makefile
will copy the module into the Apache server modules directory (usually
<tt>/usr/local/apach2/modules/</tt> for a compiled web server, your distribution may put the
modules elsewhere). Now you only need to active the module by adding the following lines to
your Apache configuration.
<pre class="code">
LoadFile /usr/lib/libxml2.so # optional
LoadModule security2_module modules/mod_security2.so
</pre>
There we go. The only thing we need is to configure the module and the rule sets.
</p>

<h2>
Configuration
</h2>

<p>
<i>One word of caution:</i> Every security measure must be applied with a specific purpose.
You can't just add filters without thinking about the consequences for applications. You or
your users may have web applications running that break when special security measures are
activated. If you are not sure about not breaking something you can use all rule sets and
actions in "audit mode". Then <tt>mod_security</tt> will only log but not block. This is a good
idea to test everything until you are sure to switch to "live mode". It also keeps your users
happy.
</p>
<p>
A very simple test is to add a single rule by using the following two lines:
<pre class="code">
SecRuleEngine On
SecRule REQUEST_URI attack
</pre>
Now send your web server a request with the word <i>attack</i> in it. You should get the
error code <i>403 Forbidden</i> and the blocked request should generate an entry in
Apache's error log file. If you set the first option to
<pre class="code">
SecRuleEngine DetectionOnly
</pre>
then the module will only detect and block nothing. We will now take a look at the classes
of different options available. Please make sure you take a look at <tt>mod_security</tt>'s
documentation and at the file in the sample core rules archive that can be downloaded.
</p>

<h3>
General Options
</h3>

<p>
<tt>mod_security</tt> has several groups of options. Here are some of the basic configuration
directives.
<pre class="code">
SecRuleEngine On
SecRequestBodyAccess On
SecResponseBodyAccess On
</pre>
The first line switches request inspection on or off. The other two lines control whether
request and response body data will be inspected by the module. Keep in mind that the data
has to be buffered. This means that it is required for inspecting HTTP POST requests, but
it has to be buffered and thus needs memory. You can reduce the amount of memory used by
this directive.
<pre class="code">
SecRequestBodyInMemoryLimit 131072
</pre>
You can also limit the size of the HTTP request body data. This is very handy for disabling
large data in HTTP POST requests.
<pre class="code">
SecRequestBodyLimit 10485760
</pre>
Every request bigger than 10485760 byte will be answered by the error code 
<i>413 Request Entity Too Large</i>. The default is 134217728 bytes (131072 KB).
</p>
<p>
Web servers typically include the MIME type of data they put into responses. You can control
the types you want to inspect. Usually you will not want to parse JPEG or PDF data.
<pre class="code">
SecResponseBodyMimeTypesClear
SecResponseBodyMimeType (null) text/plain text/html text/css text/xml
</pre>
The first statement clears the list of types to be checked. The second line sets the types
we are interested in. File uploads may be something you wish to control. You can redirect
every file upload to a seperate directory. In addition you can collect all
uploaded files to your server provided you have the disk space. This may be useful for forensic
activities after something has gone wrong.
<pre class="code">
SecUploadDir /var/spool/apache/private
SecUploadKeepFiles Off
</pre>
It is good practice not to use the usual directories for temporary files for storing uploads.
Create a directory for this purpose and set the permissions accordingly. Only Apache needs
to access this space.
</p>

<h3>
Logging
</h3>

<p>
You can enable audit logging which can help you a lot during debugging or worse situations.
You have the choice of logging everything or only events that triggered one of <tt>mod_security</tt>'s
internal checks. This includes the rule sets.
<pre class="code">
SecAuditEngine RelevantOnly
SecAuditLogRelevantStatus "^[45]"
</pre>
We want to log only relevant events and concentrate on responses that generate 4xx or 5xx
status codes. That's what the regular expression is for. You can do a full logging if you need to.
The log can be written into a single file or into a directory with one file per log event. The latter
is usually only for high volume sites. 
<pre class="code">
SecAuditLogType Serial
SecAuditLog /var/log/www/modsec_audit.log
# SecAuditLogStorageDir /var/log/www/modsec_audit
</pre>
As mentioned before the content that can be logged is extended. You can log portions of the original
HTTP request along with the response. 
<pre class="code">
SecAuditLogParts "ABEIFHZ"
</pre>
This means we want to log the audit header and trailer (options A and H), the original request (option
B), an intermediate response body (option E), the modified request body (option I), the final response 
header (option F) and the final
boundary of the log event (option Z, which is mandatory). The intermediate response body is either
the original response or the modified response by <tt>mod_security</tt>. The modified request body
is either the original request body or a shortened variant whenever <i>multipart/form-data</i>
encoding was used. The default options are "ABIFHZ".
</p>

<h3>
Rules
</h3>

<p>
The security module uses five distinct phases for processing requests to and responses from the
web server.
<ol>
<li> Parse request headers</li>
<li> Parse request body</li>
<li> Parse response headers</li>
<li> Parse response body</li>
<li> Do logging</li>
</ol>
It is important to keep this in mind when designing rule sets, almost just as in designing 
packet filters. The directive <tt>SecRule</tt> describes a rule.
<pre class="code">
SecRule VARIABLES [OPERATOR] ACTIONS
</pre>
When written in this form <tt>mod_security</tt> will
<ol>
<li> expand the variables,</li>
<li> apply the operator if present,</li>
<li> trigger once for a match in every variable,</li>
<li> and execute
     <ol>
     <li> the default action or</li>
     <li> the actions described in the rule.</li>
     </ol>
     </li>
</ol>
Remember the test rule with the string "attack". We told the module to check the variable
<tt>REQUEST_URI</tt> of the HTTP request and apply the regular expression operator consisting
of the desired string to look for. We didn't give any action, so the default action applies.
You can combine variables by using logical operators.
<pre class="code">
SecRule "REQUEST_URI|QUERY_STRING" attack
</pre>
This does the same but with two different variables. The action will be triggered if the 
string fragment is found in either variable. You can use well known operators inside rules.
Matching of regular expressions is done by the PCRE library, so you can use any constructs
PCRE understands (which is basically everything you can do in Perl's pattern matching).
Long lines can be split by using "\" just as in Bash shell scripts.
</p>
<p>
Keep in mind that the <tt>VARIABLES</tt> section contains variables. Their content changes.
If the variable is empty or not present, the rule doesn't match. This is importent and 
desired for parameter checking. Variables can be <tt>ARGS</tt>, <tt>FILES</tt>, <tt>FILES_TMPNAMES</tt>,
<tt>ENV</tt>, <tt>REMOTE_PORT</tt>, <tt>QUERY_STRING</tt>, <tt>SCRIPT_BASENAME</tt>,
<tt>AUTH_TYPE</tt>, <tt>REQUEST_COOKIES</tt>, <tt>SESSIONID</tt>, <tt>TIME</tt> and many more. 
The reference has a complete list. 
</p>

<h3>
Operators
</h3>

<p>
<tt>mod_security</tt> rules can contain operators. They are used to validate the request
or look for special anomalies. The "@" indicates that an operator follows.
<pre class="code">
SecRule ARGS "@validateUtf8Encoding"
SecRule ARGS "@validateByteRange" 10,13,32-126
</pre>
The first rule checks the request for valid UTF-8 encoding. The second example checks for
a specific range of characters in the request. If the request contains other characters
than linefeed, carriage return or the US ASCII characters then the action is triggered.
You can also invoke additional scripts.
<pre class="code">
SecRule FILES_TMPNAMES "@inspectFile /usr/local/bin/check_file.pl" 
</pre>
This redirects any uploaded files to the Perl script for further checks. The exit code
of the script tells <tt>mod_security</tt> whether to invoke the action or not. You can even
use realtime blacklists for your rules.
<pre class="code">
SecRule REMOTE_ADDR "@rbl bad.guys.and.girls.example.net"
</pre>
</p>

<h3>
Actions
</h3>

<p>
There are five general types of actions.
<ol>
<li> Disruptive actions - abort current transaction.<br>
     <ul>
     <li> deny - stops transaction and generates an error.</li>
     <li> drop - drops transaction without error.</li>
     <li> redirect - responds with a redirection (such as 301 or 302).</li>
     <li> proxy - forwards the request to another server.</li>
     <li> pause - slows down the execution of the request.</li>
     </ul>
     </li>
<li> Non-disruptive actions - change the state of the current transaction.</li>
<li> Flow actions - change the flow of the rules.<br>
     <ul>
     <li> allow - stops processing of subsequent rules.</li>
     <li> chain - combines the active rule with the next one.</li>
     <li> pass - ignores a match in the current rule; useful for commenting rules out, but leave them
          still active.</li>
     <li> skip - skip the next or more rules.</li>
     </ul>
     </li>
<li> Meta-data actions - contain meta data for rules as additional information; useful for
     logging.</li>
<li> Data actions - are placeholders for other actions.</li>
</ol>
The default action can be set with the directive <tt>SecDefaultAction</tt>. It can be changed
whenever you need it, so you can define blocks of rules with different default actions.
The actions are very similar to the ones used by the intrusion detection/prevention software
<a href="http://www.snort.org/">Snort</a>. They give you a lot of flexibility and allow for 
quite complex coverage of tests. Here's is one example from the core rules that look for
attempts to inject an email message into the request.
<pre class="code">
SecRule REQUEST_FILENAME|ARGS|ARGS_NAMES|REQUEST_HEADERS|XML:/* "[\n\r]\s*(?:to|bcc|cc)\s*:.*?\@" \
  "t:none,t:lowercase,t:urlDecode,capture,ctl:auditLogParts=+E,log,auditlog,msg:'Email Injection Attack.
  Matched signature &lt;%{TX.0}&gt;',,id:'950019',severity:'2'"&lt;/%{TX.0}&gt;
</pre>
Note that I inserted a line break for better readability. The action parameter is a single string
and tell the module to log every match to the normal log and the audit log with the message
text <i>Email Injection Attack</i> along with some parameters of the request. The core rules
have more examples for other attacks such as cross-site scripting, SQL injection, HTTP anomalies
and the like.
</p>

<h3>
Rule Management
</h3>

<p>
Make sure that you keep your rule files in good order and make sure that you document every
change. This is very important. Any kind of filter can break whole applications and protocols.
Therefore you need to now what changes caused which effects. You will also need this information
when developing your own rules. Bear in mind that custom web applications need custom rules.
Some attacks may be the same, but customised applications have their peculiarities that have
to be considered. A good place to start are the core rule sets. You can disable rules without
deleting them from the configuration. This is extremely useful in case you wish to distribute
rules to multiple servers. You can do that by splitting your rule into multiple files and have
a master configuration that enables or disables selected sets.
</p>

<h2>
Performance and Deployment
</h2>

<p>
Everything has a price and so does filtering HTTP requests. <tt>mod_security</tt> needs to holds
the request in a buffer or has to store it to a temporary file. You have to take this into account.
The parsing add a little overhead in terms of CPU cycles to the web server as well. If you install
the module on a server that already has performance issues things won't get better. That's what
the reverse proxy method is for. Hard hit sites probably won't go anywhere without additional
proxies.
</p>
<p>
One last thing to keep in mind are your own web applications. Don't just set up the core rules
and accept all defaults. Inspect the rule sets and decide for yourself if you need all the rules.
Things can break if you are not careful enough. No one knows your web apps better than you.
Use this knowledge to your advantage.
</p>

<h2>
Useful resources
</h2>

<p>
<ul>
<li> <a href="http://www.modsecurity.org/"><tt>mod_security web site</tt></a></li>
<li> <a href="http://www.apachesecurity.net/">Apache Security</a></li>
<li> <a href="http://www.hardened-php.net/suhosin/">Hardened PHP Project - Suhosin</a></li>
<li> <a href="http://l7-filter.sourceforge.net/">Application Layer Packet Classifier for Linux</a></li>
<li> <a href="http://www.visolve.com/squid/whitepapers/reverseproxy.php">Squid reverse proxy</a></li>
<li> <a href="http://www.snort.org/">Snort</a></li>
</ul>
</p>

<script type="text/javascript">
digg_url = 'http://linuxgazette.net/143/pfeiffer.html';
digg_title = 'Securing Apache Web Server with mod_security';
digg_bodytext = 'Apache's <tt>httpd</tt> surely does inspect HTTP
requests. What do I need more? Well, there are some things <tt>mod_security</tt>
can do for you.';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script> 

</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/pfeiffer.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<p>

<img align="left" alt="Bio picture" src="../gx/authors/pfeiffer.jpg" class="bio">

</p>
<em>

<p>
Ren&eacute; was born in the year of Atari's founding and the release of the game Pong.
Since his early youth he started taking things apart to see how they work. He
couldn't even pass construction sites without looking for electrical wires that
might seem interesting. The interest in computing began when his grandfather
bought him a 4-bit microcontroller with 256 byte RAM and a 4096 byte operating
system, forcing him to learn assembler before any other language.
</p>

<p>
After finishing school he went to university in order to study physics. He then
collected experiences with a C64, a C128, two Amigas, DEC's Ultrix, OpenVMS and
finally GNU/Linux on a PC in 1997. He is using Linux since this day and still
likes to take things apart und put them together again. Freedom of tinkering
brought him close to the Free Software movement, where he puts some effort into
the right to understand how things work. He is also involved with civil liberty
groups focusing on digital rights.
</p>

<p>
Since 1999 he is offering his skills as a freelancer. His main activities
include system/network administration, scripting and consulting. In 2001 he
started to give lectures on computer security at the Technikum Wien. Apart from
staring into computer monitors, inspecting hardware and talking to network
equipment he is fond of scuba diving, writing, or photographing with his digital
camera. He would like to have a go at storytelling and roleplaying again as soon
as he finds some more spare time on his backup devices.
</p>

</em>
</p>
<br clear="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/pfeiffer.html">Ren&eacute; Pfeiffer</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="saha"></a>
<h1>Introducing Python Pickling</h1>
<p id="by"><b>By <a href="../authors/saha.html">Amit Kumar Saha</a></b></p>

</b>
</p>

<p>
<p>The motivation for writing this article came when I was working on my
first major Python project and I wanted a way to write my class data to a
on-disk file, just the way I had done it on numerous occasions in C, where
I wrote the structure data to a file. So if you want to learn the Pythonic
way of persistence storage of your class data, this is for you. Let us
start!</p>

<h2>A. Pickle, Unpickle </h2>

<p>A <b>pickle</b> is a Python object represented as a string of bytes.
Sounds utterly simple? Oh well, it <b><i>is</i></b> that simple! This
process is called <i>Pickling</i>. So we have successfully converted our
object into some bytes, now how do we get that back? To <b>unpickle</b>
means to reconstruct the Python object from the pickled string of bytes.
Strictly speaking its not reconstruction in a physical sense - it only
means that if we have pickled a <i>list</i>, L, then after unpickling we
can get back the contents of list simply by again accessing L.</p>

<p>The terms 'pickle' and 'unpickle' are related to <i>object
serialization</i> and <i>de-serialization</i> respectively, which are
language-neutral related terms for <i>a process that turns arbitrarily
complex objects into textual or binary representations of those objects and
back</i>.</p>

<h3>A.1 The 'pickle' Module</h3>
<p>The <i>pickle</i> module implements the functions to <i>dump</i>
the class instance's data to a file and <i>load</i> the pickled data to
make it usable.</p>

<p>Consider the Demo class below:
<pre class="code">
import pickle

class Demo:
	def __init__(self):
		self.a = 6
		self.l = ('hello','world')
		print self.a,self.l

</pre>

<p>Now, we will create an instance of Demo and pickle it.</p>

<pre>
&gt;&gt;&gt; f=Demo()
6 ('hello', 'world')
&gt;&gt;&gt; pickle.dumps(f)
"(i__main__\nDemo\np0\n(dp1\nS'a'\np2\nI6\nsS'l'\np3\n(S'hello'\np4\nS'world'\np5\ntp6\nsb.
</pre>

<p>The <i>dumps</i> function pickles the object and dumps the pickled
object on the screen. I am sure that this is not really comprehensible and
doesn't look very useful - but if we dump the pickled object to a on-disk
file, the utility increases many fold. This is what we'll do next. Let's modify
our code slightly to include the pickling code:</p>

<pre class="code">
import pickle

class Demo:
	def __init__(self):
		self.a = 6
		self.l = ('hello','world')
		print self.a,self.l
		

if __name__ == "__main__":
        f=Demo()
        pickle.dump(f, file('Demo.pickle','w'))


</pre>

<p>Now, let us unpickle:</p>

<pre class="code">
&gt;&gt;&gt; f3=pickle.load(file("Demo.pickle"))
&gt;&gt;&gt; f3.a
6
&gt;&gt;&gt; f3.l
('hello', 'world')
&gt;&gt;&gt; 
</pre>

<p>So far, so good. </p>


<h3>A.2 The 'cPickle' Module</h3>

<p><i>cPickle</i> is an extension module written in C to provide pickling
facilities which is about 1000 times faster than the pickle module. The
usage is the same as <i>pickle</i>. Pickles produced by each are
compatible.

<pre class="code">
&gt;&gt;&gt; import cPickle
&gt;&gt;&gt; f3=cPickle.load(file("Demo.pickle"))
&gt;&gt;&gt; f3.l
('hello', 'world')
</pre>

<h2>B. A Glimpse Behind the Scenes</h2>
<p>The data format used by <i>pickle</i> is Python specific, which
obviously discards pickling as an option for persistent storage if you are
looking for a language-neutral solution. Human-readable and thus easily
debuggable ASCII is the default format used by Python for writing pickled
objects. There are 3 different protocols which can be used for
pickling:
</p>

<ol>
<li>Protocol version 0 is the original ASCII protocol and is backward
compatible with earlier versions of Python.</li>
<li>Protocol version 1 is the old binary format which is also compatible
with earlier versions of Python.</li>
<li>Protocol version 2 was introduced in Python 2.3. It provides much more
efficient pickling of new-style classes.</li>
</ol>

<h2>C. Conclusion</h2>
<p>The basic goal of this short tutorial was a hands-on introduction to
pickling in Python as a method of writing class data to persistent storage,
especially for new Python programmers. I have intentionally left out issues
related to working with complex and bigger classes, for which some good
resources are listed below. Again, more basic things such as pickling
simple lists and dictionaries have been omitted, but this will not require
much looking around to find the answers.</p>

<p> I hope that you are ready to use pickling in your projects. Happy coding!</p>

<h3>References:</h3>	
<ol>
<li><a href="http://www.ibm.com/developerworks/library/l-pypers.html">Python persistence management</a></li>
<li><a href="http://docs.python.org/lib/module-pickle.html">pickle module</a></li>
<li><a href="http://docs.python.org/lib/module-cPickle.html">cPickle module</a></li>
</ol>


<script type="text/javascript">
digg_url = 'http://linuxgazette.net/143/saha.html';
digg_title = 'Introducing Python Pickling';
digg_bodytext = 'If you want to learn the Pythonic way of persistence storage of your class data, this is for you.';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script> 



</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/saha.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<hr>
<p>
<img align="left" alt="Bio picture" src="../gx/authors/saha.jpg" class="bio">
</p>

<p>
<em>
The author is a freelance technical writer. He mainly writes on the
Linux kernel, Network Security and XML.
</em>
</p>

<br clear="all">


<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/saha.html">Amit Kumar Saha</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="sephton"></a>
<h1>A Question Of Rounding</h1>
<p id="by"><b>By <a href="../authors/sephton.html">Paul Sephton</a></b></p>

</b>
</p>

<p>

<h3>Introduction</h3>
<p> Schools teach scholars, as
part of their curriculum, how to round a number.  We are taught that
a number such as 0.1 may be approximated as 0, whilst the number 0.5
should be seen as approximately 1.  Likewise, 1.4 is 1, whilst 1.5 is
2; 1.15 is 1.2 whilst 1.24 is also 1.2 when approximated to a single
digit of precision.</p>

<p> Many industries use
rounding;  Chemistry, for one, recognises the accuracy of tests to be
only within a finite range of precision.  For example, whilst a Gas
Chromatograph might produce the value 45.657784532, we know that it
is actually only accurate to three digits of precision, and it is
senseless not to round the number to 45.658 before doing further
calculations.</p>

<p> Financial and Banking
industries have similar rules for rounding.  It is well known that
there are very few absolutes in mathematics- for example the number
Pi, the ratio of the circumference of any circle to it's diameter, is
an irrational number and cannot be accurately represented.  A simpler
example is 1/3, or decimal 0.333333...(add an infitite number of
3's).</p>

<p> In modern floating point
processors, we have a finite number of decimals of precision to which
we store numeric floating point values.  This limit of precision is
dependent on the size (in bytes) of the storage unit.  We primarily
find 4 byte, 8 byte and 10 byte floating point numbers stored
according to the IEEE-754 specification for floating point
representation.</p>

<p> In the process of specifying
the standard, the ISO had to decide what to do about the matter of
loss of precision.  They determined that the most stable mode for
rounding at the time of precision loss, was to round towards the
nearest value, or in the case of equality, to round towards the
nearest even value.  What this means, assuming floating point values
had a single decimal of precision, is that the value 0.5 would be
rounded to 0, whilst 1.5 and 2.5 would be rounded to 2.  In doing
this, the rounding error in calculations is averaged out, and you are
left with the most consistent result.</p>

<p> Of course, the 8 byte double
precision IEEE value has 15 decimals of precision, and not a single
decimal as described above.  The rounding error would only apply to
the last decimal, so by rounding that last decimal of precision, we
are left with a pretty accurate mathematic representation.</p>

<p> Probably due to a few
misunderstandings, a problem has come about in the implementation of
certain programming library functions, in particular the Gnu C
library, GlibC and the functions used for converting IEEE floating
point numbers into displayable text.  This is the main interest of
this document; to highlight a particular problem in the hope that
this will lead to a change in approach.</p>


<h3>The sign, mantissa and exponent</h3>

<p> IEEE-754 double precision
floating point values are stored as binary (base 2) values having a
sign bit (s), a 11 bit exponent (e), and a 52 bit mantissa (f). 
Logically, this means that we can store positive or negative numbers
in the 
</p>
<p> range 0 to 2^52 – 1
(4503599627370495) with an exponent in the range zero to 2^11 - 1
(2047). This means that we have at most 15 (and a bit) decimals of
precision for the mantissa.</p>

<h4>Values Represented by Bit Patterns in IEEE Double Format</h4>

<table width=642 border=1 BORDERCOLOR="#000000" cellpadding=5 cellspacing=0>
	<COL width=333>
	<COL width=288>
	<TR bgcolor="#cccccc">
		<TH width=333>
			<p> <a name="895"></a><font>Double-Format Bit Pattern</font></font></p>
		</th>
		<TH width=288>
			<p> <a name="896"></a><font>Value</font></font></p>
		</th>
	</tr>
	<tr>
		<td width=333>
			<p> <a name="897"></a>0 &lt; <code>e</code> &lt; 2047 
			</p>
		</td>
		<td width=288>
			<p> <a name="898"></a>(-1)<em><sup>s</sup></em> <font>&times;</font>
			2<sup>e-1023</sup> x 1.<code>f</code> (normal numbers) 
			</p>
		</td>
	</tr>
	<tr>
		<td width=333>
			<p> <a name="899"></a><a name="900"></a><code>e</code> = 0; <code>f</code>
						<img src="http://docs.sun.com/source/806-3568/chars/notequal.gif" name="graphics1" align=BOTTOM width=14 height=14 border=0>
			0 (at least one bit in <code>f</code> is nonzero) 
			</p>
		</td>
		<td width=288>
			<p> <a name="901"></a>(-1)<em><sup>s</sup></em> <font>&times;</font>
			2<sup>-1022</sup> x 0.<code>f</code> (subnormal numbers) 
			</p>
		</td>
	</tr>
	<tr>
		<td width=333>
			<p> <a name="902"></a><a name="903"></a><code>e</code> = 0; <code>f</code>
			= 0 (all bits in <code>f</code> are zero) 
			</p>
		</td>
		<td width=288>
			<p> <a name="904"></a>(-1)<em><sup>s</sup></em> <font>&times;</font>
			0.0 (signed zero) 
			</p>
		</td>
	</tr>
	<tr>
		<td width=333>
			<p> <a name="905"></a><code>s</code> = 0; <code>e</code> = 2047; <code>f</code>
			= 0 <br>(all bits in <code>f</code> are zero) 
			</p>
		</td>
		<td width=288>
			<p> <a name="906"></a>+INF (positive infinity) 
			</p>
		</td>
	</tr>
	<tr>
		<td width=333>
			<p> <a name="907"></a><code>s</code> = 1; <code>e</code> = 2047; <code>f</code>
			= 0 <br>(all bits in <code>f</code> are zero) 
			</p>
		</td>
		<td width=288>
			<p> <a name="908"></a>-INF (negative infinity) 
			</p>
		</td>
	</tr>
	<tr>
		<td width=333>
			<p> <a name="909"></a><a name="910"></a><code>s</code> <font size=3><font>=
			u; </font></font><code>e</code> <font size=3><font>=2047; </font></font><code>f</code> 
			<img src="http://docs.sun.com/source/806-3568/chars/notequal.gif" name="graphics2" align=BOTTOM width=14 height=14 border=0>
			<font size=3><font>0
			(at least one bit in </font></font><code>f</code> <font size=3><font>is
			nonzero) </font></font>
			</p>
		</td>
		<td width=288>
			<p> <a name="911"></a>NaN <font size=3><font>(Not-a-Number)
			</font></font>
			</p>
		</td>
	</tr>
</table>


<p> A more familiar
representation which is quite similar might be the scientific decimal
representation, in the format [s]f * 10^[+/-]e – eg. -1.23e+20 or
+1.23e-20, where M is the mantissa (in this case 1.23) and exp is the
exponent (in this instance +20 and -20 respectively).</p>


<h3>The problem; GlibC &amp; sprintf()</h3>

<p> The <i>sprintf()</i>
function is ubiquitously used in the generation of output reports,
being the prime candidate for enabling the conversion from numbers to
text. </p>
<p class="editorial">
In the light of buffer overflows and other things that might go wrong, the use
of snprintf() or other string functions is strongly suggested.<br>
 -- Ren&eacute; Pfeiffer
</p>

<p> In coding the C library,
programmers were well aware of the above information about double
precision numbers, including the default rounding mode for handling
calculation errors.  These people knew that the FPU (Floating
Processor Unit) automatically rounded the results of calculations to
the nearest value, or if on the border between values, to the nearest
even value.</p>

<p> The problem arose when this
same logic was applied to precisions less than 15.</p>

<p> When converting a value 3.5
(stored at a precison of 15) to text, for display with a precision of
zero decimals, the GCC sprintf() function correctly produces the
value 4.  However, when converting the value 2.5, sprintf() produces
not the expected value 3, but the value 2!</p>

<p> It should be stressed here,
that the IEEE-754 representation has a full 15 decimal precision
(or 53 binary digits of precision) to play with, regardless of the
number being represented.  Different numbers might be represented
exactly or inexactly within the FPU, but all IEEE values are
represented with exactly the same precision of 15 decimals. 
Therefore, no assumption may be made about an implied precision of a
stored number, or inferred from the display size.</p>

<p> Whilst a number might be
inexactly stored at a precision of 15 decimals, that same number is
exact when viewed at 14 decimals of precision.  For example, the
value 2.49999999999992 is promoted (using IEEE rounding) to
2.4999999999999 and then to 2.5 (with precision of 14) using the same
rounding rules.</p>

<p> Where the IEEE rounding mode
makes an immense amount of sense for calculations and handling the
error at decimal 15, it makes no sense at all when applying that
rounding mode to the display of numbers.  When displaying a bond,
traded on a stock exchange at 3.145 to two decimal points, one would
expect 3.15 and not 3.14.</p>

<p> When using the function
<tt>printf("%.0f", 2.5)</tt>, one may therefore reasonably expect the
number 2.50 to be rounded upwards to 3, since there is no ambiguity
or error implied in the storage of the value 2.50.</p>


<h3>Conclusion</h3>

<p> The default IEEE rounding
mode, as applied to calculations using numbers stored to an identical
precision of 15 for double precision values, is the most stable way
to produce consistent and accurate results when the rounding is
consistently applied at decimal 15.</p>

<p> However, when formatting
numbers for display, it is more desirable to accurately represent
these same numbers in a consistent way according to industry and
mathematical standards.  Rounding upwards for positive values, or
downwards for negative values is the generally accepted norm, and it
is senseless to apply the IEEE-754 rules when the known precision of
the number, being fixed at 15,  is greater than that of the displayed
precision.</p>

<p> It is evident that the GlibC
developers, in an attempt towards compliance with the IEEE-754
standard have confused these two issues, to the detriment of the
industry as a whole.  The damage caused by this misunderstanding is
far-reaching, and not necessarily easily circumvented.  Applications
which work flawlessly against the Microsoft platform have to be
specifically altered before being compiled against GlibC.  
</p>

<p> Unless the difference
between GlibC and the Microsoft runtime is well understood, and the
adjustments made, to cater for these differences before a product is
released, it is inevitable that this seemingly innocuous discrepancy
will lead to general and widespread mistrust in applications which
use the GlibC runtime.</p>

<hr>

<h3>Late Addendum</h3>

<p>
Subsequent to writing this article, it has come to light that the
Microsoft C runtime library, whilst more accurate in most cases than the
GNU C library, also fails to correctly convert binary IEEE double
precision numbers to decimal representation in some cases.
</p>

<p>
The following code demonstrates the principles discussed in this
article, and properly converts binary IEEE values to decimal format
inside a buffer for display according to generally accepted mathematical
standards - at least for the Intel platform.  Note that 
</p>

<pre>  printf("%.2f", 5000.525); </pre>

<p>
fails to produce the expected result in both Microsoft and GNU
libraries.
</p>

<pre class="code">
/* 
 * Compile with: gcc -std=c99 -lm -o filename filename.c
 * 
 * Definition of _GNU_SOURCE required for compilation with the 
 * GNU C Compiler (disables warning about implicit definition of pow10())
 */
#define _GNU_SOURCE

#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;

// Utility function converts an IEEE double precision number to a
// fixed precision decimal format stored in a buffer.
void tobuf(size_t max, int *len, char *buf, 
           double x, int precision, double max_prec, double carry)
{
  int    sign  = x &lt; 0;                             // remember the sign
  double q     = pow10(-precision);                 // current mask
  double y     = x==0?0:fmod(fabs(x), q);           // modulus
  double l_div = round(y*max_prec)/max_prec+carry;  // significant digit
  int    l_dec = (int)round(l_div*10/q);            // round to decimal
  
  carry = l_dec&gt;=10?l_div:0;                        // carry forward?
  l_dec = l_dec % 10;                               // this decimal
  x = x&gt;0?x-y:x+y;                                  // subtract modulus
  
  if (fabs(x) &gt; 0)                                  // recurse while |x| &gt; 0
    tobuf(max, len, buf, x, precision-1, max_prec, carry);
  else {                                            // x == 0 - first digit
    if (*len &gt;= max) return;
    if (sign) { buf[*len] = '-'; *len = *len + 1; }
    if (*len+1 &lt;= max &amp;&amp; precision &gt;= 0) { 
      buf[*len] = '0'; *len = *len + 1; 
      buf[*len] = '.'; *len = *len + 1; 
    }
    while (precision-- &gt; 0) {
      buf[*len] = '0'; *len = *len + 1;
      if (*len &gt;= max) return;
    }
    precision = -1;  // don't place another period
  }
  if (*len &lt;= max &amp;&amp; precision == 0) { 
    buf[*len] = '.'; *len = *len + 1; 
  }
  
  // for first and subsequent digits, add the digit to the buffer
  if (*len &gt;= max) return;
  if (l_dec &lt; 0) l_dec = 0;
  buf[*len] = '0' + l_dec;
  *len = *len + 1;
}
</pre>

<pre class="code">
// Convert the value x to a decimal representation stored in a buffer
int dbl2buf(size_t max, char *buf, double x, int precision) {
  const int DECIMALS=15;
  int    max_dec = DECIMALS-(int)(trunc(log10(fabs(x)))+1); // max significant digits
  double max_prec = pow10(max_dec);                   // magnitude for precision loss
  int    len = 0;                                     // buffer length init
  
  double y       = x==0?0:fmod(fabs(x), 1/max_prec);  // determine error
  double l_carry = round(y*max_prec)/max_prec;        // error is carried forward

  if (x != x) { strncpy(buf, "NAN", max); return 0; }
  if ((x-x) != (x-x)) { strncpy(buf, "INF", max); return 0; }
  
  tobuf(max, &amp;len, buf, x, precision-1, max_prec, l_carry); // fill in buffer
  buf[len] = 0;                                             // terminate buffer
  return len;                                      // return buffer length used
}
</pre>

<pre class="code">
//  Usage of the dbl2buf function.
int main (void)
{
  char buf[64];
  double x = 5000.525; 
  dbl2buf(sizeof(buf), buf, x, 2); 
  printf("%.15f = %s\n", x, buf);
}
</pre>



<p>
<strong>References:</strong><br>
<a href="http://sourceware.org/bugzilla/show_bug.cgi?id=4943">http://sourceware.org/bugzilla/show_bug.cgi?id=4943</a>
</p>


<script type="text/javascript">
digg_url = 'http://linuxgazette.net/143/sephton.html';
digg_title = 'A Question Of Rounding';
digg_bodytext = '';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script> 

</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/sephton.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/2002/note.png" class="bio">
</p>

<em>
<p>
Paul works as a Software Architect and Technology Officer for a
 financial information vendor. After abandoning a career in nuclear
 chemistry, during which he developed an interest in hardware and
 software, he joined a firm of brokers as a developer. He first started
 using Linux in 1994 with version 1.18 of Slackware. His first passion
 will always be writing software. Other interests are composing music,
 playing computer games, Neural network simulations and reading.
</p>



</em>

<br clear="all">


<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/sephton.html">Paul Sephton</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="collinge"></a>
<h1>HelpDex</h1>
<p id="by"><b>By <a href="../authors/collinge.html">Shane Collinge</a></b></p>

</b>
</p>

<p>
<p>
<em>These images are scaled down to minimize horizontal scrolling.</em>
<p>


<p>
<a href="http://linuxgazette.net/124/misc/nottag/flash.html"><b>Flash problems?</b></a>
<br>

<div class="cartoon">

<object>
<embed src="misc/collinge/637cronflakes.swf" bgcolor="#ffffff" width="600" />
</object>

<a href="misc/collinge/637cronflakes.swf"><p>Click here to see the full-sized image</p></a>

</div>

<p> All HelpDex cartoons are at Shane's web site,
<a href="http://www.shanecollinge.com/">www.shanecollinge.com</a>.

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/collinge.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<P>
<img ALIGN="LEFT" ALT="Bio picture" SRC="../gx/2002/note.png" class="bio">
<em>
Part computer programmer, part cartoonist, part Mars Bar. At night, he runs
around in his brightly-coloured underwear fighting criminals. During the
day... well, he just runs around in his brightly-coloured underwear. He
eats when he's hungry and sleeps when he's sleepy.
</em>
<br CLEAR="all">
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/collinge.html">Shane Collinge</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<div class="content lgcontent">

<a name="ecol"></a>
<h1>Ecol</h1>
<p id="by"><b>By <a href="../authors/malonda.html">Javier Malonda</a></b></p>

</b>
</p>

<p>
The Ecol comic strip is written for <a
href="http://escomposlinux.org">escomposlinux.org</a> (ECOL), the web site that
supports es.comp.os.linux, the Spanish USENET newsgroup for Linux.  The
strips are drawn in Spanish and then translated to English by the author.
<p>
<em>These images are scaled down to minimize horizontal scrolling.</em>
<p>


<p>

<div class="cartoon">
<a href="misc/ecol/tiraecol_en-266.png">
<img alt="[cartoon]" src="misc/ecol/tiraecol_en-266.png"><p>Click here to see the full-sized image</a>
</div>


All Ecol cartoons are at
<a href="http://tira.escomposlinux.org/">tira.escomposlinux.org</a> (Spanish),
<a href="http://comic.escomposlinux.org/">comic.escomposlinux.org</a> (English) 
and
<a href="http://tira.puntbarra.com/">http://tira.puntbarra.com/</a> (Catalan).
The Catalan version is translated by the people who run the site; only a few
episodes are currently available.

<p> <small>These cartoons are copyright Javier Malonda.  They may be copied,
linked or distributed by any means.  However, you may not distribute
modifications.  If you link to a cartoon, please <a
href="mailto:jmr@escomposlinux.org">notify</a> Javier, who would appreciate
hearing from you.
</small>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>


</p>

<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:143/ecol.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
	<!-- *** BEGIN bio *** -->
<hr>
<!-- P>
<img ALIGN="LEFT" ALT="Bio picture" SRC="../gx/2002/note.png" class="bio">
<em>
</em>
<br CLEAR="all" -->
<!-- *** END bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">


<p>
Copyright &copy; 2007, <a href="../authors/malonda.html">Javier Malonda</a>. Released under the
<a href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>


<p>
Published in Issue 143 of Linux Gazette, October 2007
</p>

</div>
</div>


<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

<br />

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>

</body>
</html>

