<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<META NAME="generator" CONTENT="lgazmail v1.4G.q">
<link href="../lg.css" rel="stylesheet" type="text/css" media="screen,
projecti
+on"  />
<title>The Answer Gang 101: Mirror 2 web servers</title>
<style type="text/css" media="screen, projection">
<!--
.articlecontent {
        position:absolute;
        top:143px;
}
-->
</style>

</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->
<!--endcut  ==============================================-->
<TABLE width="100%" BORDER><TR><TD WIDTH="200">
<A HREF="http://linuxgazette.net/">
<IMG ALT="LINUX GAZETTE" SRC="../../gx/2002/lglogo_200x41.png" 
	WIDTH="200" HEIGHT="41" border="0"></A>
<BR CLEAR="all">
<SMALL>...<I>making Linux just a little more fun!</I></SMALL>
</TD><TD>
<div class="content articlecontent">
<center>
        <img src="../../gx/dennis/qbubble.gif" alt="(?)"                           
	                border="0" align="left">
<A NAME="answer"><BIG><BIG><STRONG><FONT COLOR="maroon"
	>The Answer Gang</FONT></STRONG></BIG></BIG></a>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)"                           
	                border="0" align="right"><BR>
<STRONG>By Jim Dennis, Ben Okopnik, Dan Wilder, Breen, Chris, and...
        (<a href="../../tag/bios.html">meet the Gang</a>) ...
	        the Editors of <i>Linux Gazette</i>...
		        and You! 
</STRONG></BIG> </TD></TR>
</TABLE>
<P>

<!-- END header -->

<center><p>
<br>We have guidelines for <a href="../../tag/ask-the-gang.html">asking</a> and <a
href="../../tag/members-faq.html">answering</a> questions.  Linux questions only, please.
</STRONG>
<br><em><font color="#7F0000">We make <b>no guarantees</b> about answers, but you can be <b>anonymous</b> on request.</font></em>
<br>See also: The Answer Gang's 
<a href="../../tag/kb.html">Knowledge Base</a>
and the <i>LG</i> 
<a href="http://linuxgazette.net/search.html">Search Engine</a>
</center>
<br></p></center>

<HR>
<!-- BEGIN message -->
<!-- begin 7 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Mirror 2 web servers</H3>


<p><strong>From Bradley Chapman, Thomas Adam, John Karns, Ben Okopnik 
</strong></p> 
<p></strong></p>
<P><STRONG>
Hi  folks at ,The Answer Gang
</STRONG></P>
<P><STRONG>
I have two webservers running linux (redhat)
one of them is the primary server and the other one acts as backup
</STRONG></P>
<P><STRONG>
the thing is that i want to be able to mirror these servers in both ways
</STRONG></P>
<P><STRONG>
including this:
</STRONG></P>

<p><Strong><ul>
<!-- * mysql databases -->

<LI>mysql databases

<!-- * http folder -->

<LI>http folder

<!-- * httpdconfig -->

<LI>httpdconfig
</ul></Strong></p>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Bradley] 
Well, since you're using a MySQL database, have you considered moving the MySQL
database and DBMS onto a third machine which is more powerful than the two
webservers, and simply having the webservers query the database using your
favorite RDBMS protocol. Or you could use the MySQL mirroring and load balancing
features (Google turns up a lot of links).
</blockQuote>
<blockQuote>
Many online websites, such as discussion forums, often place the DB onto a
separate machine and the Web server software onto another one (or two, or any
value of N), and use DNS round robin to rotate amongst the Web servers, thus
lessening the risk that a single machine failure will kill the site.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
i was thinking a shell script would do the trick!
but my competence ends just after #!/bin/bash!
</STRONG></P>
<P><STRONG>
i am not asking for a complete script
</STRONG></P>
<P><STRONG>
just some were to turn for help 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Bradley] 
You can help us by supplying ASCII art defining your network topology - the
really smart people who know DBs and stuff on this list will probably need it

<IMG SRC="../../gx/dennis/smily.gif" ALT=";-)" 
		height="24" width="20" align="middle">
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas] 
Have a look at the 'rsync' utility -- that will fit your needs quite
happily.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [John] 
Just thought I'd mention a few general suggestions.
</blockQuote>
<blockQuote>
To read up on bash scripting, you might want to take a look at the
"advanced bash scripting guide" at one of the following URL's.
</blockQuote>

<TABLE WIDTH="95%" BORDER="1" BGCOLOR="#FFFFCC"><TR><TD>
<p align="center">...............</p>
<blockQuote>
Linux Documentation Project:
<A HREF="http://www.tldp.org/LDP/abs/html"
	>http://www.tldp.org/LDP/abs/html</A>
<A HREF="http://www.tldp.org/LDP/abs/html/index.html"
	>http://www.tldp.org/LDP/abs/html/index.html</A>
<A HREF="http://www.tldp.org/LDP/abs/abs-guide.html.tar.gz"
	>http://www.tldp.org/LDP/abs/abs-guide.html.tar.gz</A>
<A HREF="http://www.tldp.org/LDP/abs/abs-guide.pdf"
	>http://www.tldp.org/LDP/abs/abs-guide.pdf</A>
</blockQuote>
<blockQuote><DL><DT>
Sunsite:
<DD><A HREF="http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide"
	>http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide</A>
</DL></blockQuote>
<blockQuote><DL><DT>
Postscript --
<DD><A HREF="http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide/abs-guide.ps.gz"
	>http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide/abs-guide.ps.gz</A>
</DL></blockQuote>
<blockQuote><DL><DT>
Text --
<DD><A HREF="http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide/abs-guide.txt.gz"
	>http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide/abs-guide.txt.gz</A>
</DL></blockQuote>
<blockQuote><DL><DT>
Sunsite:
<DD><A HREF="http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide"
	>http://www.ibiblio.org/pub/Linux/docs/linux-doc-project/abs-guide</A>
</DL></blockQuote>
<blockQuote>
Author's home page:
<A HREF="http://personal.riverusers.com/~thegrendel/abs-guide-2.6.tar.bz2"
	>http://personal.riverusers.com/~thegrendel/abs-guide-2.6.tar.bz2</A>
[ 624k ] (bzip2-ed tarball containing SGML source, all example scripts, and rendered HTML)
</blockQuote><p align="center">...............</p>
</TD></TR></TABLE>
<blockQuote>
"man bash" at the command prompt will yield the extensive bash man page,
assuming that you have it available on your system.
</blockQuote>
<blockQuote>
Also, there are some articles on the subject in the archives of the Linux
Gazette, some of which were authored by Ben Okopnik, one of the members of
the answer gang.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Yep. Just search for "shell scripting" (including the double-quotes) at
&lt;<A HREF="../../search.html&gt"
	>http://linuxgazette.net/search.html&gt</A>; and you'll see it right at the top
of the stack.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [John] 
The rsync utility is often used for mirroring and can save bandwidth.  For
the MySQL side of it, you may need to get a bit more creative.  I would
suggest fishing around on the 'net for DB mirroring with MySQL, as I
think rsync is intended more as a tool to deal with plain ASCII files,
although I could be off on that.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
[grin] Just a little, John. "rsync" is intended for file transfer in
general, no restriction as to type. I use it with the "-e ssh" option
(actually, I have "RSYNC_RSH=/usr/bin/ssh" set in my "~/.bash_profile"),
so it uses SSH as the underlying mechanism, but "rsh", although
deprecated in most situations, is also type-independent (although it's
somewhat clunky - the STDIN/STDOUT method of transferring data does make
it <em>  look  </em> like a text-specific gadget.)
</blockQuote>

<!-- end 7 -->
<P> <hr> </p>
<div id="articlefooter">
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<br><a href="http://linuxgazette.net/copying.html"
        >Copyright &copy;</a> its authors, 2004
<BR>Published in issue 101 of <I>Linux Gazette</I> April 2004</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
       <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
</div>
<!-- end: articlecontent -->
</div>
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="../index.html"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> 
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<div id="navigation">

<a href="../index.html">Home</a>
<a href="../faq/index.html">FAQ</a>
<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="../contact.html">Contact Us</a>

</div>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
