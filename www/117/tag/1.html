<html>
<head>
<link href="../../lg.css" rel="stylesheet" type="text/css" media="screen, projection"  />
<title>The Answer Gang: LG 117: Network File Systems.</title>

<style type="text/css" media="screen, projection">
<!--
.articlecontent {
        position:absolute;
        top:143px;
}
-->
</style>
</head>
<body>
<img src="../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
<p id="fun">...making Linux just a little more fun!</p>


<div class="content articlecontent">

<div id="previousnexttop">
<A HREF="../lg_tips.html" >&lt;-- 2c Tips</A> 
| <A HREF="../lg_answer.html">TAG Index</a> 
| <A HREF="1.html">1</a> | <A HREF="2.html">2</a> | <A HREF="3.html">3</a>
| <A HREF="4.html">4</a>
| <a href="../../tag/kb.html">Knowledge Base</a>
| <A HREF="../lg_bytes.html" >News Bytes --&gt;</A>
</div>



<h1 align="center"><IMG SRC="../../gx/dennis/qbubble.gif" align="left"> The Answer Gang <IMG SRC="../../gx/dennis/bbubble.gif" align="right"></h1>

<p align="center">By Jim Dennis, Jason Creighton, Chris G, Karl-Heinz, and... 
	(<A HREF="../../tag/bios.html">meet the Gang</A>) ... 
	the Editors of <I>Linux Gazette</I>... and 
	<a href="../../tag/members-faq.html">You</a>!</p>
<br clear="both">
<HR>
<!-- begin 1 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Network File Systems.</H3>


<p><strong>From mso@oz.net 
</strong></p> 
<p></strong></p>

<p align="right"><strong>Answered By:  Rick Moen,
 Lew Pitcher,
 Jimmy O'Regan,
 Bruce Ferrell,
 Neil Youngman
</strong></p>
<P><STRONG>
What other choice is there besides Samba?  Am I wrong for dismissing Samba
due to its Microsoft taint?
</STRONG></P>
<P><STRONG>
(I do have to use Samba at work.  So far it's been fine except I had to
use the "cifs" filesystem instead of "smbfs".  Apparently our server
pretends to speak the older smbfs but actually doesn't.)
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Rick] 
Well, if you need help disposing of those troublesome spare CPU cycles,
there's always SFS (<A HREF="http://www.fs.net"
	>http://www.fs.net</A>).
</blockQuote>
<blockQuote>
Personally, my preferred solution is called SMTP, aka "Please drop the
mail off right here where I am, thanks" -- for values of "where I am"
equating to "the machine I ssh to, where mutt is left running
permanently under GNU screen ".
</blockQuote>
<blockQuote>
Tridge's reported solution is to use rsync (what else?) to mirror his
mbox between his SMTP host and whatever machine he's sitting at.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
OK.  I meant for the general problem of mounting remote filesystems, not
the specific problem of remote mailboxes.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Rick] 
I have nothing against you changing the focus of the discussion in that
fashion; I just note that you've done so.  Enjoy.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
For that there's only NFS and
Samba?  (rsync, scp, and ftp don't count
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)"
                height="24" width="20" align="middle">
</STRONG></P>
<P><STRONG>
It looks like SFS on Linux is built on top of NFS, so I'm not sure it
counts as a "third" one.
<A HREF="http://www.fs.net/sfswww/linux"
	>http://www.fs.net/sfswww/linux</A>
</STRONG></P>
<P><STRONG>
The reason for my question is, there doesn't seem to be a "good" solution
for sharing filesystems on Linux.  For years I keep hearing:
</STRONG></P>

<blockquote><font color="#000033"><br>  NFS:  Unreliable!  Doesn't play well with file locking!
<br>  Samba:  Evil!  Microsoft!  Proprietary protocol!  Embrace and extend!
</font></blockquote>
<P><STRONG>
So what's the organization that wants a central fileserver to do?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Rick] 
Take your pick:
</blockQuote>

<blockQuote><ol>
<LI>AFS, or


<LI>It depends.

</ol></blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Did
Microsoft in fact create something better than NFS (better = more reliable
and better designed), or is it just different?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Rick] 
They're different.  It would take a long time to go through the
differences, and I'll leave that to some other poster.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Lew] 
I won't comment on "better than NFS or just different", but I will take
exception to the implication that Microsoft <EM>created</EM> the protocol.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Rick] 
I also recommend hearing hearing Jeremy Alison give his standard
lecture, if people want to hear the full details of just how bad
CIFS/SMB really is.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Lew] 
I will give Microsoft credit for <EM>extending</EM> an already existing protocol, but
the basics come from IBM's NETBIOS.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Jimmy] 
Well, there are actually three different fileserving systems in the
heap that is MS fileserving: NetBIOS, CIFS, and DCE DFS. CIFS may or
may not depend on one or both of the others.
</blockQuote>
<blockQuote>
MS's file serving is much, much better for file locking (but you only
get the benefits of that from software that uses MS's locking API).
It's also better to use Samba in an environment where there are
several Unix variants, and you care about ACLs -- the Samba team
'embraced and extended'[1] CIFS to add marshalling for the various ACL
types, which NFS doesn't do. (Well, NFS4 might do, I don't know).
</blockQuote>
<blockQuote>
[1] They just like saying that, as far as I can make out. AFAICT, they
just added an extension that plays well with others, and looks like
any other unknown DCOM interface to clients that don't look for it --
it doesn't get drunk at the party and throw up on the other guests.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Bruce] 
Umm Jimmy, aren't NetBIOS/NetBEUI simply transport protocols?  I think
it might be more appropriate to say SMB and DCE DFS.  And DCE DFS is
actually built on top of SMB, but I could be wrong there.  I just set
these things up.  I'm too busy to look at the messages anymore.  And I
think you neglected NCPFS... Not that anyone does much with Novell
protocols anymore.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Jimmy] 
...cue brain dump.
</blockQuote>
<blockQuote>
This may not be entirely accurate, because: it's 6am, and though I was
working nights last night, I didn't sleep much during the day in the
hopes of readjusting to normal hours, and this is stuff I mostly
learned back in the days of NT4, when I was in college, and went a bit
further than strictly necessary in my studies for the MCSE exams I was
never able to afford to take, though fortified with some
investigations last year when Mike was asking about smbfs vs cifs. The
article I wrote about outliners came the month after that, and AFAIR I
included an example outliner file that contained some specifics, such
as RFC numbers etc.
</blockQuote>

<blockQuote><ul>
<!-- * NetBIOS is an API (originally, IIRC, a set of DOS interrupts) -->

<LI>NetBIOS is an API (originally, IIRC, a set of DOS interrupts)

<!-- * SMB is the part most people think of when they think of NetBIOS, but -->

<LI>SMB is the part most people think of when they think of NetBIOS, but

<!-- it actually uses a transport protocol such as NBT (NetBIOS over -->
it actually uses a transport protocol such as NBT (NetBIOS over

<!-- TCP/IP), NetBEUI, or NetBIOS over SPX. -->
TCP/IP), NetBEUI, or NetBIOS over SPX.

<!-- * SMB, NetBIOS, and possibly NBT were created by IBM -->

<LI>SMB, NetBIOS, and possibly NBT were created by IBM

<!-- * Microsoft extended these, originally while working with IBM on OS/2 -->

<LI>Microsoft extended these, originally while working with IBM on OS/2

<!-- for LanManager (y'know, the easily crackable password hashes that made -->
for LanManager (y'know, the easily crackable password hashes that made

<!-- NT's network authentication so horribly insecure) -->
NT's network authentication so horribly insecure)

<!-- * CIFS is a version of SMB that doesn't require NBT -- that's why -->

<LI>CIFS is a version of SMB that doesn't require NBT -- that's why

<!-- smbfs and cifs are separate kernel modules -- that also includes -->
smbfs and cifs are separate kernel modules -- that also includes

<!-- extensions for NTFS's features such as multiple file streams[1] -->
extensions for NTFS's features such as multiple file streams[1]
</ul></blockQuote>

<blockQuote><ul>
<!-- * DCE DFS is something like NFS, over DCE RPC instead of Sun RPC -->

<LI>DCE DFS is something like NFS, over DCE RPC instead of Sun RPC

<!-- * Microsoft uses an extended version of DCE RPC, Object RPC, as the -->

<LI>Microsoft uses an extended version of DCE RPC, Object RPC, as the

<!-- basis for DCOM. COM interfaces are implemented locally using C++ -->
basis for DCOM. COM interfaces are implemented locally using C++

<!-- vtables, which are marshalled over ORPC, which in turn is passed over -->
vtables, which are marshalled over ORPC, which in turn is passed over

<!-- NT's (network) Named Pipes: (extended) DCE RPC over SMB/CIFS. -->
NT's (network) Named Pipes: (extended) DCE RPC over SMB/CIFS.
</ul></blockQuote>
<blockQuote>
I didn't mention ncpfs because I was answering the second question
(NFS vs. Samba), not the first (any network file system).
</blockQuote>
<blockQuote>
[1] This is one of the places where NT shows its VMS heritage, as all
file streams are preceded by ::$, such as ::$DATA, where the data is
contained. (If that seems familiar, it may be because of the IIS flaw
where it would send you the unprocessed source of ASP files if you
appended ::$DATA to the file name).
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
And now IBM has dumped OS/2 and encouraged users to migrate to Linux.
<A HREF="http://www-306.ibm.com/software/os/warp/migration.html"
	>http://www-306.ibm.com/software/os/warp/migration.html</A>
<A HREF="http://slashdot.org/article.pl?sid=05/07/15/0245221&amp;tid=136&amp;tid=190"
	>http://slashdot.org/article.pl?sid=05/07/15/0245221&amp;tid=136&amp;tid=190</A>
</STRONG></P>
<P><STRONG>
(Scratches head.)  There are still OS/2 users out there?  And they are
more technical than Windows or Mac users who are scared of Linux?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Neil] 
Heck, there are still VMS users out there, there are probably still RSX users
out there. Generally these are people who have specific requirements, e.g.
real time, stability, security, that have had the sense not to jump on the
Windows bandwagon, because it doesn't meet their requirements.
</blockQuote>
<blockQuote>
So yes, I reckon OS/2 users are generally more technical than "Mac and Windows
users who are scared of linux". They may migrate to Linux, but they will do
it when they are convinced it meets their requirements better than the
alternatives and when it suits them, not a minute before.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Lew] 
You bet. OS/2 is/was heavily used in the banking industry as 'Teller' terminal
systems and as operator control systems/interface systems to IBM mainframes.
</blockQuote>
<blockQuote>
My employer (a Canadian bank) has a multi-year project currently running to
migrate our approx 15,000 OS/2 branch workstations and branch servers to
another OS. Linux was considered, but in the end, my employer went with
WinXP.
</blockQuote>
<blockQuote>
Our OS/2 <EM>users</EM> are no more technical than the cashier in your local grocery
store. Our OS/2 <EM>applications</EM> are quite sophisticated.
</blockQuote>

<!-- end 1 -->
<hr>
<p><CENTER><Font face="Helvetica"><STRONG>
This page edited and maintained by the Editors of <I>Linux Gazette</I>
<br>HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
<A HREF="http://www.starshine.org/">http://www.starshine.org/</A></STRONG></Font></CENTER></p>
<hr>

<div id="articlefooter">
<p>
Each TAG thread <a href="http://linuxgazette.net/copying.html"
        >Copyright &copy;</a> its authors, 2005
</p>
<p>
Published in issue 117 of <I>Linux Gazette</I> August 2005
</p>
</div>


<div id="previousnextbottom">
<A HREF="../lg_tips.html" >&lt;-- 2c Tips</A> 
| <A HREF="../lg_answer.html">TAG Index</a>
 | <A HREF="1.html">1</a> | <A HREF="2.html">2</a> | <A HREF="3.html">3</a> | <A HREF="4.html">4</a>
| <a href="../../tag/kb.html">Knowledge Base</a>
| <A HREF="../lg_bytes.html" >News Bytes --&gt;</A>
</div>
</div>

<div id="navigation">
<a href="../../index.html">Home</a>
<a href="../../faq/index.html">FAQ</a>
<a href="../../lg_index.html">Site Map</a>
<a href="../../mirrors.html">Mirrors</a>
<a href="../../mirrors.html">Translations</a>
<a href="http://linuxgazette.net/search.html">Search</a>
<a href="../../archives.html">Archives</a>
<a href="../../authors/index.html">Authors</a>
<a href="../../contact.html">Contact Us</a>
</div>

<div id="breadcrumbs">
<a href="../../index.html">Home</a> &gt; 
<a href="../index.html">August 2005 (117)</a> &gt; 
<a href="../lg_answer.html">The Answer Gang</a> &gt; 
Thread
</div>

<img src="../../gx/2003/sit3-shine.7-2.gif" id="tux" alt="Tux"/>

</body>
</html>
