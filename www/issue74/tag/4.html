<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.4F.k">
<TITLE>The Answer Gang 74: 2cent tip: printing the timestamp of a given file</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer74.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer74.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By Jim Dennis, Ben Okopnik, Dan Wilder, Breen, Chris, and the Gang,
	the Editors of Linux Gazette... 
	and You!
<br>Send questions (or interesting answers) to
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
</H4>
<p><em><font color="#990000">There is no guarantee</font></em> 
	that your questions here will <b>ever</b> be answered.  
	<em><font color="#990000">Readers at confidential sites</font></em> 
	must provide permission to publish.  However, 
	<em><font color="#990000">you can be published anonymously</font></em>
	- just let us know!
</p>
<p>TAG <a href="../tag/bios.html">Member bios</a>
     | <a href="../../tag/members-faq.html">FAQ</a>
     | <a href="../../tag/kb.html">Knowledge base</a></p>
</center>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<p><hr><p>
<!-- begin 4 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>printing the timestamp of a given file</H3>


<p><strong>From Matthias Arndt 
</strong></p> 


<p align="right"><strong>Answered By  Dan Wilder
</strong></p>
<P><STRONG>
Dear Editor,
</STRONG></P>
<P><STRONG>
I was looking for a solution to extract the timestamp of a file with plain
shell methods. So I browsed through a book and found the command cut.
</STRONG></P>

<blockquote><code><font color="#000033"><br>ls -l &lt;some filename&gt; | cut -b44-55
</font></code></blockquote>
<P><STRONG>
does the job pretty well and simply prints the timestamp of the given file.
It works with the GNU ls. If the output of your ls -l command differs,
you'll need to adjust the positions after the -b switch.
It even works with a list of filenames but this would only print the
timestamps not the corresponding filenames.
</STRONG></P>
<P><STRONG>
cheers,
<br>Matthias
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
However "ls" produces dates in two different formats,
according to the age of the file:
</blockQuote>

<blockquote><pre>ls -l host.conf
-rw-r--r--    1 root     root           26 Sep 25  1995 host.conf

ls -l passwd
-rw-r--r--    1 root     root         1179 Nov 12 17:10 passwd
</pre></blockquote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
The fields are correct in their width. The output should be ok in any case
as long as ls doesn't format the long version with other field widths.
</STRONG></P>
<blockQuote><BLOCKQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
OK, but annoyingly different in its format, according to the age
of the file.  That works for human readers, but causes complications
for machine readers.
</BLOCKQuote></blockQuote>
<blockQuote><BLOCKQuote>
I use this sort of thing in web page scripting, where the output
will be parsed by other programs, and it saves me time in writing
those other programs.
</BLOCKQuote></blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
A slight elaboration allows consistent formatted output. As a shell
script:
</blockQuote>

<blockquote><code><font color="#000033"><br>#!/bin/sh
<br>date -d "$(/bin/ls -l $1 | cut -b44-55)" +"%b-%d-%Y"
</font></code></blockquote>
<blockQuote>
I use "<TT>/bin/ls</TT>" to evade the likelyhood that "ls" may be an alias.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I guess in most cases ls will not point to a much different binary.
But it is more consistent.
</STRONG></P>
<blockQuote><BLOCKQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Also works for me, who normally makes "ls" an alias for something
or other that changes with time.
</BLOCKQuote></blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
</blockQuote>

<blockquote><pre>mylittledatescript host.conf
Sep-25-1995

mylittledatescript passwd
Nov-12-2001
</pre></blockquote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Nifty! The whole script is much better than my quick'n'dirty solution.
But it doesn't work on my machine.
</STRONG></P>

<blockquote><code><font color="#000033"><br>$ ./filedate filedate
<br>date: ung?ltiges Datum Dez  6 22:22'
</font></code></blockquote>
<P><STRONG><CODE>
which translates to "invalid date Dec ...." and stands for an error
</CODE></STRONG></P>
<P><STRONG>
Very strange....
</STRONG></P>
<blockQuote><BLOCKQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Araugh.  "date" seems to change what it'll accept as input with
each version ... hopefully it'll stabilize some day.
</BLOCKQuote></blockQuote>
<blockquote><code><font color="#000033"><br>date --version
<br>date (GNU sh-utils) 2.0.11
</font></code></blockquote>
<blockQuote><BLOCKQuote>
My little script will no doubt need modification if your
version of date is different from the above.
</BLOCKQuote></blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
The "date" command does a great job of formatting a wide range
of inputs.  The "+" string to the date command offers many different
output formats.  See "man date".
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I didn't have the idea to pipe the output through date as well because the
simple date field from ls is sufficient for me. This adds new perspectives
however.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
A variation allows printing the Discordian date of a file using "ddate"
which is much fussier about its input than "date":
</blockQuote>

<blockquote><pre>#!/bin/sh
ddate $(date -d "$(/bin/ls -l $1 | cut -b44-55)" +"%d %m %Y")

mylittledatescript passwd
Sweetmorn, The Aftermath 24, 3167 YOLD
</pre></blockquote>
<blockQuote>
"ddate" also has formatting options.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
This notation does not make any sense to me. I don't need it now.
But for someone who likes this sort of output, it might be handy.
</STRONG></P>
<P><STRONG>
many thanks,
<br>Matthias
</STRONG></P>
<blockQuote><BLOCKQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
A distraction, joke or diversion:
<A HREF="http://www.kbuxton.com/discordia"
	>http://www.kbuxton.com/discordia</A>
</BLOCKQuote></blockQuote>

<!-- end 4 -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<a href="http://www.linuxgazette.net/copying.html"
        >Copyright &copy;</a> 2002
<BR>Published in issue 74 of <I>Linux Gazette</I> January 2002</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
        <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
<!-- *** END copyright *** -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer74.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer74.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
