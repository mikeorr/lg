<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Mandriva 2007 - WiFi cards cannot find network</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Mandriva 2007 - WiFi cards cannot find network</h3>
<p>
<b>Savill, Owen [Owen.Savill at analog.com]</b><br />
<b>Mon, 5 Feb 2007 13:03:31 -0000</b>
</p>

<p>
Hello Answer Gang,
</p>

<p>
This is my first time posting to you so I hope I get it right.
</p>

<p>
I am having big issues with my WiFi connectivity. Basically everything
seems to be okay but attempting to ping an address results in a network
unreachable message. I've used drakconnect to setup the wireless setup.
The router itself is reporting the card as attached ! And ifconfig shows
a continuous stream of traffic to the card but nothing from it.
</p>

<p>
The contents of /var/messages looks fine, apart from perhaps the last
line: 
<pre>
Jan 5 08:49:10 localhost kernel: pccard: CardBus card inserted into slot 0 
Jan 5 08:49:10 localhost kernel: PCI: Enabling device 0000:03:00.0 (0000 -&gt; 0002) 
Jan 5 08:49:10 localhost kernel: ACPI: PCI Interrupt 0000:03:00.0[A] -&gt; Link [LNKA] -&gt; GSI 11 (level, low) -&gt; IRQ 11 
Jan 5 08:49:10 localhost kernel: Build date: Jan 4 2007 
Jan 5 08:49:10 localhost kernel: Debugging version (IEEE80211) 
Jan 5 08:49:10 localhost kernel: ath0: 11a rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:49:10 localhost kernel: ath0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 
Jan 5 08:49:10 localhost kernel: ath0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:49:10 localhost kernel: ath0: turboG rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:49:10 localhost kernel: ath0: H/W encryption support: WEP AES AES_CCM TKIP 
Jan 5 08:49:10 localhost kernel: ath0: mac 5.9 phy 4.3 radio 3.6 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 1 for WME_AC_BE traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 0 for WME_AC_BK traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 2 for WME_AC_VI traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 3 for WME_AC_VO traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 8 for CAB traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 9 for beacons 
Jan 5 08:49:10 localhost kernel: Debugging version (ATH) 
Jan 5 08:49:10 localhost kernel: ath0: Atheros 5212: mem=0xd2000000, irq=11 
Jan 5 08:49:12 localhost dhclient: DHCPDISCOVER on ath0 to 255.255.255.255 port 67 interval 3 
Jan 5 08:49:15 localhost dhclient: DHCPDISCOVER on ath0 to 255.255.255.255 port 67 interval 3 
Jan 5 08:49:18 localhost dhclient: DHCPDISCOVER on ath0 to 255.255.255.255 port 67 interval 8 
Jan 5 08:49:26 localhost dhclient: DHCPDISCOVER on ath0 to 255.255.255.255 port 67 interval 8 
Jan 5 08:49:28 localhost snmpd[3498]: netsnmp_assert index == tmp failed
if-mib/data_access/interface.c:467 _access_interface_entry_save_name() 
</pre>
Kernel logs are at the end of this message... 
</p>

<p>
Basically if never configures an inet address and I guess this is the
real problem: 
<pre>
ath0 Link encap:Ethernet HWaddr 00:05:5D:9F:C2:06 
inet6 addr: fe80::205:5dff:fe9f:c206/64 Scope:Link 
UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 
RX packets:6 errors:123 dropped:0 overruns:0 frame:123 
TX packets:6 errors:0 dropped:0 overruns:0 carrier:0 
collisions:0 txqueuelen:200 
RX bytes:1062 (1.0 KiB) TX bytes:1780 (1.7 KiB) 
Interrupt:11 Memory:e0cc0000-e0cd0000 
</pre>
The kernel modules appear there: 
<pre>
ath_pci 71868 0 
ath_rate_sample 14408 1 ath_pci 
wlan 128028 4 wlan_wep,ath_pci,ath_rate_sample 
ath_hal 147536 3 ath_pci,ath_rate_sample 
</pre>
the correct LEDs are flashing on the card and the router shows the
device as conected. 
</p>

<p>
I have tried the following entries in modprobe.conf: 
<pre>
alias wlan ath0 
alias wlan0 ath0 
alias wifi0 ath0 
</pre>
but still nothing. 
</p>

<p>
iwconfig gives: 
<pre>
lo no wireless extensions. 
 
sit0 no wireless extensions. 
 
eth0 no wireless extensions. 
 
ath0 IEEE 802.11g ESSID:"***" Nickname:"localhost" 
Mode:Managed Frequency:2.467 GHz Access Point: 00:0F:B5:15:5D:AA 
Bit Rate:54 Mb/s Tx-Power:18 dBm Sensitivity=0/3 
Retry:off RTS thr:off Fragment thr:off 
Encryption key:7077-456A-6657-7261-656D-6376-51 Security mode:open 
Power Management:off 
Link Quality=38/94 Signal level=-57 dBm Noise level=-95 dBm 
Rx invalid nwid:0 Rx invalid crypt:0 Rx invalid frag:0 
Tx excessive retries:0 Invalid misc:0 Missed beacon:0 
</pre>
ifup ath0 gives: 
<pre>
Determining IP information for ath0... 
... 
pause for at least a minute 
... 
Determining IP information for ath0... failed.
</pre>
There is also in onboard ethernet card, through which I am talking now. 
 
I've booted the system using the Mandriva Flash drive and it's the same.
I have built my own MadWiFi kernal modules and this method worked fine
in 10.1 and Mand 2006 (the Mandriva 2007 supplied ones fail to load !!).
</p>


<p>
I have tried a SuSE 10 installation and this works just fine straight
out of the box !
</p>

<p>
Sadly I need Mand 2007 due to h/w issues with the other distributions.
</p>

<p>
Can anyone shed any light on this ? 
</p>

<p>
Many thanks, I hope you can help
Owen 
</p>

<p>
Kernel logs follow: 
<pre class="code">
errors - nothing 
  
warnings: 
Jan 5 08:01:48 localhost kernel: ath_hal: module license 'Proprietary' taints kernel. 
Jan 5 08:01:49 localhost kernel: ACPI: PCI Interrupt Link [LNKE] enabled at IRQ 11 
Jan 5 08:01:57 localhost kernel: ip_tables: (C) 2000-2006 Netfilter Core Team 
Jan 5 08:01:57 localhost kernel: process `snmpd' is using deprecated
sysctl (syscall) net.ipv6.neigh.lo.retrans_time; Use net.ipv6.neigh.lo.retrans_time_ms instead. 
Jan 5 08:01:58 localhost kernel: Netfilter messages via NETLINK v0.30. 
Jan 5 08:01:58 localhost kernel: ip_conntrack version 2.4 (4091 buckets, 32728 max) - 224 bytes per conntrack 
Jan 5 08:02:34 localhost kernel: PCI: Enabling device 0000:03:00.0 (0000 -&gt; 0002) 
Jan 5 08:02:34 localhost kernel: Build date: Jan 4 2007 
Jan 5 08:02:34 localhost kernel: Debugging version (IEEE80211) 
Jan 5 08:02:34 localhost kernel: ath0: 11a rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:02:34 localhost kernel: ath0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 
Jan 5 08:02:34 localhost kernel: ath0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:02:34 localhost kernel: ath0: turboG rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:02:34 localhost kernel: ath0: H/W encryption support: WEP AES AES_CCM TKIP 
Jan 5 08:02:34 localhost kernel: ath0: mac 5.9 phy 4.3 radio 3.6 
Jan 5 08:02:34 localhost kernel: ath0: Use hw queue 1 for WME_AC_BE traffic 
Jan 5 08:02:34 localhost kernel: ath0: Use hw queue 0 for WME_AC_BK traffic 
Jan 5 08:02:34 localhost kernel: ath0: Use hw queue 2 for WME_AC_VI traffic 
Jan 5 08:02:34 localhost kernel: ath0: Use hw queue 3 for WME_AC_VO traffic 
Jan 5 08:02:34 localhost kernel: ath0: Use hw queue 8 for CAB traffic 
Jan 5 08:02:34 localhost kernel: ath0: Use hw queue 9 for beacons 
Jan 5 08:02:34 localhost kernel: Debugging version (ATH) 
Jan 5 08:05:39 localhost kernel: mtrr: 0xe8000000,0x8000000 overlaps existing 0xe8000000,0x1000000 
Jan 5 08:16:26 localhost last message repeated 3 times 
Jan 5 08:26:39 localhost last message repeated 3 times 
Jan 5 08:30:16 localhost last message repeated 3 times 
Jan 5 08:31:50 localhost last message repeated 3 times 
Jan 5 08:34:57 localhost last message repeated 6 times 
Jan 5 08:38:15 localhost last message repeated 3 times 
Jan 5 08:38:15 localhost last message repeated 2 times 
Jan 5 08:49:10 localhost kernel: PCI: Enabling device 0000:03:00.0 (0000 -&gt; 0002) 
Jan 5 08:49:10 localhost kernel: Build date: Jan 4 2007 
Jan 5 08:49:10 localhost kernel: Debugging version (IEEE80211) 
Jan 5 08:49:10 localhost kernel: ath0: 11a rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:49:10 localhost kernel: ath0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 
Jan 5 08:49:10 localhost kernel: ath0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:49:10 localhost kernel: ath0: turboG rates: 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps 
Jan 5 08:49:10 localhost kernel: ath0: H/W encryption support: WEP AES AES_CCM TKIP 
Jan 5 08:49:10 localhost kernel: ath0: mac 5.9 phy 4.3 radio 3.6 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 1 for WME_AC_BE traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 0 for WME_AC_BK traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 2 for WME_AC_VI traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 3 for WME_AC_VO traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 8 for CAB traffic 
Jan 5 08:49:10 localhost kernel: ath0: Use hw queue 9 for beacons 
Jan 5 08:49:10 localhost kernel: Debugging version (ATH) 
 
info: 
Jan 5 08:49:10 localhost kernel: pccard: CardBus card inserted into slot 0 
Jan 5 08:49:10 localhost kernel: ACPI: PCI Interrupt 0000:03:00.0[A] -&gt; Link [LNKA] -&gt; GSI 11 (level, low) -&gt; IRQ 11 
Jan 5 08:49:10 localhost kernel: ath0: Atheros 5212: mem=0xd2000000, irq=11 
Jan 5 08:49:21 localhost kernel: ath0: no IPv6 routers present
 
/etc/sysconfig/network-scripts/ifcfg-ath0
DEVICE=ath0 
BOOTPROTO=dhcp 
IPADDR=192.168.0.3 
NETMASK=255.255.255.0 
NETWORK=192.168.0.0 
BROADCAST=192.168.0.255 
GATEWAY=192.168.0.1 
ONBOOT=yes 
METRIC=35 
MII_NOT_SUPPORTED=yes 
USERCTL=no 
MS_DNS1=192.168.0.1 
RESOLV_MODS=yes 
WIRELESS_MODE=Managed 
WIRELESS_ESSID=*** 
WIRELESS_ENC_KEY="open s:***" 
IPV6INIT=no 
IPV6TO4INIT=no 
DHCP_CLIENT=dhclient 
NEEDHOSTNAME=yes 
PEERDNS=yes 
PEERYP=no 
PEERNTPD=no
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Kapil Hari Paranjape [kapil at imsc.res.in]</b><br />
<b>Mon, 5 Feb 2007 11:06:08 -0800</b>
</p>

<p>
Hello,
</p>

<p>
On Mon, 05 Feb 2007, Savill, Owen wrote:
</p>

<pre>
&gt; This is my first time posting to you so I hope I get it right.
</pre>

<p>
I think you may have erred a little on the side of too much info <img src="../gx/smile.png" alt=":-)">
</p>


<pre>
&gt; I am having big issues with my WiFi connectivity. Basically everything
&gt; seems to be okay but attempting to ping an address results in a network
&gt; unreachable message.
</pre>

<p>
This is because your DHCP failed (see below).
</p>


<pre>
&gt; The router itself is reporting the card as attached ! And ifconfig shows
&gt; a continuous stream of traffic to the card but nothing from it.
</pre>

<p>
This just means that the packets are being sent and received---but
cannot be IP packets since your card did not acquire an IP address.
</p>

<p>
Here is the DHCP failure (or rather, DHCP lack of success)
</p>

<pre>
&gt; Jan 5 08:49:12 localhost dhclient: DHCPDISCOVER on ath0 to
&gt; 255.255.255.255 port 67 interval 3 
&gt; Jan 5 08:49:15 localhost dhclient: DHCPDISCOVER on ath0 to
&gt; 255.255.255.255 port 67 interval 3 
&gt; Jan 5 08:49:18 localhost dhclient: DHCPDISCOVER on ath0 to
&gt; 255.255.255.255 port 67 interval 8 
&gt; Jan 5 08:49:26 localhost dhclient: DHCPDISCOVER on ath0 to
&gt; 255.255.255.255 port 67 interval 8 
</pre>


<pre>
&gt; Basically if never configures an inet address and I guess this is the
&gt; real problem: 
</pre>

<p>
You've got it.
</p>

<p>
Your iwconfig output was:
</p>

<pre>
&gt; ath0 IEEE 802.11g ESSID:"***" Nickname:"localhost" 
&gt; Mode:Managed Frequency:2.467 GHz Access Point: 00:0F:B5:15:5D:AA 
&gt; Bit Rate:54 Mb/s Tx-Power:18 dBm Sensitivity=0/3 
&gt; Retry:off RTS thr:off Fragment thr:off 
&gt; Encryption key:7077-456A-6657-7261-656D-6376-51 Security mode:open 
&gt; Power Management:off 
&gt; Link Quality=38/94 Signal level=-57 dBm Noise level=-95 dBm 
&gt; Rx invalid nwid:0 Rx invalid crypt:0 Rx invalid frag:0 
&gt; Tx excessive retries:0 Invalid misc:0 Missed beacon:0 
</pre>

<p>
Is this output essentially the same as you get when you manage to
connect successfully with SUSE 10 as you said below?
</p>


<pre>
&gt; I have tried a SuSE 10 installation and this works just fine straight
&gt; out of the box !
</pre>

<p>
Did you send this mail to the Mandriva mailing lists? I hope you
didn't get flamed out of existence <img src="../gx/smile.png" alt=":-)">
</p>

<p>
Hope this helps.
</p>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>



<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Kapil Hari Paranjape [kapil at imsc.res.in]</b><br />
<b>Mon, 5 Feb 2007 15:21:57 -0800</b>
</p>

<p>
Dear Owen,
</p>

<p>
On Mon, 05 Feb 2007, Savill, Owen wrote:
</p>

<pre>
&gt; Many thanks for getting back. It's really good when someone actually
&gt; replies. 
</pre>

<p>
Could you please foward your reply to the mailing list?
</p>

<p>
There are a number of reasons why:
<pre>
	1. The question/answer is meant to help the community as a
	whole.
	2. There is a good likelihood that I will miss some point
	which the rest of the community will not miss.
</pre>
Regards,
</p>

<p>
Kapil.
--
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Tue, 6 Feb 2007 11:28:19 +0000</b>
</p>

<p>
<p class="editorial">
[[[  Edited from original top-posted format. - Kat  ]]]
</p>

</p>

<p>
On Monday 05 February 2007 23:21, Kapil Hari Paranjape wrote:
</p>

<pre>
&gt; Dear Owen,
&gt;
&gt; Could you please foward your reply to the mailing list?
&gt;
</pre>
Sorry, of course.
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Tue, 6 Feb 2007 11:36:06 +0000</b>
</p>

<p>
Hello Kapil,
</p>

<p>
Many thanks for getting back. It's really good when someone actually
replies. 
</p>


<pre>
&gt; Is this output essentially the same as you get when you 
&gt; manage to connect successfully with SUSE 10 as you said below?
</pre>
Good question - I'll check tonight.
</p>


<pre>
&gt; Did you send this mail to the Mandriva mailing lists? I hope 
&gt; you didn't get flamed out of existence <img src="../gx/smile.png" alt=":-)">
</pre>
I've dealt with the pre Novell Gnome, gNumeric and Evolution lot,
Mandriva haven't even started on the flame ladder yet ! My relationship
with Mandriva Cooker is now non-existent ! Basically I think they think
I'm an irritating twit ! They no longer even reply to my posts; is this
better than being flamed ? The Mandriva bug I filed hasn't been
responded to. The most helpful has been the Mandriva Forums but the
people who have so far looked at the posting have offered little in the
way of actual help.
</p>


<pre>
&gt; Hope this helps.
</pre>
Not yet <img src="../gx/smile.png" alt=":-)">  The explanation was great. I now understand more what is
happening. I am still at a loss to know what to do about it !! What do I
do if a) it is the same as on the SuSE installation and b) if it isn't.
How do I correct the DHCP failure ? Is there a package I can downgrade
to the Mand 2006 version ? Is it just a case of rpm -qa | grep dhcp ?!
</p>

<p>
Thanks,
Owen 
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Tue, 6 Feb 2007 11:36:51 +0000</b>
</p>

<p>
Hello Kapil,
</p>

<p>
I could only get to my Mandriva 2006 partition which connects just fie. The 
iwconfig is the same except the Encryption key: is different !! I presume 
this is expected or the router would have denied access.
</p>

<p>
I also noted that in Mand 2007 the ath0 i/f is immediately assigned and inet6 
address. In Mand 2006 it is never assigned and inet6 address.
</p>

<p>
If have installed dhcp-common and dhcp-client from Mand 2006 but still 
nothing.
</p>

<p>
** sigh **
</p>

<p>
Thanks,
Owen
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Kapil Hari Paranjape [kapil at imsc.res.in]</b><br />
<b>Mon, 5 Feb 2007 21:20:37 -0800</b>
</p>

<p>
Hello,
</p>

<p>
On Tue, 06 Feb 2007, OS wrote:
</p>

<pre>
&gt; I also noted that in Mand 2007 the ath0 i/f is immediately assigned and inet6 
&gt; address. In Mand 2006 it is never assigned and inet6 address.
</pre>

<p>
To use Alfred Hitchcock parlance, this is a "McGuffin".
</p>

<p>
The inet6 address is a "link-local" address. All ethernet interfaces
have one in IPv6. (Perhaps <strong>all</strong> interfaces acquire one but I
don't remember my IPv6 well enough).
</p>

<p>
In particular, this address was assigned by the Linux kernel and does
not involve the DHCP server in any way.
</p>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>



<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Sat, 10 Feb 2007 10:08:52 +0000</b>
</p>

<p>
Well, I've tried encoding a manual IP adress, netmask, gateway and DNS server 
1.
</p>

<p>
The WiFi AP is 192.168.0.1, my assigned IP address is 192.168.0.2. The netmask 
is 255.255.0.0, the gateway is 192.168.0.1 and the first DNS server is 
192.168.0.1
</p>

<p>
The NetApplet applet now shows a connected interface and shows a good signal 
strength. So I tried the following:
</p>

<pre>
 ping 192.168.0.1
 PING 192.168.0.1 (192.168.0.1) 56(84) bytes of data.
 From 192.168.0.2 icmp_seq=1 Destination Host Unreachable
 From 192.168.0.2 icmp_seq=2 Destination Host Unreachable
 From 192.168.0.2 icmp_seq=3 Destination Host Unreachable
 From 192.168.0.2 icmp_seq=4 Destination Host Unreachable
 From 192.168.0.2 icmp_seq=5 Destination Host Unreachable
 From 192.168.0.2 icmp_seq=6 Destination Host Unreachable
 
 traceroute 192.168.0.1
 traceroute to 192.168.0.1 (192.168.0.1), 30 hops max, 38 byte packets
  1  192.168.0.2 (192.168.0.2)  3001.401 ms !H  3004.433 ms !H  3003.195 ms !H
 
 ping www.yahoo.com
 ping: unknown host www.yahoo.com
 
 route -n
 Kernel IP routing table
 Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
 192.168.0.0     0.0.0.0         255.255.255.0   U     10     0        0 eth0
 169.254.0.0     0.0.0.0         255.255.0.0     U     10     0        0 eth0
 169.254.0.0     0.0.0.0         255.255.0.0     U     35     0        0 ath0
 192.168.0.0     0.0.0.0         255.255.0.0     U     35     0        0 ath0
 0.0.0.0         192.168.0.1     0.0.0.0         UG    10     0        0 eth0
 0.0.0.0         192.168.0.1     0.0.0.0         UG    35     0        0 ath0
 
 iptables -L -n
 Chain INPUT (policy DROP)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0
 eth0_in    all  --  0.0.0.0/0            0.0.0.0/0
 ath0_in    all  --  0.0.0.0/0            0.0.0.0/0
 Reject     all  --  0.0.0.0/0            0.0.0.0/0
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:INPUT:REJECT:'
 reject     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain FORWARD (policy DROP)
 target     prot opt source               destination
 eth0_fwd   all  --  0.0.0.0/0            0.0.0.0/0
 ath0_fwd   all  --  0.0.0.0/0            0.0.0.0/0
 Reject     all  --  0.0.0.0/0            0.0.0.0/0
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:FORWARD:REJECT:'
 reject     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain OUTPUT (policy DROP)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0
 fw2net     all  --  0.0.0.0/0            0.0.0.0/0           policy match dir 
 out pol none
 fw2loc     all  --  0.0.0.0/0            0.0.0.0/0           policy match dir 
 out pol none
 Reject     all  --  0.0.0.0/0            0.0.0.0/0
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:OUTPUT:REJECT:'
 reject     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain Drop (1 references)
 target     prot opt source               destination
 reject     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:113
 dropBcast  all  --  0.0.0.0/0            0.0.0.0/0
 ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0           icmp type 3 code 
 4
 ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0           icmp type 11
 dropInvalid  all  --  0.0.0.0/0            0.0.0.0/0
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           multiport dports 
 135,445
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           udp dpts:137:139
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           udp spt:137 
 dpts:1024:65535
 DROP       tcp  --  0.0.0.0/0            0.0.0.0/0           multiport dports 
 135,139,445
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           udp dpt:1900
 dropNotSyn  tcp  --  0.0.0.0/0            0.0.0.0/0
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           udp spt:53
 
 Chain Reject (4 references)
 target     prot opt source               destination
 reject     tcp  --  0.0.0.0/0            0.0.0.0/0           tcp dpt:113
 dropBcast  all  --  0.0.0.0/0            0.0.0.0/0
 ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0           icmp type 3 code 
 4
 ACCEPT     icmp --  0.0.0.0/0            0.0.0.0/0           icmp type 11
 dropInvalid  all  --  0.0.0.0/0            0.0.0.0/0
 reject     udp  --  0.0.0.0/0            0.0.0.0/0           multiport dports 
 135,445
 reject     udp  --  0.0.0.0/0            0.0.0.0/0           udp dpts:137:139
 reject     udp  --  0.0.0.0/0            0.0.0.0/0           udp spt:137 
 dpts:1024:65535
 reject     tcp  --  0.0.0.0/0            0.0.0.0/0           multiport dports 
 135,139,445
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           udp dpt:1900
 dropNotSyn  tcp  --  0.0.0.0/0            0.0.0.0/0
 DROP       udp  --  0.0.0.0/0            0.0.0.0/0           udp spt:53
 
 Chain all2all (0 references)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state 
 RELATED,ESTABLISHED
 Reject     all  --  0.0.0.0/0            0.0.0.0/0
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:all2all:REJECT:'
 reject     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain ath0_fwd (1 references)
 target     prot opt source               destination
 dynamic    all  --  0.0.0.0/0            0.0.0.0/0           state INVALID,NEW
 loc2net    all  --  0.0.0.0/0            0.0.0.0/0           policy match dir 
 out pol none
 
 Chain ath0_in (1 references)
 target     prot opt source               destination
 dynamic    all  --  0.0.0.0/0            0.0.0.0/0           state INVALID,NEW
 loc2fw     all  --  0.0.0.0/0            0.0.0.0/0           policy match dir 
 in pol none
 
 Chain dropBcast (2 references)
 target     prot opt source               destination
 DROP       all  --  0.0.0.0/0            0.0.0.0/0           PKTTYPE = 
 broadcast
 DROP       all  --  0.0.0.0/0            0.0.0.0/0           PKTTYPE = 
 multicast
 
 Chain dropInvalid (2 references)
 target     prot opt source               destination
 DROP       all  --  0.0.0.0/0            0.0.0.0/0           state INVALID
 
 Chain dropNotSyn (2 references)
 target     prot opt source               destination
 DROP       tcp  --  0.0.0.0/0            0.0.0.0/0           tcp 
 flags:!0x17/0x02
 
 Chain dynamic (4 references)
 target     prot opt source               destination
 
 Chain eth0_fwd (1 references)
 target     prot opt source               destination
 dynamic    all  --  0.0.0.0/0            0.0.0.0/0           state INVALID,NEW
 net2all    all  --  0.0.0.0/0            0.0.0.0/0           policy match dir 
 out pol none
 
 Chain eth0_in (1 references)
 target     prot opt source               destination
 dynamic    all  --  0.0.0.0/0            0.0.0.0/0           state INVALID,NEW
 net2all    all  --  0.0.0.0/0            0.0.0.0/0           policy match dir 
 in pol none
 
 Chain fw2loc (1 references)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state 
 RELATED,ESTABLISHED
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain fw2net (1 references)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state 
 RELATED,ESTABLISHED
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain loc2fw (1 references)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state 
 RELATED,ESTABLISHED
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain loc2net (1 references)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state 
 RELATED,ESTABLISHED
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain logdrop (0 references)
 target     prot opt source               destination
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:logdrop:DROP:'
 DROP       all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain logreject (0 references)
 target     prot opt source               destination
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:logreject:REJECT:'
 reject     all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain net2all (2 references)
 target     prot opt source               destination
 ACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           state 
 RELATED,ESTABLISHED
 Drop       all  --  0.0.0.0/0            0.0.0.0/0
 LOG        all  --  0.0.0.0/0            0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:net2all:DROP:'
 DROP       all  --  0.0.0.0/0            0.0.0.0/0
 
 Chain reject (11 references)
 target     prot opt source               destination
 DROP       all  --  255.255.255.255      0.0.0.0/0
 DROP       all  --  224.0.0.0/4          0.0.0.0/0
 DROP       all  --  0.0.0.0/0            0.0.0.0/0           PKTTYPE = 
 broadcast
 DROP       all  --  0.0.0.0/0            0.0.0.0/0           PKTTYPE = 
 multicast
 DROP       all  --  255.255.255.255      0.0.0.0/0
 DROP       all  --  224.0.0.0/4          0.0.0.0/0
 REJECT     tcp  --  0.0.0.0/0            0.0.0.0/0           reject-with 
 tcp-reset
 REJECT     udp  --  0.0.0.0/0            0.0.0.0/0           reject-with 
 icmp-port-unreachable
 REJECT     icmp --  0.0.0.0/0            0.0.0.0/0           reject-with 
 icmp-host-unreachable
 REJECT     all  --  0.0.0.0/0            0.0.0.0/0           reject-with 
 icmp-host-prohibited
 
 Chain shorewall (0 references)
 target     prot opt source               destination
 
 Chain smurfs (0 references)
 target     prot opt source               destination
 LOG        all  --  255.255.255.255      0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:smurfs:DROP:'
 DROP       all  --  255.255.255.255      0.0.0.0/0
 LOG        all  --  224.0.0.0/4          0.0.0.0/0           LOG flags 0 level 
 6 prefix `Shorewall:smurfs:DROP:'
 DROP       all  --  224.0.0.0/4          0.0.0.0/0
</pre>
I always tell people how good Linux is at networking !! <img src="../gx/smile.png" alt=":-)">
</p>

<p>
Owen
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Kapil Hari Paranjape [kapil at imsc.res.in]</b><br />
<b>Fri, 9 Feb 2007 14:55:48 -0800</b>
</p>

<p>
Hello,
</p>

<p>
On Sat, 10 Feb 2007, OS wrote:
</p>

<pre>
&gt; Well, I've tried encoding a manual IP adress, netmask, gateway and DNS server 
&gt; 1.
&gt; 
&gt; The WiFi AP is 192.168.0.1, my assigned IP address is 192.168.0.2. The netmask 
&gt; is 255.255.0.0, the gateway is 192.168.0.1 and the first DNS server is 
&gt; 192.168.0.1
&gt; 
&gt; The NetApplet applet now shows a connected interface and shows a good signal 
&gt; strength.
</pre>

<p>
So far so good.
</p>


<pre>
&gt; route -n
&gt; Kernel IP routing table
&gt; Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
&gt; 192.168.0.0     0.0.0.0         255.255.255.0   U     10     0        0 eth0
&gt; 169.254.0.0     0.0.0.0         255.255.0.0     U     10     0        0 eth0
&gt; 169.254.0.0     0.0.0.0         255.255.0.0     U     35     0        0 ath0
&gt; 192.168.0.0     0.0.0.0         255.255.0.0     U     35     0        0 ath0
&gt; 0.0.0.0         192.168.0.1     0.0.0.0         UG    10     0        0 eth0
&gt; 0.0.0.0         192.168.0.1     0.0.0.0         UG    35     0        0 ath0
</pre>

<p>
Herein there is a problem. You seem to have two interfaces connected
to the same network 192.168.x.x --- these are eth0 and ath0.
</p>

<p>
Since the eth0 entry is higher in the table it will take prcedence.
Try to DOWN the eth0 interface and see what happens.
<pre>
	ifdown eth0 
</pre>
should do it.
</p>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>



<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Sat, 10 Feb 2007 11:07:03 -0800</b>
</p>

<p>
On Sat, Feb 10, 2007 at 10:08:52AM +0000, OS wrote:
</p>

<pre>
&gt; Well, I've tried encoding a manual IP adress, netmask, gateway and DNS server 
&gt; 1.
&gt; 
&gt; The WiFi AP is 192.168.0.1, my assigned IP address is 192.168.0.2. The netmask 
&gt; is 255.255.0.0, the gateway is 192.168.0.1 and the first DNS server is 
&gt; 192.168.0.1
</pre>

<p>
I assume that the AP, the gateway, and the DNS server are all actually
one machine/one interface. If you're saying anything else, then you have
a problem right there - multiple hosts with the same IP on the same
segment are a big no-no. Second, (not that this is a problem, but you
might as well start out doing everything as "right" as you can) unless
you have hosts which use the third quad of the IP (i.e., 192.168.2.X),
your netmask should be 255.255.255.0.
 
</p>

<pre>
&gt; The NetApplet applet now shows a connected interface and shows a good signal 
&gt; strength. So I tried the following:
&gt; 
&gt; ping 192.168.0.1
&gt; PING 192.168.0.1 (192.168.0.1) 56(84) bytes of data.
&gt; &gt;From 192.168.0.2 icmp_seq=1 Destination Host Unreachable
</pre>

<p>
OK, this would be the time to start doing the reduction process. You
know that your packets aren't making the round trip from your host to
the other one; why not? For the duration of the test, shut off/remove
every non-critical piece that could get in the way of that (i.e., turn
off any firewalls, remove any hubs/routers between the two hosts, etc.)
and double-check any of the pieces that go in between (can you hook a
cable between the two hosts and ping that way? If that works but the
WiFi connection doesn't, what does 'iwconfig' report for that
interface?)
</p>

<p>
All the other output that you've sent us demonstrates nothing more than 
the above test. It all says "no connection". Turn all that stuff off,
test each piece in between, then start adding things back in one at a
time. When the connection fails, you'll know what the problem is.
</p>


<pre>
&gt; I always tell people how good Linux is at networking !! <img src="../gx/smile.png" alt=":-)">
</pre>

<p>
Linux does indeed provide you with complete access and lots of tools.
The biggest problem in cases like that is almost always operator error.
<img src="../gx/smile.png" alt=":)">
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Mon, 12 Feb 2007 09:15:42 +0000</b>
</p>

<p>
I have wondered about eth0, however I kept returning to the fact that WiFi 
works on a different partition running Mand 2006 on the same machine. The 
proof - I'm using Wireless now on Mand 2006. 
</p>

<p>
On Mand 2006 route -n produces 
<pre>
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.0.0     0.0.0.0         255.255.255.0   U     0      0        0 ath0
0.0.0.0         192.168.0.1     0.0.0.0         UG    0      0        0 ath0
</pre>
Wow ! very different !
</p>

<p>
On Mand 2007 after a fresh reboot route -n produces 
<pre>
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.0.0     0.0.0.0         255.255.255.0   U     35     0        0 ath0
169.254.0.0     0.0.0.0         255.255.0.0     U     35     0        0 ath0
0.0.0.0         192.168.0.1     0.0.0.0         UG    35     0        0 ath0
</pre>
There's no eth0 but where on earth did 169.254.0.0 come from. I've tried 
reconfiguring the interface but I cannot get rid of 169.254.0.0 nor can I 
find it in any configuration.
</p>

<p>
Thanks,
Owen
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Mon, 12 Feb 2007 09:19:08 +0000</b>
</p>

<p>
Sorry, forgot to mention. The previous mail was when I hardwired this 
machine's IP address to 192.168.0.5. When I switch back to DHCP route - n 
produces nothing at all.
</p>

<p>
Thanks,
Owen
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Mon, 12 Feb 2007 09:31:00 +0000</b>
</p>

<pre>
&gt; I assume that the AP, the gateway, and the DNS server are all actually
&gt; one machine/one interface. If you're saying anything else, then you have
</pre>
They are indeed. I was just trying to manually configure anything I could 
think of !!
</p>


<pre>
&gt; every non-critical piece that could get in the way of that (i.e., turn
&gt; off any firewalls, remove any hubs/routers between the two hosts, etc.)
&gt; and double-check any of the pieces that go in between (can you hook a
&gt; cable between the two hosts and ping that way? If that works but the
&gt; WiFi connection doesn't, what does 'iwconfig' report for that
&gt; interface?)
</pre>
I've shut off the firewalls and I have no intermediate hardware between the 
laptop and the AP. I have also attached a cable direct to the AP and 
everything works just fine. I'll have to get back to you on iwconfig as I'll  
need to reboot into Mand 2007. I think I've posted it before.
</p>


<pre>
&gt; The biggest problem in cases like that is almost always operator error.
</pre>
I hope you are right. I have begun to see others reporting the same type of 
issue. I am using WiFi to send this now from a different partition running 
Mand 2006 on the same machine.
</p>

<p>
I did an upgrade from 2006 to 2007 and a perfectly good WiFi connection was 
broken in exactly the same way. About the only thing I can think of is to 
install Mand 2006 and upgrade every package on at a time until WiFi breaks. 
Then try to regress the same package on Mand 2007 and see if WiFi now works.
</p>

<p>
Thanks
Owen
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>OS [osavill at uklinux.net]</b><br />
<b>Mon, 12 Feb 2007 09:53:06 +0000</b>
</p>

<p>
Found two entries for 169.254
<pre>
httpd/lib/perl5/vendor_perl/5.8.8/Net/IP.pm as follows:
# Definition of the Ranges for IPv4 IPs
%IPv4ranges = (
    '00000000'                 =&gt; 'PRIVATE',     # 0/8
    '00001010'                 =&gt; 'PRIVATE',     # 10/8
    '01111111'                 =&gt; 'PRIVATE',     # 127.0/8
    '101011000001'             =&gt; 'PRIVATE',     # 172.16/12
    '1100000010101000'         =&gt; 'PRIVATE',     # 192.168/16
    '1010100111111110'         =&gt; 'RESERVED',    # 169.254/16
    '110000000000000000000010' =&gt; 'RESERVED',    # 192.0.2/24
    '1110'                     =&gt; 'RESERVED',    # 224/4
    '11110'                    =&gt; 'RESERVED',    # 240/5
    '11111'                    =&gt; 'RESERVED',    # 248/5
);
</pre>
and 
<pre>
httpd/lib/libDrakX/network/connection/ethernet.pm as follows:
        if_($self-&gt;{protocol} eq 'dhcp',
            { label =&gt; N("DHCP client"), val =&gt; \$self-&gt;{address}
{dhcp_client}, list =&gt; \@dhcp_clients, advanced =&gt; 1 },
            { label =&gt; N("DHCP timeout (in seconds)"), val =&gt; 
\$self-&gt;{address}{dhcp_timeout}, advanced =&gt; 1 },
            { text =&gt; N("Get YP servers from DHCP"), val =&gt; \$self-&gt;{address}
{peeryp}, type =&gt; "bool", advanced =&gt; 1 },
            { text =&gt; N("Get NTPD servers from DHCP"), val =&gt; 
\$self-&gt;{address}{peerntpd}, type =&gt; "bool", advanced =&gt; 1 },
            { label =&gt; N("DHCP host name"), val =&gt; \$self-&gt;{address}
{dhcp_hostname}, advanced =&gt; 1 },
            #- FIXME: install zcip if not checked
            if_(0, { text =&gt; N("Do not fallback to Zeroconf (169.254.0.0 
network)"), type =&gt; "bool", val =&gt; \$self-&gt;{address}{skip_zeroconf}, advanced 
=&gt; 1 }),
        ),
    ];
}
</pre>
I don't suppose FIXME is some indication ?!?!?! What is zeroconf ?
</p>

<p>
Many thanks,
Owen
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>John Karns [johnkarns at gmail.com]</b><br />
<b>Sun, 11 Feb 2007 19:46:52 -0500</b>
</p>

<p>
On 2/12/07, OS &lt;osavill at uklinux.net&gt; wrote:
</p>

<pre>
&gt; Found two entries for 169.254
&gt; httpd/lib/perl5/vendor_perl/5.8.8/Net/IP.pm as follows:
&gt; # Definition of the Ranges for IPv4 IPs
</pre>

<p>
[snip]
</p>


<pre>
&gt;     '1010100111111110'         =&gt; 'RESERVED',    # 169.254/16
</pre>

<p>
[snip]
</p>


<pre>
&gt; I don't suppose FIXME is some indication ?!?!?! What is zeroconf ?
</pre>

<p>
Zeroconf is a carry-over from MS wind0ws, which assigns an address to
an ethernet interface (sometimes denoted by IF) in the event that
nothing else has.  Normally during (usually boot time) initialization
of an IF, a protocol called DHCP is utilized to send a signal over a
network to see if it gets a response from a device which may be
listening for that signal.  That signal notifies the listeneing device
that there is an ethernet interface which is requesting an IP address.
 This mechanism provides a way of centrally managing IPaddresses which
are going to be used on the network.
</p>

<p>
Zeroconf should only become activated if no device has responded to
the broadcast signal sent out in search of an IP address.  Zeroconf
would assign an address in a range using the block corresponding to
the 169.254.x.x address.  The idea behind doing that is to try to
garantee a connection between interconnected devices having ethernet
interfaces in an environment where there is no device present
listening for DHCP requests for IP addresses.  Thus you can
interconnect two machines which may be running wind0ws (or Linux) and
have the capability of transferring data between them.
</p>

<p>
It seems as though there is an error in the zeroconf system init
script where it fails to detect that the device already has had an IP
address assigned - assuming that the zeroconf script is indeed being
called after the script which initiates the DHCP request.
</p>

<p>
I would suggest that you try to disable the zeroconf script, at least
temporarily.  How you would do that with Mandriva I can't say, as I
don't use that distro.  I woulod guess that they have a menu entry
which will lead you to the utility they most likely provide to do it.
</p>

<p>
As to whether that is the fundamental cause of your problem, I tend to
doubt it, but I would disable it anyway.
</p>

<pre>-- 
John
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-mandriva_2007_wifi_cards_cannot_find_network">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>