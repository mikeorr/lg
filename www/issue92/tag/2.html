<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<META NAME="generator" CONTENT="lgazmail v1.4G.i">
<TITLE>The Answer Gang 92: couple of questions regarding printing on Linux, pls</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->
<!--endcut  ==============================================-->
<!-- begin 2 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>couple of questions regarding printing on Linux, pls</H3>


<p><strong>From Sony Lloyd 
</strong></p> 
<p></strong></p>

<p align="right"><strong>Answered By  Ben Okopnik, Heather Stern, Kapil Hari Paranjape
</strong></p>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Sorry to distrurb
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Do not disturb sleeping dragons, for you are crunchy and good with
ketchup. 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> This is The Answer Gang - we <em> _like</em> being "disturbed"
(several of us here could be described as having that attribute
<EM>permanently</EM> set...) - at least if you pose an interesting question.
So, fear not but approach our saurine majesties, small human creature.
</blockQuote>
<blockQuote>
(Anybody seen that BBQ sauce bottle?)
</blockQuote>

<blockquote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Heather] No, but I think I saw a pizza heading into the hoard room.
</blockquote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
I would have couple of questions regarding printing on Linux, pls:
(1) I see "lpd" loading at my system boot up, but my kernel
is not compiled with support for "lp" (confirmed by absence of "lp"
from outputs of "cat <TT>/proc/devices</TT>").
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
"<TT>/proc/devices</TT>" does not necessarily reflect whether you have parallel
port support available or not; in fact, mine does not contain an "lp"
entry after startup, and yet I can happily print via my parallel port.
The thing that makes the difference (and loads the modules as necessary)
is the "kmod" option in the kernel: my "lp" module will be automatically
loaded whenever I need it. Until then, "<TT>/proc/devices</TT>" will not have it
listed.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
How come lpd loads without
linux being set for printing + with lp ports not detected by linux?
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
"lpd" is a piece of software that "catches" and outputs print jobs;
that's all it does. If it is linked in your "<TT>/etc/rc*d</TT>" directories, it
will load on startup. It does not care whether you've set up a parallel
port or not; it just does what it's been told to do, which is start. If
you have not configured the system corectly, and try to <em> _use</em> "lpd", it
will log an error message - just as it should.
</blockQuote>
<blockQuote>
One of the major differences between Wind0ws and Unix is that, rather
than large monolithic programs that do many things at once (the Wind0ws
way), Unix uses "small sharp tools" - programs that do one thing well
and can be easily connected to other programs. In this philosophy, a
printing daemon does not (and should not) check for the presence or
absence of ports on startup - that's not its job. What if, for example,
I decide not to load the "lp" module until I want to print? Should "lpd"
fail to load?
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
(2)I have an old linux 2.0.30 with no xwindow.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
The 2.0 kernels are perfectly capable of supporting XFree86. In fact,
that's a bit of a misnomer: X only has a tangential relationship
with the kernel - there's nothing in the kernel (as far as I know,
anyway) that is required specifically for running it.
</blockQuote>

<blockquote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Heather] Yes, there is; the feature is called "sockets". But, if you disable it
there are a lot of things that won't work.
</blockquote>
<blockquote>Depending on how much your monitor hates you, you might need
framebuffers, and that's a newer kernel feature.
</blockquote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Kapil] 
Actually, inter-process-communication was required for X to first be
ported to Linux. In other words Linux pre-ipcs (in the old version 0.12
days possibly upto version 0.98?) could not run X.
</blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
True, but then you may as well say that if you had no kernel, you
couldn't run X either... 2.0.x is way after that.  In practice, if you
have a $GENERIC_KERNEL, X will work just fine.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
Simply want to set it to pint to a canon bjc80 printer via parrallel port.
I did recompiled the kernel for "lp" support, but do not know what to do
next.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Well, the thing to do <em> _first</em> would have been reading the Printing-HOWTO
(and perhaps the Printing-Usage-HOWTO) at &lt;<A HREF="http://www.tldp.org/&gt"
	>http://www.tldp.org/&gt</A>;. It's
always a good idea to look for a HOWTO when you are experimenting with a
new and unfamiliar Linux subsystem.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
For now, the lp ports is not detected yetby my linux system.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
You don't really know that, actually. One way you can tell - it's a
little subtle, actually - is by using the "file" utility and its "-s"
(special file) option. The messages will vary a bit depending on whether
the printing daemon is loaded or not.
</blockQuote>

<blockquote><pre># Starting with printing daemon loaded
ben@Fenrir:~$ file -s /dev/lp0
/dev/lp0: can't read `/dev/lp0' (Device or resource busy).
ben@Fenrir:~$ file -s /dev/lp1
/dev/lp1: can't read `/dev/lp1' (No such device or address).
</pre></blockquote>
<blockQuote>
See the difference? Here it is with the daemon stopped:
</blockQuote>

<blockquote><pre>ben@Fenrir:~$ su -c '/etc/init.d/cupsys stop'
Password:
Stopping CUPSys: cupsd.
ben@Fenrir:~$ file -s /dev/lp0
/dev/lp0: file: read failed (Input/output error).
ben@Fenrir:~$ file -s /dev/lp1
/dev/lp1: can't read `/dev/lp1' (No such device or address).
</pre></blockquote>
<blockQuote>
Different message, but still understandable.
</blockQuote>
<P><STRONG>
<IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> 
So how to manually (step by step, with no x window utility -- simply from
command line)
configure my printer.
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben] 
Read the above HOWTOs; they'll walk you through the process. Feel free
to let us know if you run into any problems you can't solve.
</blockQuote>

<!-- end 2 -->
<!-- *** BEGIN copyright *** -->
<hr>
<CENTER><SMALL><STRONG>
<h5>
<br>Copyright &copy; 2003
<br>Copying license <A HREF="">http://www.linuxgazette.net/copying.html</A>
<BR>Published in Issue 92 of <i>Linux Gazette</i>, July 2003</H5>
</STRONG></SMALL></CENTER>
<!-- *** END copyright *** -->

<SMALL><CENTER><H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
       <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6></SMALL></CENTER>
<HR>

<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="../index.html"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> 
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
