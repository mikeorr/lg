<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>Networking Problem on Hardy Heron</title>
<meta http-equiv='Content-Type; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Networking Problem on Hardy Heron</h3>
<p>
<b><p>
Deividson Okopnik [deivid.okop at gmail.com]

</p>
</b><br />
<b>Sat, 17 May 2008 11:34:55 -0300</b>
</p>

<p>
Anyone tried Hardy Heron (Ubuntu) yet?
</p>

<p>
I just installed Hardy on my new machine, first Linux distro on that machine,
and I couldn't get my network to work. I dual-boot (with XP), and, on WinXP, it's
working OK. My network is pretty simple - each machine has its own static IP
(no DHCP). On Hardy, I configured the IP via the network config (the same IP
I use on that machine for Windows XP), but nothing works. I can't ping other
machines on the network, other machines can't ping me, and Hardy is not
asking for any driver or anything.
</p>

<p>
Any clue on what could I check to try to solve that problem?
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Sat, 17 May 2008 16:46:30 +0200</b>
</p>

<p>
On May 17, 2008 at 1134 -0300, Deividson Okopnik appeared and said:
</p>

<pre>
&gt; Anyone tried Hardy Heron (Ubuntu), yet?
</pre>

<p>
No, not yet.
</p>


<pre>
&gt; I just installed Hardy on my new machine, first Linux distro on that machine,
&gt; and I couldn't get my network to work. I dual-boot (with XP), and, on WinXP, it's
&gt; working OK. My network is pretty simple - each machine has its own static IP
&gt; (no DHCP). [...]
&gt;
&gt; Any clue on what could I check, to try to solve that problem?
</pre>

<p>
No clue yet, but what's your hardware like? Can you send the output of
lspci, lsmod, and "ip -a"/ifconfig? It might be a newer network interface
card.
</p>

<p>
Best,
Ren&eacute;.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sat, 17 May 2008 11:54:35 -0400</b>
</p>

<p>
On Sat, May 17, 2008 at 11:34:55AM -0300, Deividson Okopnik wrote:
</p>

<pre>
&gt;    Anyone tried Hardy Heron (Ubuntu), yet?
</pre>

<p>
Kat has it installed on her laptop, last week; I was so busy that I only
got to upgrade to Gutsy.
 
</p>

<pre>
&gt;    I just installed Hardy on my new machine, first Linux distro on that
&gt;    machine, and I couldn't get my network to work. I dual-boot (with XP), and,
&gt;    on WinXP, it's working OK. My network is pretty simple - each machine has
&gt;    its own static IP (no DHCP). On Hardy, I configured the IP via the network
&gt;    config (the same IP I use on that machine for Windows XP), but nothing
&gt;    works. I can't ping other machines on the network, other machines can't
&gt;    ping me, and Hardy is not asking for any driver or anything.
&gt; 
&gt;    Any clue on what could I check to try to solve that problem?
</pre>

<p>
What does 'ifconfig -a' say? You might have a shiny, brand-new <strong>weird</strong>
interface name for your NIC - or you might not have anything at all,
meaning that you don't have the right module loaded to drive the
hardware.
</p>

<p>
Assuming that all of that is good, what does 'route -n' (or 'netstat
-r') say? You might not have routing to the other machines set up. Of
course, if you're on a private network, that doesn't apply.
</p>

<p>
One of the reasons that I originally (albeit grumpily) decided to try
Ubuntu is that it was a Debian derivative, and I could still use my
command line tools. The CLI will always tell you the truth; the pretty
graphical stuff obscures too many things.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Neil Youngman [ny at youngman.org.uk]

</p>
</b><br />
<b>Sat, 17 May 2008 18:44:46 +0100</b>
</p>

<p>
On Saturday 17 May 2008 15:34, Deividson Okopnik wrote:
</p>

<pre>
&gt; Anyone tried Hardy Heron (Ubuntu) yet?
</pre>

<p>
Downloaded, but not installed.
</p>


<pre>
&gt; I just installed Hardy on my new machine, first Linux distro on that
&gt; machine, and I couldn't get my network to work. I dual-boot (with XP), and, on
&gt; WinXP, it's working OK. My network is pretty simple - each machine has its
&gt; own static IP (no DHCP). On Hardy, I configured the IP via the network
&gt; config (the same IP I use on that machine for Windows XP), but nothing
&gt; works. I can't ping other machines on the network, other machines can't ping
&gt; me, and Hardy is not asking for any driver or anything.
&gt;
&gt; Any clue on what could I check to try to solve that problem?
</pre>

<p>
What type is the network card? Does lsmod show anything that looks like it 
might be the driver for that card? Does dmesg show any errors that might be 
related to that card, or to networking generally?
</p>

<p>
Neil
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sat, 17 May 2008 14:02:13 -0400</b>
</p>

<p>
On Sat, May 17, 2008 at 06:44:46PM +0100, Neil Youngman wrote:
</p>

<pre>
&gt; On Saturday 17 May 2008 15:34, Deividson Okopnik wrote:
&gt; &gt; Anyone tried Hardy Heron (Ubuntu), yet?
&gt; 
&gt; Downloaded, but not installed.
&gt; 
&gt; &gt; I just installed Hardy on my new machine, first Linux distro on that
&gt; &gt; machine, and I couldn't get my network to work. I dual-boot (with XP), and, on
&gt; &gt; WinXP, it's working OK. My network is pretty simple - each machine has its
&gt; &gt; own static IP (no DHCP). On Hardy, I configured the IP via the network
&gt; &gt; config (the same IP I use on that machine for Windows XP), but nothing
&gt; &gt; works. I can't ping other machines on the network, other machines can't ping
&gt; &gt; me, and Hardy is not asking for any driver or anything.
&gt; &gt;
&gt; &gt; Any clue on what could I check, to try to solve that problem?
&gt; 
&gt; What type is the network card? Does lsmod show anything that looks like it 
&gt; might be the driver for that card? Does dmesg show any errors that might be 
&gt; related to that card, or to networking generally?
</pre>

<p>
Also, what does 'lspci' show? I've come to rely on it quite a lot while
troubleshooting my WiFi (which, sadly, stopped working after a recent
upgrade, and, despite my best efforts, hasn't yet returned to the land of
the living. I'll drag those tribulations in later, maybe.)
</p>

<p>
Anyway, the path from <em>that</em> end goes something like this:
</p>

<p>
1) Use 'lspci' to figure out the hardware.<br>
2) Use Google to figure out the chipset, if applicable (a big deal with
	WiFi).<br>
3) Use Google again to figure out the right module, if it's not obvious.
</p>

<p>
This is pretty drastic stuff, though. Usually, it doesn't take anything
this complex.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Deividson Okopnik [deivid.okop at gmail.com]

</p>
</b><br />
<b>Mon, 19 May 2008 09:33:31 -0300</b>
</p>

<p>
Sorry for the delay - that's my work machine, so I didn't have access to it
during the weekend. Here's what you guys asked:
</p>

<pre>
root@deivid-ubuntu:/home/deivid# ifconfig -a
eth0      Link encap:Ethernet  Endere=E7o de HW 00:1e:8c:d0:91:d7
          inet end.: 192.168.0.98  Bcast:192.168.0.255  Masc:255.255.255.0
          UP BROADCAST MULTICAST  MTU:1500  M=E9trica:1
          pacotes RX:0 erros:0 descartados:0 excesso:0 quadro:0
          Pacotes TX:0 erros:0 descartados:0 excesso:0 portadora:0
          colis=F5es:0 txqueuelen:1000
          RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
          Mem=F3ria:dffc0000-e0000000
</pre>
(plus the loopback)
</p>

<pre>
root@deivid-ubuntu:/home/deivid# route -n
Tabela de Roteamento IP do Kernel
Destino         Roteador        M=E1scaraGen.    Op=E7=F5es M=E9trica Ref  =
 Uso
Iface
192.168.0.0     0.0.0.0         255.255.255.0   U     0      0        0 eth=
0
169.254.0.0     0.0.0.0         255.255.0.0     U     1000   0        0 eth=
0
0.0.0.0         192.168.0.100   0.0.0.0         UG    100    0        0 eth=
0
</pre>

<p>
dmesg - only weird network-related stuff I found was:
<pre>
[   29.866928] ADDRCONF(NETDEV_UP): eth0: link is not ready
</pre>

<p>
The cable is on, though.  (If I reboot on Windows, it works.)
</p>

<p>
lspci and lsmod are 
<a href="misc/outputs.txt">on the attached file</a> - pretty weird tho, couldn't spot
anything wrong.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ren&eacute; Pfeiffer [lynx at luchs.at]

</p>
</b><br />
<b>Mon, 19 May 2008 14:46:04 +0200</b>
</p>

<p>
On May 19, 2008 at 0933 -0300, Deividson Okopnik appeared and said:
</p>

<pre>
&gt; Sorry for the delay - that's my work machine, so I didn't have access to it
&gt; during the weekend.
</pre>

<p>
No problem.
</p>


<pre>
&gt; Heres what you guys asked:
&gt;=20
&gt; root@deivid-ubuntu:/home/deivid# ifconfig -a
&gt; eth0      Link encap:Ethernet  Endere=E7o de HW 00:1e:8c:d0:91:d7
&gt;           inet end.: 192.168.0.98  Bcast:192.168.0.255  Masc:255.255.255.0
&gt;           UP BROADCAST MULTICAST  MTU:1500  M=E9trica:1
&gt;           pacotes RX:0 erros:0 descartados:0 excesso:0 quadro:0
&gt;           Pacotes TX:0 erros:0 descartados:0 excesso:0 portadora:0
&gt;           colis=F5es:0 txqueuelen:1000
&gt;           RX bytes:0 (0.0 B) TX bytes:0 (0.0 B)
&gt;           Mem=F3ria:dffc0000-e0000000
</pre>

<p>
So, you have an interface. That's good.
</p>


<pre>
&gt; [...]
&gt; dmesg - only weird network-related stuff I found was:
&gt; [   29.866928] ADDRCONF(NETDEV_UP): eth0: link is not ready
</pre>

<p>
This is the symptom of your problem.
</p>


<pre>
&gt; [...]
&gt; lspci and lsmod are on the attached file - pretty weird tho, couldn't spot
&gt; anything wrong.
</pre>

<p>
But I can. <img src="../gx/smile.png" alt=":)">
</p>


<pre>
&gt; root@deivid-ubuntu:/home/deivid# lspci [...] 02:00.0 Ethernet
&gt; controller: Attansic Technology Corp. L2 100 Mbit Ethernet Adapter
&gt; (rev a0)
</pre>

<p>
You are the proud owner of a very recent Ethernet chipset whose
driver/functionality isn't supported by the Linux kernel (yet). This
problem is known and was already discussed on TAG, AFAIR. I only found
the discussion in the Ubuntu forum.
</p>

<p>
<a href="http://ubuntuforums.org/showthread.php?t=3D429845">http://ubuntuforums.org/showthread.php?t=3D429845</a>
</p>

<p>
The driver code is here <a href="http://atl2.sourceforge.net/">http://atl2.sourceforge.net/</a>, and you have to
patch your kernel or find a testing kernel package that already has it.
</p>


<pre>
&gt; root@deivid-ubuntu:/home/deivid# lsmod
&gt; [...]
&gt; atl2                   33176  0=20
&gt; [...]
</pre>

<p>
Although your kernel has the module, I'd check for newer versions. I
experienced similar problems with Realtek and Marvell chipsets, that
were detected by the kernel, but the module was a little bit too old.
</p>

<p>
Best,
Ren&eacute;.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Mon, 19 May 2008 09:07:22 -0400</b>
</p>

<p>
On Mon, May 19, 2008 at 02:46:04PM +0200, Ren&eacute; Pfeiffer wrote:
</p>

<pre>
&gt; On May 19, 2008 at 0933 -0300, Deividson Okopnik appeared and said:
&gt; &gt; 
&gt; &gt; dmesg - only weird network-related stuff I found was:
&gt; &gt; [   29.866928] ADDRCONF(NETDEV_UP): eth0: link is not ready
&gt; 
&gt; This is the symptom of your problem.
</pre>

<p>
[...]
 
</p>

<pre>
&gt; &gt; root@deivid-ubuntu:/home/deivid# lspci
&gt; &gt; [...]
&gt; &gt; 02:00.0 Ethernet controller: Attansic Technology Corp. L2 100 Mbit Ethernet Adapter (rev a0)
&gt; 
&gt; You are the proud owner of a very recent Ethernet chipset whose
&gt; driver/functionality isn't supported by the Linux kernel (yet). This
&gt; problem is known and was already discussed on TAG, AFAIR. I only found
&gt; the discussion in the Ubuntu forum.
&gt; 
&gt; <a href="http://ubuntuforums.org/showthread.php?t=429845">http://ubuntuforums.org/showthread.php?t=429845</a>
&gt; 
&gt; The driver code is here <a href="http://atl2.sourceforge.net/">http://atl2.sourceforge.net/</a>, and you have to
&gt; patch your kernel or find a testing kernel package that already has it.
&gt; 
&gt; &gt; root@deivid-ubuntu:/home/deivid# lsmod
&gt; &gt; [...]
&gt; &gt; atl2                   33176  0 
&gt; &gt; [...]
&gt; 
&gt; Although your kernel has the module, I'd check for newer versions. I
&gt; experienced similar problems with Realtek and Marvell chipsets, that
&gt; were detected by the kernel, but the module was a little bit too old.
</pre>

<p>
Ren&eacute; has covered it in great detail; I just wanted to add that a number
of people have had good luck compiling the module from the source code
made available by Atheros. (This is based on the reports I've found via
Google.) It's possible that the latest, hot-off-the-compiler kernel may
have a better version, but, with very recent hardware, the best way is
usually to go right to the source - which is available here:
</p>

<p>
<a href="ftp://ftp.hogchain.net/pub/linux/attansic/">ftp://ftp.hogchain.net/pub/linux/attansic/</a>
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Deividson Okopnik [deivid.okop at gmail.com]

</p>
</b><br />
<b>Mon, 19 May 2008 10:19:22 -0300</b>
</p>

<p>
Thanks a ton <img src="../gx/smile.png" alt=":)">
</p>

<p>
Just trying to get to compile stuff without Internet, now. :P Missing packages
and deps bad.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Deividson Okopnik [deivid.okop at gmail.com]

</p>
</b><br />
<b>Mon, 19 May 2008 11:07:47 -0300</b>
</p>

<p>
Worked 100% - thanks guys <img src="../gx/smile.png" alt=":)">
</p>

<p>
Oh, and on a side-note about - Hardy Heron's Portugues translation is so
much worse than Gutsy's :'(
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-networking_problem_on_hardy_heron">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>
