<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>Linux Layer 8 Puppet LG #165</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<!-- link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" / -->
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">August 2009 (#165)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="forsberg.html" >&lt;-- prev</A> | <A HREF="laycock.html" >next --&gt;</A>
</div>

<h1>Linux Layer 8 Puppet</h1>
<p id="by"><b>By <a href="../authors/kachold.html">Lisa Kachold</a></b></p>

<h3>Puppet - Easy Systems Security for Users, Developers, and
Administrators</h3>

<p>
Maintaining a large number of security checks can be daunting on a
regular basis. The problem with canned Tiger-type security log-checkers
and other daily log information provided by the system is that it's not
necessarily going to be specific to the use of that system. And, believe
me, I doubt that any user, code monkey, or systems administrator has
"reading log time" sufficiently designated based on what is available
and threatening. Therefore, the best policy is custom configuration,
except that configuring more than one system can take a great deal of
time. For this we have Puppet and configurable recipes. Once we have
our regular systems information, configured in a way we can use it, we
can spend a week or so configuring email filters via bash script/cron or
Google filters to "really alert us" when scary things happen. </p>

<p>
Little trade-offs are made in administration, development, and use, in
that we "just do the minimum" configuration since we are always running
a race against time for whatever service the Linux systems are
constricted to. This might be Twitter, YouTube, and GMail,
Eclipse/Maven, or a systems backup server. These are the kinds of
s-hexy solutions that allow one Linux administrator to maintain more
than 100 production systems (GoDaddy.com, Dotster.com, Google.com) in a
secure, cost effective, profitable way. <p/>

<p>
Did the past systems administrator build all the servers without NTP
(and used a different UTC time compared with systems time)? Puppet can
pull these strings.</p>

<p>
With your /etc/sudoers, for instance, in Linux Layer 8 Security, the
"minimum" is simply not good enough! Along comes the power of
Puppet.</p>

<h3>Puppet Packages - Production Secure?</h3> 

<p>
While Puppet does install using Ruby (and can be expanded with Ruby
Gems), it does not include any SUID binary. Therefore, Puppet fosters
little added risk in most production environments. Puppet uses OpenSSL
certificates.  Therefore, we are assured that all information is as
secure as current encryption technology.</p>

<h3>Configure Quick Solutions</h3>

<p>
Now, having the ability to implement a recipe from a single unique
server, configured once and laid on or used many times, seriously
changes the way users, developers, and administrators can work. Say, CERT
just announced a new exploit against a service running open on one of
your DMZ systems, so, rather than simply doing a command-line iptables
entry, you can lay on a completely shop standard, fully configured
instance of Shorewall 3.0.</p>

<p> 
Is your /etc/ssh/sshd_config setup correctly? Every systems
administrator knows the sheer volume of work required for a simple
change in policy, for instance, this last year as extensive ssh-based key
exploits were announced. Puppet can do this instantly across your two
home servers if you want to be able to concentrate on development work.
</p>

<p>
Key management is a huge task for all the servers or users involved;
except with Puppet.</p>

<p>
Nagios is a great tool for systems monitoring, but incredibly long to
configure across a huge network, except with Puppet.</p>

<p>
Instead of using freshclam to keep your systems running ClamAV updates,
use Puppet.</p>

<p>
How about password management? Believe it or not, many production
systems simply remove a user's VPN access, when the employment
relationship is severed. All of the users from the last 5 years (groan - or
more) of systems history are all still in the password files? So any of
their SSH -L tunnels outbound via port 80/443 from anacron/cron or
special jobs will happily continue to work. Puppet can manage
users/passwords correctly with ease.</p>

<p>
Haven't configured all your YUM repos correctly because of the sheer
task of logging into or bursting configurations and testing 30 servers?
Backups are trivial via Puppet.</p>

<p>
Did your DNS server list just get changed by the discovery of recursion
on or another Kaminsky-ish BIND exploit? No problem with Puppet; you
can change these instantly.</p>

<p>
Do you run a Linux/Solaris shop? Puppet will configure a CDE login.</p>

<p> 
And Puppet can even be configured to setup more of itself on each new
system, once you have one setup to your liking.</p>

<p>
Do you need to change the /etc/motd entries to add a security banner for
100 machines? Do you need to change an email address on index.html or
revamp your .htaccess files on a server cluster? Do you need to make a
crontab script change? Puppet will do text file editing, also. </p>

<p>
Imagine the possibilities.</p>


<h3>Quick Installation</h3>

<p>
Installation includes <a
href="http://ostatic.com/facter-ruby">Facter</a> with Ruby, and allows
use of <a href="http://rubygems.org/read/book/2">Ruby Gems</a>. </p>

<p>
One bit of recommended reading:  <a href="http://reductivelabs.com/trac/puppet/wiki/InstallationGuide#InstallPuppet">Install Puppet</a></p>

<h3>Recipes</h3>

<pre>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/OpenNTPD">OpenNTPD</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/FilePermissionCheck">File Permission Check</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/Sudo">Sudo</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/CentralizedSudoers">Centralized Sudoers</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/AptKeys">Apt Keys</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/ModuleIptables">Module Iptables</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/AqueosShorewall">Shorewall 3.0</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/sshdconfigTemplate">SSHD Config</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/Nagios">Nagios</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/Authorized_keys">Authorized Keys</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/ClamAV">ClamAV</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/UserAndHomedirRecipe">User Home Recipes</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/PasswordManagement">Password Management</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/FirmwarePassword">Firmware Password</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/YumServerBuild">Yum Server Build</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/ResolvConf">ResolvConf DNS</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/Solaris_cde-login">Solaris CDE Login</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/ZabbixAgent">Zabbix Agent</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/SimplestPuppetInstallRecipe">Puppet Install</a>
<a href="http://reductivelabs.com/trac/puppet/wiki/Recipes/SimpleText">Simple Text</a>
</pre>

<p>
Puppet is new, but the concept is not; cfengine and other tools exist.
However, Puppet is clearly the simplest and most powerful for most uses
in a pure *nix environment. Expect great things, as this tool
matures.</p>

<pre>
"Make everything as simple as possible, but not simpler."
 - Albert Einstein
</pre>

<p>
NOTE: If your systems management style is reactive, having originated
from Trenches Dot Com University or Crisis Junkie 101 courses, and/or you
are being hounded to just "Do it now, really quickly" (the insecure so-
called "profit-driven" way), your entire focus will be changed
radically. Your shop will have a great deal of time to implement
greater things, once you are pulling the strings on your systems.</p>

<hr>

<p>
This article serves double duty as presentation materials for the
Phoenix Linux Users Group August HackFest: August 8, 2009 at The
Foundation for Blind Children, 10 AM - 1 PM.</p>

<p>
PLUG reference: <a href="http://plug.phoenix.az.us/node/659">http://plug.phoenix.az.us/node/659</a> or just use
<a href="http://plug.obnosis.com/">http://plug.obnosis.com/</a>.</p>

<p>
See you there!
</p>


<br clear="all" />

<script type='text/javascript'>
digg_url = 'http://linuxgazette.net/165/kachold.html';
digg_title = 'Linux Layer 8 Puppet';
digg_bodytext = '<p> Maintaining a large number of security checks can be daunting on a regular basis. The problem with canned Tiger-type security log-checkers and other daily log information provided by the system is that it\'s not necessarily going to be specific to the use of that system. And, believe me, I doubt that any user, code monkey, or systems administrator has "reading log time" sufficiently designated based on what is available and threatening. Therefore, the best policy is custom configuration, except that configuring more than one system can take a great deal of time. For this we have Puppet and configurable recipes. Once we have our regular systems information, configured in a way we can use it, we can spend a week or so configuring email filters via bash script/cron or Google filters to "really alert us" when scary things happen. </p> ';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:165/kachold.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/kachold.jpg" class="bio">
</p>

<em>
<p>
Lisa Kachold is a Linux Security/Systems Administrator, Webmistress,
 inactive CCNA, and Code Monkey with over 20 years Unix/Linux production
 experience. Lisa is a past teacher from FreeGeek.org, a presenter at
 DesertCodeCamp, Wikipedia user and avid LinuxChix member. She organized
 and promotes Linux Security education through the Phoenix Linux Users
 Group HackFEST Series labs, held second Saturday of every month at The
 Foundation for Blind Children in Phoenix, Arizona. Obnosis.com, a play
 on a words coined by LRHubbard, was registered in the 1990's, as a "word
 hack" from the Church of Scientology, after 6 solid years of UseNet news
 administration. Her biggest claim to fame is sitting in Linux Torvald's
 chair during an interview with OSDL.org in Oregon in 2002.
</p>

</em>

<br clear="all">


<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2009, Lisa Kachold. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 165 of Linux Gazette, August 2009
</p>

</div>

<div id="previousnextbottom">
<A HREF="forsberg.html" >&lt;-- prev</A> | <A HREF="laycock.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

