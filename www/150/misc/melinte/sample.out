LD_PRELOAD=./liblockpick.so ./deadlock
Tx4016f6c0: *** liblockpick _init().
Tx4016f6c0: dlsym : wrapping pthread_mutex_lock
Tx4016f6c0: next_pthread_mutex_lock = 0x4002f000
Tx4016f6c0: dlsym: wrapping pthread_mutex_lock done
Tx4016f6c0: dlsym : wrapping pthread_mutex_trylock
Tx4016f6c0: next_pthread_mutex_trylock = 0x4002f190
Tx4016f6c0: dlsym: wrapping pthread_mutex_trylock done
Tx4016f6c0: dlsym : wrapping pthread_mutex_unlock
Tx4016f6c0: next_pthread_mutex_unlock = 0x4002f400
Tx4016f6c0: dlsym: wrapping pthread_mutex_unlock done
Tx4016f6c0: Initialising liblockpick...
Tx4016f6c0: New thread T4016f6c0[0].
Tx4016f6c0: liblockpick initialised.
Tx40370bb0: New thread T40370bb0[1].
Tx40370bb0: New mutex M8049e48[1].
Tx40370bb0: Checking if it will deadlock...
Tx40571bb0: New thread T40571bb0[2].
Tx40571bb0: New mutex M8049e30[2].
Tx40571bb0: Checking if it will deadlock...
Tx40772bb0: New thread T40772bb0[3].
Tx40772bb0: New mutex M8049e60[3].
Tx40772bb0: Checking if it will deadlock...
Tx40370bb0: Checking if it will deadlock...
Tx40370bb0:   Mutex M8049e30 is owned by T40571bb0.
Tx40370bb0:   Thread T40571bb0 waits for M0.
Tx40571bb0: Mutex M8049e48 will be locked out of order (idx=1, crt max=2).
Tx40571bb0: Mutexes: 
Tx40571bb0:   [00] M4001d180 [T40571bb0 02]
Tx40571bb0:   [01] M08049e48 [T40370bb0 01]
Tx40571bb0:   [02] M08049e30 [T40571bb0 02]
Tx40571bb0:   [03] M08049e60 [T40772bb0 03]
Tx40571bb0: Threads: 
Tx40571bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40571bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40571bb0:   [02] T40571bb0 [M1010000000000000000000000000000][M08049e48]
Tx40571bb0:   [03] T40772bb0 [M0001000000000000000000000000000][M00000000]
Tx40571bb0: Checking if it will deadlock...
Tx40571bb0:   Mutex M8049e48 is owned by T40370bb0.
Tx40571bb0:   Thread T40370bb0 waits for M8049e30.
Tx40571bb0:   Mutex M8049e30 is owned by T40571bb0.
Tx40571bb0:   Thread T40571bb0 waits for M8049e48.
Tx40571bb0:   Deadlock condition detected.
Tx40571bb0: Mutexes: 
Tx40571bb0:   [00] M4001d180 [T40571bb0 02]
Tx40571bb0:   [01] M08049e48 [T40370bb0 01]
Tx40571bb0:   [02] M08049e30 [T40571bb0 02]
Tx40571bb0:   [03] M08049e60 [T40772bb0 03]
Tx40571bb0: Threads: 
Tx40571bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40571bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40571bb0:   [02] T40571bb0 [M1010000000000000000000000000000][M08049e48]
Tx40571bb0:   [03] T40772bb0 [M0001000000000000000000000000000][M00000000]
Tx40772bb0: Mutex M8049e60 is already locked by thread.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Checking if it will deadlock...
Tx40772bb0:   Mutex M8049e60 is owned by T40772bb0.
Tx40772bb0:   Thread T40772bb0 waits for M8049e60.
Tx40772bb0:   Deadlock condition detected.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Mutex M8049e60 is already locked by thread.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Checking if it will deadlock...
Tx40772bb0:   Mutex M8049e60 is owned by T40772bb0.
Tx40772bb0:   Thread T40772bb0 waits for M8049e60.
Tx40772bb0:   Deadlock condition detected.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Mutex M8049e60 is already locked by thread.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Checking if it will deadlock...
Tx40772bb0:   Mutex M8049e60 is owned by T40772bb0.
Tx40772bb0:   Thread T40772bb0 waits for M8049e60.
Tx40772bb0:   Deadlock condition detected.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Mutex M8049e60 is already locked by thread.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
Tx40772bb0: Checking if it will deadlock...
Tx40772bb0:   Mutex M8049e60 is owned by T40772bb0.
Tx40772bb0:   Thread T40772bb0 waits for M8049e60.
Tx40772bb0:   Deadlock condition detected.
Tx40772bb0: Mutexes: 
Tx40772bb0:   [00] M4001d180 [T40772bb0 03]
Tx40772bb0:   [01] M08049e48 [T40370bb0 01]
Tx40772bb0:   [02] M08049e30 [T40571bb0 02]
Tx40772bb0:   [03] M08049e60 [T40772bb0 03]
Tx40772bb0: Threads: 
Tx40772bb0:   [00] T4016f6c0 [M0000000000000000000000000000000][M00000000]
Tx40772bb0:   [01] T40370bb0 [M0100000000000000000000000000000][M08049e30]
Tx40772bb0:   [02] T40571bb0 [M0010000000000000000000000000000][M08049e48]
Tx40772bb0:   [03] T40772bb0 [M1001000000000000000000000000000][M08049e60]
make: *** [test] Interrupt
