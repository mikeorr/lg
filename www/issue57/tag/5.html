<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.3E.d">
<TITLE>The Answer Gang 57: Connection Refused</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<P> <hr> 
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By James T. Dennis,
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a><BR>
	LinuxCare,
	<A HREF="http://www.linuxcare.com/">http://www.linuxcare.com/</A> 
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 5 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Connection Refused</H3>


<p><strong>From Yu-Kang Tsao on Wed, 26 Jul 2000  
</strong></p>
<p align="right">Answered By: Jim Dennis</p>
<!-- ::
Connection Refused
~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
Hi James:
</STRONG></P>
<P><STRONG><BLOCKQuote>
Now I am setting up a linux red hat 6.2
</BLOCKQuote></STRONG></P>
<P><STRONG>
server box in our NT LAN and I am trying to telnet
connect to that box from one of the NT workstation in
our NT LAN.  But it gives me connectiong refuse
message.   Would you help me telnet connect to linux
box ?  Thank you very much.
</STRONG></P>
<P><STRONG>
Sincerely
<br>Nathan
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
You probably don't have DNS, specifically your reverse DNS
zones (PTR records) properly configured.
</BLOCKQUOTE>
<BLOCKQUOTE>
Linux includes a package called TCP Wrappers (tcpd) which
allows you to control which systems can connect to which
services.  This control is based on the contents of two
configuration files (<TT>/etc/hosts.allow</TT> and <TT>/etc/hosts.deny</TT>)
which can contain host/domain name and IP address patterns
that "allow" or "deny" access to specific services.
</BLOCKQUOTE>
<BLOCKQUOTE>
You could disable this feature by editing your <TT>/etc/inetd.conf</TT>
file and changing a line that reads something like:
</BLOCKQUOTE>

<blockquote><pre>telnet	stream	tcp	nowait	telnetd.telnetd	/usr/sbin/tcpd /usr/sbin/in.telnetd
</pre></blockquote>
<BLOCKQUOTE>
to something that looks more like:
</BLOCKQUOTE>

<blockquote><pre>telnet	stream	tcp	nowait	telnetd.telnetd	/usr/sbin/in.telnetd /usr/sbin/in.telnetd
</pre></blockquote>
<BLOCKQUOTE>
(Note: THESE ARE EACY JUST ON ONE LINE! THE TRAILING BACKSLASH
is for e-mail/browser legibility)
</BLOCKQUOTE>

<p><em>My processing script knows about these backslashes and restored them
	to a complete line.  But it may be worth knowing that most versions
	of inetd these days will allow you to use \ at the very end of line
	to continue it onto the next.  It will </em>not<em> work if you
	have a space after it though.  Think of it as escaping the newline
	character. -- Heather</em></p>

<BLOCKQUOTE>
some of the details might differ abit.  This example
is from my <A HREF="http://www.debian.org/">Debian</A> laptop and <A HREF="http://www.redhat.com/">Red Hat</A> has slightly different
paths and permissions in some cases).
</BLOCKQUOTE>
<BLOCKQUOTE>
You should search the back issues of LG for hosts.allow and
tcpd for other (more detailed) discussions of this issue.  It is
an FAQ.  Of course you can also read the man pages for
hosts_access(5), hosts_options(5) and tcpd(8) for more details
on how to use this package.
</BLOCKQUOTE>
<BLOCKQUOTE>
Note:  You should also consider banning telnet from your networks.
I highly recommend that you search the LG back issues for
references to 'ssh' for discussions that relate to that.  Basically,
the telnet protocol leaves your systems susceptible to sniffing
(and session hijacking, among other problems) and therefore greatly
increases your chances of getting cracked, and greatly increases the
amount of damage that an intruder or disgruntled local user can
do to your systems.  'ssh' and its alternatives are MUCH safer.
</BLOCKQUOTE>

<!-- sig -->


<!-- sig -->


<!-- end 5 -->
<!--startcut ======================================================= -->
<P> <hr> </p>
<H5 align="center"><a href="http://www.linuxgazette.net/copying.html"
	>Copyright &copy;</a> 2000, James T. Dennis 
<BR>Published in the <I>Linux Gazette</I> Issue 57 September 2000</H5>
<H6 ALIGN="center">HTML transformation  by
	<A HREF="mailto:star@tuxtops.com">Heather Stern</a> of
	Tuxtops, Inc.,
	<A HREF="http://www.tuxtops.com/">http://www.tuxtops.com/</A> 
</H6>
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0">
<A HREF="../lg_answer57.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer57.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A></td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A>
<IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> 
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
