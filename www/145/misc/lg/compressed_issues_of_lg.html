<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>compressed issues of LG</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>compressed issues of LG</h3>
<p>
<b><p>
Minh Nguyen [nguyenminh2 at gmail.com]
</p>
</b><br />
<b>Fri, 2 Nov 2007 14:13:10 +1100</b>
</p>

<p>
So far, issues of LG have been compressed using tar and gzip. Is there
any intention to use tar with bzip2 for future issues? Since most of
the files in each issue are text files, bzip2 is more efficient (in
terms of the size of the compressed file) than gzip. Here is a
comparison of bzip2 and gzip using the current issue; i.e. November
2007 (#144):
</p>

<pre>
1028042 lg-144.tar.bz2
1045337 lg-144.tar.gz
</pre>
IMHO, providing a bzip2 compressed format of LG issues would save some
download time.
</p>

<p>
Regards
</p>

<p>
Minh Van Nguyen
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ramon van Alteren [ramon at forgottenland.net]
</p>
</b><br />
<b>Fri, 02 Nov 2007 09:41:34 +0100</b>
</p>

<p>
Minh Nguyen wrote:
</p>

<pre>
&gt; So far, issues of LG have been compressed using tar and gzip. Is there
&gt; any intention to use tar with bzip2 for future issues? Since most of
&gt; the files in each issue are text files, bzip2 is more efficient (in
&gt; terms of the size of the compressed file) than gzip. Here is a
&gt; comparison of bzip2 and gzip using the current issue; i.e. November
&gt; 2007 (#144):
&gt;
&gt; 1028042 lg-144.tar.bz2
&gt; 1045337 lg-144.tar.gz
</pre>

<p>
That is a 1% size decrease.
</p>

<p>
Best regards,
</p>

<p>
Ramon
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Fri, 2 Nov 2007 09:02:47 -0400</b>
</p>

<p>
On Fri, Nov 02, 2007 at 02:13:10PM +1100, Minh Nguyen wrote:
</p>

<pre>
&gt; So far, issues of LG have been compressed using tar and gzip. Is there
&gt; any intention to use tar with bzip2 for future issues? Since most of
&gt; the files in each issue are text files, bzip2 is more efficient (in
&gt; terms of the size of the compressed file) than gzip. Here is a
&gt; comparison of bzip2 and gzip using the current issue; i.e. November
&gt; 2007 (#144):
&gt; 
&gt; 1028042 lg-144.tar.bz2
&gt; 1045337 lg-144.tar.gz
&gt; 
&gt; IMHO, providing a bzip2 compressed format of LG issues would save some
&gt; download time.
</pre>

<p>
As I recall, we had a similar discussion here in TAG quite a while back
(digging through my 'Sent_mail' says 2002 - but I can't find it in LG.
Annoying, that.) In any case, here's the comparison that I ran then:
</p>

<pre>
	OK, I'm the curious type... Here's a bunch of files from many walks of
	life; let's see who does what.
 	
	-rw-r--r--    1 ben      ben       1474560 May 20 05:51 test.bin
	-rw-rw-r--    1 ben      ben        102970 Sep 19  2000 test.bmp
	-rw-rw-r--    1 ben      ben        121880 Sep 19  2000 test.gif
	-rw-rw----    1 ben      ben        939783 Jun 17 15:29 test.jpg
	-rw-r--r--    1 ben      ben       1727320 Oct  6 15:51 test.mov
	-rw-r--r--    1 ben      ben       1048576 Oct 16 20:59 test.nulls
	-rw-r--r--    1 ben      ben       1048576 Oct 16 21:03 test.ones
	-rw-r--r--    1 ben      ben        490765 Sep  1  2001 test.pbm
	-rw-r--r--    1 ben      ben        197029 Oct 12 13:53 test.ps
	-rw-rw-r--    1 ben      ben       1995119 May 29  2001 test.txt
	-rw-r--r--    1 ben      ben      36354922 Oct 16 20:29 test.wav
 	
	# So then, I was like, "Dude, check out some of <strong>this</strong> stuff:"
 	
	rar a ../rar.rar *      # Very slow
	zip ../zip.zip *
	tar czf ../tgz.tgz *    # Uses gzip as compressor
	tar cjf ../tbz2.tbz2 *  # Uses bz2 as compressor, slowest of all
	tar cf -|compress - 
 	
	# And the winnah and champeen is...
 	
	-rw-r--r--    1 ben      ben      26653542 Oct 16 21:09 rar.rar
	-rw-r--r--    1 ben      ben      33171830 Oct 16 21:26 tbz2.tbz2
	-rw-r--r--    1 ben      ben      36128937 Oct 16 21:10 zip.zip
	-rw-r--r--    1 ben      ben      36132733 Oct 16 21:14 tgz.tgz
	-rw-r--r--    1 ben      ben      43458125 Oct 16 21:21 Z.Z
	
	I'll be darned. Looks like "rar" is it. Whodathunk? 
</pre>
Unfortunately, the only method that shows an appreciable savings in size
- 'rar', that is - uses a proprietary algorithm.
</p>

<p>
Given that there's no appreciable gain to be had by changing - and that
a change may occasion problems (e.g., it would break any automated
scripts that download and decompress the monthly archives), I don't see
it changing any time soon. I'm usually pretty reluctant to change things
like this without a really compelling reason.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Kapil Hari Paranjape [kapil at imsc.res.in]
</p>
</b><br />
<b>Fri, 2 Nov 2007 19:54:17 +0530</b>
</p>

<p>
Hello,
</p>

<p>
On Fri, 02 Nov 2007, Ben Okopnik wrote:
</p>

<pre>
&gt; 	# And the winnah and champeen is...
&gt; 	
&gt; 	-rw-r--r--    1 ben      ben      26653542 Oct 16 21:09 rar.rar
&gt; 	-rw-r--r--    1 ben      ben      33171830 Oct 16 21:26 tbz2.tbz2
&gt; 	-rw-r--r--    1 ben      ben      36128937 Oct 16 21:10 zip.zip
&gt; 	-rw-r--r--    1 ben      ben      36132733 Oct 16 21:14 tgz.tgz
&gt; 	-rw-r--r--    1 ben      ben      43458125 Oct 16 21:21 Z.Z
&gt; 	
&gt; 	I'll be darned. Looks like "rar" is it. Whodathunk? 
</pre>

<p>
You should've tried "7zip". 
</p>

<p>
Regards,
</p>

<p>
Kapil.
--
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Breen Mullins [breen.mullins at gmail.com]
</p>
</b><br />
<b>Fri, 2 Nov 2007 07:58:58 -0700</b>
</p>

<p>
* Kapil Hari Paranjape &lt;kapil@imsc.res.in&gt; [2007-11-02 19:54 +0530]:
</p>


<pre>
&gt;
&gt;You should've tried "7zip". 
&gt;
</pre>
That would've been quite a trick in 2002...
</p>

<p>
Breen
<pre>-- 
Breen Mullins
Menlo Park, California
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Fri, 2 Nov 2007 11:09:00 -0400</b>
</p>

<p>
On Fri, Nov 02, 2007 at 07:58:58AM -0700, Breen Mullins wrote:
</p>

<pre>
&gt; * Kapil Hari Paranjape &lt;kapil@imsc.res.in&gt; [2007-11-02 19:54 +0530]:
&gt; 
&gt; &gt;
&gt; &gt;You should've tried "7zip". 
&gt; &gt;
&gt; That would've been quite a trick in 2002...
</pre>

<p>
I was wondering about that. Like I said, I only heard about it much
later - and it was being touted as a brand-new widget then.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]
</p>
</b><br />
<b>Fri, 2 Nov 2007 11:08:06 -0400</b>
</p>

<p>
On Fri, Nov 02, 2007 at 07:54:17PM +0530, Kapil Hari Paranjape wrote:
</p>

<pre>
&gt; Hello,
&gt; 
&gt; On Fri, 02 Nov 2007, Ben Okopnik wrote:
&gt; &gt; 	# And the winnah and champeen is...
&gt; &gt; 	
&gt; &gt; 	-rw-r--r--    1 ben      ben      26653542 Oct 16 21:09 rar.rar
&gt; &gt; 	-rw-r--r--    1 ben      ben      33171830 Oct 16 21:26 tbz2.tbz2
&gt; &gt; 	-rw-r--r--    1 ben      ben      36128937 Oct 16 21:10 zip.zip
&gt; &gt; 	-rw-r--r--    1 ben      ben      36132733 Oct 16 21:14 tgz.tgz
&gt; &gt; 	-rw-r--r--    1 ben      ben      43458125 Oct 16 21:21 Z.Z
&gt; &gt; 	
&gt; &gt; 	I'll be darned. Looks like "rar" is it. Whodathunk? 
&gt; 
&gt; You should've tried "7zip". 
</pre>

<p>
I recall finding out about and playing with 7zip well after this
discussion; I don't recall being particularly impressed with it one way
or another. Looking at it now, one reason, at least, stands out:
</p>

<pre>
 From the man page:
 Backup and limitations
       DO NOT USE the 7-zip format for backup purpose on Linux/Unix because :
        - 7-zip does not store the owner/group of the file.
</pre>
Compression-wise, using my 'Sent_mail' archive (I've trimmed the output
for readability):
</p>

<pre>
ben@Tyr:/tmp/t$ time tar cvzf Sent_mail.tgz Sent_mail 
real    0m34.554s
ben@Tyr:/tmp/t$ time tar cvjf Sent_mail.tbz Sent_mail 
real    1m52.085s
ben@Tyr:/tmp/t$ time tar cvZf Sent_mail.tar.Z Sent_mail 
real    0m47.239s
ben@Tyr:/tmp/t$ time tar cvf - Sent_mail | 7zr a -si Sent_mail.7z
real    2m34.064s
ben@Tyr:/tmp/t$ ls -lS
total 551944
-rw-r--r-- 1 ben ben 162769893 2007-11-02 10:40 Sent_mail
-rw-r--r-- 1 ben ben 128435455 2007-11-02 10:56 Sent_mail.tar.Z
-rw-r--r-- 1 ben ben  96948867 2007-11-02 10:52 Sent_mail.tgz
-rw-r--r-- 1 ben ben  92754358 2007-11-02 10:54 Sent_mail.tbz
-rw-r--r-- 1 ben ben  83686986 2007-11-02 11:00 Sent_mail.7z
</pre>
Yep, "7zip" is smallest (I don't have "rar" anymore; won't be using
proprietary software for key LG functions anyway. <img src="../gx/smile.png" alt=":)"> It's also slowest,
by a large margin. TANSTAAFL, I guess.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-compressed_issues_of_lg">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>