<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>2-Cent Tips LG #158</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<!-- link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" / -->
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">January 2009 (#158)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="lg_talkback.html" >&lt;-- prev</A> | <A HREF="lg_bytes.html" >next --&gt;</A>
</div>

<h1>2-Cent Tips</h1>


<!-- Thread anchor: Two-cent Tip: executing two different consecutive commands with same set of parameter --><a name='two_cent_tip__executing_two_different_consecutive_commands_with_same_set_of_parameter'></a>
<h3>Two-cent Tip: executing two different consecutive commands with same set of parameter</h3>
<p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]

</p>
</b><br />
<b>Sat, 6 Dec 2008 10:34:42 +0700</b>
</p>

<p>
Bash has feature called "word designators". I find it useful if you
want to execute a command following the previous one with  same set of
parameters.
</p>

<p>
For example, instead of:
<pre>
# ls -l /boot/vmlinuz-2.6.22-14-generic
# stat /boot/vmlinuz-2.6.22-14-generic
</pre>

<p>
I could simply type:
<pre>
# ls -l /boot/vmlinuz-2.6.22-14-generic
# stat !$
</pre>

<p>
It would recall the last parameter of "ls"
</p>

<p>
Another variation. Let's say first you want to do:
<pre>
# cat text-1.txt text-2.txt
</pre>
but then you realize the text are too long, so you turn into "tail":
<pre>
# tail text-1.txt text-2.txt
OR
# tail !*
</pre>
It would recall all the parameters except the first one (technically,
the zeroth one actually).
</p>

<p>
regards,
</p>

<p>
Mulyadi.
</p>

<p>

</p>

<hr />


<!-- Thread anchor: 2-cent Tip: Temporary kill files --><a name='2_cent_tip__temporary_kill_files'></a>
<h3>2-cent Tip: Temporary kill files</h3>
<p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Tue, 30 Dec 2008 20:31:41 -0500</b>
</p>

<p>
Occasionally, there are times that I don't feel like seeing someone's
email in my inbox for a while - for whatever reason. At those times,
"procmail" is very useful.
</p>

<p>
First, you need to calculate the "timeout" interval in seconds and add
it to the current date and time. Fortunately, the 'date' command makes
this easy:
</p>

<pre>
# There are 86400 seconds in a day
ben@Tyr:~$ days=3; echo $(($(date +%s) + 86400 * $days))
1230944808
</pre>

<p>
You can now use that value to determine whether that interval has
elapsed - i.e., you can create a filter within your "~/.procmailrc" file
based on that test:
 
<pre class='code'>
:0:
##### Specify the 'From' or 'From:' address 
* ^From.*joe@rant\.org
##### You can also narrow it down by subject if desired
* ^Subject.*Cut\ the\ crap
* ? test $((1230944808 - $(date +%s))) -gt 0
##### If all of the above criteria match and the difference between the
##### current date and the end date is greater than 0, discard the email
/dev/null
</pre>

<p>
May <strong>everyone's</strong> holidays be merry, bright, and peaceful.
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>

<hr />


<!-- Thread anchor: 2-cent Tip: audio ping --><a name='2_cent_tip__audio_ping'></a>
<h3>2-cent Tip: audio ping</h3>
<p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 30 Nov 2008 14:40:40 -0500</b>
</p>

<p>
If you occasionally can't ping a host on your network, and suspect that
a wonky connection is to blame, troubleshooting can be a pain: watching
the output of "ping hostname" while crawling around in the dust under a
desk is, to put it mildly, a challenge. Enter the "-a" option to 'ping',
added by one of the people on the "iputils" team, Patrik Schilt: when
there's no connection, "ping -a hostname" simply sits and waits, but as
soon as one appears, it starts emitting audio beeps. That's a wonderful
"wishlist" feature, and should significantly improve the life of any
sysadmin who has ever groveled amongst the dropped corn chips and the
roach poop.
 
</p>

<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>

<p><b>[  <a name="mb-2_cent_tip__audio_ping"></a> <a href="misc/lg/2_cent_tip__audio_ping.html">Thread continues here (25 messages/35.92kB)</a>  ]</b></p>
<hr />


<!-- Thread anchor: 2-cent Tip: 'hostwatch' --><a name='2_cent_tip__hostwatch'></a>
<h3>2-cent Tip: 'hostwatch'</h3>
<p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Sun, 30 Nov 2008 16:26:57 -0500</b>
</p>

<p>
While I was writing my last tip (about audible ping), my wife said "you
know, what would be <em>really</em> useful is something that would start
pinging when the connection went down!" An easy sentiment to understand,
since we connect our laptops via a pair of cables with a cranky old
connector (and my laptop's Ethernet port's retainer is broken, meaning
that cables won't stay in it for long.) So, I cranked out this useful
little script, "hostwatch". It takes a hostname or IP as an argument,
tells you that it's watching the specified host, starts audibly
pinging when a connection goes down, and stops pinging (resets itself
back to watch status) when the connection comes back up. All in all, a
very useful gadget for the Okopnik family network. <img src="../gx/smile.png" alt=":)">
</p>

<p>
<pre class='code'>
#!/bin/bash
# Created by Ben Okopnik on Sun Nov 30 15:41:06 EST 2008
 
[ -z "$1" ] &amp;&amp; { printf "Usage: ${0##*/} &lt;hostname&gt; \n"; exit; }
 
echo "Watching host '$1' - press 'Ctrl-C' to interrupt..."
 
while :
do
    while fping -c 1 "$1"&gt;/dev/null 2&gt;&amp;1
    do
        sleep 1
    done
    until fping -c 1 "$1"&gt;/dev/null 2&gt;&amp;1
    do
        echo -e "\007Connection to '$1' is DOWN."
        sleep 1
    done
    echo "Connection to '$1' is UP again."
done
</pre>

<p>
Note that this script requires "fping" rather than just "ping".
</p>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>

<hr />



<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:158/lg_tips.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2009, . Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 158 of Linux Gazette, January 2009
</p>

</div>

<div id="previousnextbottom">
<A HREF="lg_talkback.html" >&lt;-- prev</A> | <A HREF="lg_bytes.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

