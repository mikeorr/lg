<HTML><HEAD><TITLE>Linux Gazette's Utility Room</TITLE></HEAD>
<BODY BGCOLOR="FFFFFF" TEXT="000000" VLINK="8822CC" LINK="4444FF">
  
<P><BR><BR></P>
<CENTER><H1><I>The Linux Gazette's</I>Utility Room</H1></CENTER>
<P><BR><BR></P>
<HR>
<P><BR><BR><BR>
</P>
<H3>
      I would like this segment to be used to give tips and advice on the
various utilities that are available for Linux.  If you have ever gone through 
the <I>/bin</I> and <I>/sbin</I> directories you have probably seen dozens if
not hundreds of programs and have had no clue as to what most of them do. Their
usefulness varies but I have found many a life-saver in one of those two of
three letter utilities.  Unfortunately there are still a lot of them I don't
know anything about. 
<BR><BR>       There are also a lot of commonly used utilities that have
interesting applications or features that many people don't know about.  I
figure I will  share what I know with you, and you can share what you know with
me, and we can all get something out of this.
<BR><BR>       I will start off with one of my favorite utilities <I>vi</I>,
becuase I have found that it is the most used and least understood. First I
would like to say that while I am big <I>vi</I> fan, I by no means think that
this is the editor that everyone should use.  There are good reasons to use
other editors, however, <I>vi</I> is always available. My first reaction to
<I>vi</I> was probably about the same as anyone's. 
<I>&quot;MY GOD, what is going on????&quot;</I>  I then had the good/bad luck
of having  someone chuckle at my misfortune.  That was enough to insure that I
would devote myself to learning <I>vi</I>.         
</H3>
<HR>
<P><BR> Let me start out with a list of some of the keys and what they do.
<BR></P>
<CENTER><H2>Top 10 <I>vi</I> commands.</H2></CENTER>
<UL>
<LI><TT>esc......couldn't use <I>vi</I> without it. ;)</TT></LI>
<LI><TT>i........insert of course</TT></LI>
<LI><TT>x,X......delete current/last character</TT></LI>
<LI><TT>ZZ.......save and quit--same as :wq</TT></LI>
<LI><TT>dd.......delete line </TT></LI>
<LI><TT>o/O......insert new line before/after and insert</TT></LI>
<LI><TT>p/P......put yanked or deleted text before/after</TT></LI>
<LI><TT>y/yy.....yank 1 character/yank one line</TT></LI>
<LI><TT>R........overtype from this point onward </TT></LI>
<LI><TT>/ ?......search forward--search backwards.</TT></LI></UL> 
<HR>
<CENTER><H2>2&#162; vi Tips</H2></CENTER>
<UL><LI><CODE><B>1G</B></CODE> takes you to the top of the file.</LI>
<LI><CODE><B>0G</B></CODE> takes you to to bottom of the file.</LI>
<LI><CODE><B>d$ and D</B></CODE> delete from the cursor to end of line
(especially good if 'end' key is mapped.)</LI>
<LI><CODE><B>d0</B></CODE> deletes from the cursor to beginning of line (see
above about mapping.)</LI>
<LI>In command mode <B><CODE>CTRL-G</CODE></B> shows the line number you are
on.</LI>
<LI><CODE><B>m#</B></CODE> -where # is a letter, sets a mark, <CODE><B>'#</B></CODE>
takes you back to that mark, `# takes you back to the exact same place.</LI></UL>
<HR>
<P>I would like to start out by saying that there are many versions of vi out
there.  There is <I>vi</I> itself, <I>vim</I>, <I>elvis</I>, <I>nvi</I>,
etc.  Most of the commands that I talk about here should work with all or at
least many of them.  However, I personally use <I>vim</I> and I will cast my
recommendation for that particular flavor of <I>vi</I>.  I would also like to
note that I use <I>vi</I> to refer to any of the <I>vi</I> flavors, not just
the original</P>
<P><BR><BR> The last time I talked about <I>vi</I> I talked about textural
substitution. Now I would like to talk about key mapping.  <I>vi</I> will let
you map any key to any series of commands.  These mappings will work as long as
you are in  command mode.  I should forewarn you that <I>vi</I> has no problem
with you  changing existing key definitions.  I do not recommend this however; 
you could be begging for trouble.  These mappings can be applied either at the &quot;:&quot;
prompt or in your .exrc, .vimrc,.elvisrc, etc... file.  Let me share one of my
favorite key mappings with you.
</P>
<P><BR></P>
<PRE>                                   <CODE><B>map T ^[I     ^[^[OB</B></CODE> </PRE>
<P><BR>    </P>
<H4>
   <I><CODE>
      Here &quot;^[&quot; is CTRL-v then ESC and &quot;^[OB&quot; is CTRL-v then
Down-arrow.</CODE></I></H4>
<H3>
   </H3>
<P>
This little macro takes care of one of my greatest editorial banes.  Whenever I
program I always find that I need to add one more encompassing 'if' statement.
What this means to all of you non-programmers is that I need to tab over a 
whole bunch of lines by hand.  What this macro does is 
<BR></P>
<UL>
<LI>1) Makes sure it is in command mode.  
</LI>
<LI>2) Inserts at the beginning of the line (Capital I) 
</LI>
<LI>3) puts a tab in, and 
</LI>
<LI>4) Drops me down one line.
</LI></UL> 
<P>This macro works well for all versions of <I>vi</I>.  However, most
versions of vi support a command that does almost this exact thing for you.  A
line is shifted to the right with the command &quot;&lt;&lt;&quot;, and the
command to shift a line the other way is &quot;&gt;&gt;.&quot;  To adjust the
width of the shift you can set the shiftwidth variable(in <I>vim</I>).  &quot;:set
shiftwidth=#&quot;.  There is one big advantage to using the built in version;
you can precede the command with a number to tell it how many lines you want to
tab over.</P>   
<HR>
<P><BR>Not all systems and not all versions of <I>vi</I> have the <KBD>insert</KBD>,
<KBD>delete</KBD>, <KBD>end</KBD> and <KBD>home</KBD> keys defined.  These
can all be easily defined in the <I>vi</I> rc file.
<BR><BR>This method will also let you make use of those underused <KBD>F</KBD>-keys.
 Want a save button.  Boom, there it is.  Want a save and exit, Exit without
save, spell check button, compile button?  Any command that <I>vi</I> will let
you execute you can set up as a key-mapped macro.
<BR><BR>Another good mapping is the map the backspace button to <CODE>esc-X</CODE>.
 This way the backspace will behave more like you are used to.  You can also map
it to
<CODE>esc-X-i</CODE>; this will put you back in insert mode without a hitch. 8)<BR><BR><BR></P>
<HR>
<P><BR> Well, this is a lot of fun and I have a lot more interesting <I>vi</I>
tricks to share, but they will have to wait for next time.  Some of the things I
hope to show you are:
<BR><BR>
</P>
<UL><LI> Multi-file editing
</LI>
<LI> Buffers/clipboards
</LI>
<LI> Shell commands from within <I>vi</I>
</LI>
<LI> Search/Search and Replace
</LI>
<LI> Jump tags
</LI>
<LI> More interesting Mappings (I hope to hear from you.)
</LI>
<LI> Some of the less commonly used keys.
</LI>
<LI> The repeat command
</LI></UL>
<P><BR><BR> Well, that ought to just about do it for vi then.  It shouldn't
take more than a few more articles to finish this off.  If anyone is interested
in having me learn emacs and write some stuff up on that, please let me know,
otherwise I will leave it at that and move on to other things.  If I miss any
interesting aspects of <I>vi</I> <FONT SIZE="+2">please</FONT> let me know.  
<BR><BR></P>
<HR> 
<ADDRESS>Written/Assembled by <A HREF="mailto:wessling@famine.emich.edu">
Jens Wessling</A>.
</ADDRESS>

<H3><A HREF="lg_issue8.html">Back to Linux Gazette #8</A></H3>

</BODY></HTML>
