<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.3E.q">
<TITLE>The Answer Gang 64: Please help I am at wits end</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<P> <hr> 
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By Jim Dennis, Ben Okopnik, Dan Wilder, 
	the Editors of Linux Gazette... 
	and You!
<br>Send questions (or interesting answers) to
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
</H4>
</center>

<p><hr><p>
<!--  endcut ======================================================= -->
<!-- begin 3 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Please help I am at wits end</H3>

<p><strong>From Spicer 
</strong></p> 
<p align="right"><strong>Answered By  Dan Wilder, Ben Okopnik, Heather Stern
<br></strong></p>


<!-- sig -->

<P><STRONG>
I have Redhat 7 on my computer.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Dan]
First mistake.  Try <A HREF="http://www.redhat.com/">Red Hat</A> 6.2.  If you must use Red Hat.
</BLOCKQUOTE>
<BLOCKQUOTE>
Though by all accounts 7 usually installs OK.  Your real troubles
begin after that.
</BLOCKQUOTE>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
I'm not as strongly spring-loaded as Dan against RH7, but if I was having
problems with installing it and could borrow 6.2 anywhere, I'd probably
try that, just to see if there's any difference. Getting the same error
with a different distro would cause me to strongly suspect hardware.
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
I am relatively new to this so please bare with me. I first tried to
insert disk and install, that didn't work I got the error below. So by
suggestions of friends I first made a boot disk and fdisked the machine. Now
that was ok I got into Bios and made it run from CD-Rom and it booted up the
disk like it should but as soon as the machine tried to start formatting
Swap Partition the error below once again popped up. So thinking this an
error on my part I tried to fdisk it again. 
</strong></p>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
Well... I don't know exactly what you're using, but 'fdisk' can be
relatively confusing, and (in my opinion) is more of an expert tool. For
someone new to Linux, I'd recommend sticking with DiskDruid, 'cfdisk', or
even - heaven forfend! 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> - DOS's 'fdisk' (the failure mode there is not to
do anything, and this is a Good Thing when you're not sure of what you're
doing.) The nice thing with that last is that you can boot DOS in seconds,
run 'fdisk', and be done quickly. I never <EM>could</EM> find a use for either the
security features or the multitasking capabilities of Linux while fdisking
a machine... 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>

<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Since I have no OS at the moment I
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Dan]
You don't have any idea why it is trying to make swap on <TT>/dev/hda12</TT>, do
you?  That'll be the eleventh (or something like that) usable partition
on the disk.  Unless you've got a huge hard drive and you're booting
a half-dozen different OSs, that's probably not where you want to be.
</BLOCKQUOTE>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Heather]
She may not have a choice (RH 6.2's anaconda likes swap to go last) but I 
agree, it sounds like too many partitions.  I had a system with 14 but
it was a triple boot with a strange partition layout.
</blockquote>

<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
decided to use fdisk Linux style. But when I do fdisk from CD rom and type in
'linux rescue' all seems well until I get:
</STRONG></P>
<P><STRONG><CODE>
/usr/bin/anaconda-runrescue: line 10: 37 Bus Error ln -s /mnt/runtime/etc/$i
</CODE></STRONG></P>
<P><STRONG>
Well, it does give me a prompt so I go ahead and type fdisk <TT>/dev/hda</TT> and get
Unable to open <TT>/dev/hda</TT> and I get that with any variable of fdisk I try.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Dan]
That doesn't sound good.  When I see something like that I begin
to suspect hardware.
</BLOCKQUOTE>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
Ooops. I'm in agreement with Dan, here: bus errors generally indicate
hardware problems, or at the very least improperly configured BIOS
settings. Not a good sign.
</BLOCKQUOTE>
<BLOCKQUOTE>
What that "<tt>unable to open /dev/hda</tt>" says is that Linux can't 
even see the 'hda' device -
this is about as low in the chain as you can go. Sounds more and more like
hardware, to me.
</BLOCKQUOTE>
<BLOCKQUOTE>
Try this: since, by your description, you're starting with a "bare"
machine (no partitions, no info stored anywhere), go into the BIOS
settings and restore them to the default ones - most BIOSes these days
have such an option. If yours doesn't, you might have to call Dell and
have their tech support people give you a couple of hints - I've found
them to be helpful and knowledgeable in the past, unlike a number of other
tech support departments.
</BLOCKQUOTE>
<BLOCKQUOTE>
What we're trying for here is elimination of any ugly possibilities;
starting from scratch, so to speak. Write down the HD specifics - heads,
cylinders, sectors - then, delete the info and have the BIOS redetect the
drive. Now, try installing again. If you get the same error... it might be
time to talk to Dell about replacing some hardware.
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
So when I try to boot it with disk I get
Fdisk error( machine needs to be fdisked I assume) and I can't fdisk it. 
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
Actually, it's probably saying "I can't find anything to run 'fdisk'
<em>on!</em>"
</BLOCKQUOTE>

<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> So
I made a boot disk of Windows 98 and tried to fdisk it that way by booting
up that boot disk and all was going well until I was told I couldn't fdisk
primary logical drive with an ext dos, so obviously I went to try and fdisk
ext dos but then it told me it couldn't fdisk with a primary logical drive. Which
by the way there is no logical drives found when I look.
I have discovered through the web looking for info my problem was that someone
told me to when making the partitions to put everything left in <TT>/</TT> which I
know now is not a good idea. 1024 I believe is the maximum. I have also tried
EXDrive and various other efforts in my attempt to fix this.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Dan]
With current LILO, there's no longer a maximum number of cylinders
for the boot drive, and the maximum for the root drive is 'way
bigger than that.
</BLOCKQUOTE>
<BLOCKQUOTE>
I'm conservative and still arrange drives with three partitions:
boot (usually 16M), swap (generally 64M), and root (all the rest).
</BLOCKQUOTE>
<BLOCKQUOTE>
You may run afoul of some limit I'm unaware of with an 80G drive.
The biggest I've done that way is 20G.
</BLOCKQUOTE>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
Hmm. Given some of the error messages below (like the fact that 'anaconda'
is trying to make swap on hda12 (???)), I would be inclined to try
'flushing' the MBR (master boot record) on the drive, just in case
something ugly - a virus, maybe? - has placed some weird partition info in
there. Mind you, the above errors all point to hardware, but it would be
interesting to find out - I've seen, in the past, virus-created <EM>stuff</EM> in
the MBR that made it look as though the drive had failed (a combo of the
oddities of the Compaq BIOS and a modified 'Stoned' virus gave a "Track 0"
error. &lt;shudder&gt
<IMG SRC="../../gx/dennis/smily.gif" ALT=";)" 
		height="24" width="20" align="middle">. Boot DOS, type
</BLOCKQUOTE>
<BLOCKQUOTE><blockquote><code>
lock c:
</code></blockquote></BLOCKQUOTE>
<BLOCKQUOTE>
agree to the the horrific "You might destroy the world!!!" message, type
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQUOTE><CODE>
fdisk /mbr
</CODE></BLOCKQUOTE></BLOCKQUOTE>
<BLOCKQUOTE>
That <EM>should</EM> clear the MBR; I actually prefer to go in there with
Norton's Disk Editor and overwrite everything with zeroes (at least the
partition table), but that requires a bit of special tooling. 
<IMG SRC="../../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
So I can't by my knowledge fdisk it that way. I have run out of options
as I sit here looking at a bright blue screen that keeps telling me "you may
safely reboot your system". I would like any advise or directions to web
sites on how I can get my computer running again and why that dang error is
happening. I have included below my system stats and the error report.
</STRONG></P>
<P><STRONG>
Thank you,
Stephanie
</STRONG></P>
<P><STRONG>
System stats:
</STRONG></P>
<strong><pre>DELL  Dimension 4100.
256MB SDRAM at 133MHz.
80GB  ultra ATA hard drive ( 5400 RPM )
Pentium III processor at 800 MHz.

............................................................................
.............

Exception Occured

Traceback (innermost last):
 File "/usr/bin/anaconda.real",
line 225, in ?
intf.run(todo, test == =
test)
File
"/tmp/lib/python1.5/site-packages/text.py",
line 1000, in run
rc == apply (step[1](), =
step[2])
File
"/tmp/lib/python1.5/site-packages/text.py",
line 572, in __call__
 if todo.doInstall ():
File
"/tmp/lib/python1.5/site-packages/todo.py",
line 688, in makeFilesystems
 raise RuntimeError, "error making =
swap on "=

+ device
RuntimeError: error making swap on hda12
</pre></strong>
<P><STRONG>
Thank you so much,
Stephanie
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
That one really makes me wonder. On the one hand, it says that it can't
see "<TT>/dev/hda</TT>", on the other, it says that there are 12 partitions on
it... it's time for those low-level tools that I've described above; all
the graphical stuff and specialized routines ('anaconda', etc.) are just
getting in the way of seeing what's really going on.
</BLOCKQUOTE>
<BLOCKQUOTE>
A guy I used to work for, Mark Minasi, came up with an excellent way to
<EM>gurantee</EM> that you blast out your MBR; I just did a web search, and - 
lo and behold! - Mark had messed around with a multi-OS install (including
Linux) and got his MBR terminally confused. So, he went ahead and
documented the method - thanks, Mark! - which only used to be available as
a part of the course that we taught, a rather expensive affair. Here is
the link:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQuote><code>
<A HREF="http://www.winntmag.com/Articles/Index.cfm?ArticleID=5327"
	>http://www.winntmag.com/Articles/Index.cfm?ArticleID=5327</A>
</code></BLOCKQuote></BLOCKQUOTE>
<BLOCKQUOTE>
Seems a bit strange, linking to "winntmag.com" from an LG article - but
good info is good info, regardless of source...
</BLOCKQUOTE>
<BLOCKQUOTE>
Note that you'll probably still want to use 'lock', as above; Windows has
nasty habits in regard to letting things write directly to cylinder 0.
</BLOCKQUOTE>

<!-- sig -->


<!-- end 3 -->
<!--              . . . . . . . . . . . . . . . . . . .              -->
<HR WIDTH="40%" ALIGN="center">
<!-- begin 3 -->

<!-- sig -->

<P><STRONG><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>
I thank you so much for your help! It was excellent. I was able to fix the
Linux and it is working now better than before because now I know more
because of looking up this error in the first place. I really just wanted to
say thanks.
</STRONG></P>
<BLOCKQUOTE><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Ben]
Hi, Stephanie -
</BLOCKQUOTE>
<BLOCKQUOTE>
I'm very glad to have been able to help... but can you give us some
feedback on what actually worked for you? I believe that this information
could be very useful to anyone struggling with an identical problem.
</BLOCKQUOTE>

<!-- sig -->
<!-- sig -->


<!-- end 3 -->
<!--startcut ======================================================= -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<a href="http://www.linuxgazette.net/copying.html"
        >Copyright &copy;</a> 2001
<BR>Published in issue 64 of <I>Linux Gazette</I> March 2001</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
        <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
<!-- *** END copyright *** -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center" rowspan="3"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0">
<A HREF="../lg_answer64.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer64.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="9.html">9</A></td>
<td align="left" valign="center" rowspan="3"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A>
<IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr>
<tr>
<td align="center" valign="center"><A HREF="11.html">11</A> &nbsp;
  <A HREF="12.html">12</A> &nbsp;
  <A HREF="15.html">15</A> &nbsp;
  <A HREF="16.html">16</A> &nbsp;
  <A HREF="18.html">18</A></td>
</tr><tr>
<td align="center" valign="center"><A HREF="20.html">20</A> &nbsp;
  <A HREF="22.html">22</A> &nbsp;
  <A HREF="24.html">24</A> &nbsp;
  <A HREF="25.html">25</A> &nbsp;
  <A HREF="26.html">26</A> &nbsp;
  <A HREF="28.html">28</A> &nbsp;
  <A HREF="29.html">29</A></td>
</tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<P> <hr> 
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
</BODY></HTML>
<!--endcut ========================================================= -->
