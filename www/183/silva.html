<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>The reason why I have switched to zsh - Part 1 LG #183</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="../lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="../lg.rdf" />
<!-- link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" / -->
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/listinfo.cgi">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">February 2011 (#183)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="ikuya.html" >&lt;-- prev</A> | <A HREF="collinge.html" >next --&gt;</A>
</div>

<h1>The reason why I have switched to zsh - Part 1</h1>
<p id="by"><b>By <a href="../authors/silva.html">Anderson Silva</a> and <a href="../authors/woodson.html">Matt Woodson</a></b></p>

<p>The short answer: It's all Matt's fault!</p>

<p>The proper article-formatted answer: I've been a one-shell kind of person for
	 the past 15 years using bash on Linux (and more recently on Mac OS X as
	 well). Over the years, I have blown the minds of so many Windows users with
	 the power of the shell that I cannot help but smile when I think about it.
	 Yet I have never given much thought to other shells. Although, for the
	 record, I didn't just start using bash because it was the default option on
	 my Linux distribution of choice. My uncle, back in 1995, introduced me to
	 Linux and csh, which was his choice of shell at the time. I've also played
	 around with tcsh as well, but it just did not stick with me. I am going to
	 guess that having bash as the default shell on my distribution helped, but
	 it wasn't the defining factor. Maybe the fact that there are so many
	 examples, articles and books written about bash programming contributed to
	 my affection for bash over the years.</p>

<p>Then at work, a new guy came onto my team and over time started to show all
	 of us the kinds of things he can do with zsh to make his life a bit less
	 annoying, and his work a bit more efficient as a release
	 engineer/programmer/system administrator.</p>

<p>As the New Year approached, I decided I wanted learn about something new,
	 fun, yet relevant to my job; something that I could research on my own, and
	 maybe even write an article about. (Note: the key word for me here is fun;
	 there's plenty of stuff to learn about in the Linux world, but so much of
	 it I find it so boring. Shells isn't one of those things :-))</p>

<p>In early January, I approached Matt, the new guy, and asked him to give me a
	 tour of the zsh. Not only did he gave me an overview of the things zsh can
	 do, on top of the virtually backward compatible functionality with bash, he
	 also took my .bashrc file and converted it to a .zshrc with quite a few
	 goodies added to it.</p>

<p>These 'goodies' are the reason I am sticking with zsh, and the reason
	 why Matt and I are writing this series of articles to share them with
	 you.</p>

<h3>First Things First</h3>

<p>Before showing you some tricks on zsh, let's make sure you can run it:</p>

<p>To install on Fedora:</p>

<pre class="code">$ yum install zsh</pre>

<p>To install on Ubuntu:</p>

<pre class="code">$ apt-get install zsh</pre>

<h3>Create a .zshrc before starting zsh</h3>

<p>Now that zsh has been installed, and assuming you have never ran zsh before,
	 let me give you the first tip Matt gave me regarding zsh: "Skip the .zshrc
	 wizard menu, find an existing .zshrc instead."</p>

<p>The wizard menu to create a .zshrc can be a bit overwhelming, but feel free
	 to try it out. Matt has been kind enough to make his .zshrc available to
	 the public, so you can download it and start your zsh experience at full
	 speed. Throughout the next few months, we will go through some of his zsh
	 settings as well.</p>

<p><a href="misc/silva/zshrc.gz">Download</a> Matt's .zshrc.</p>

<h3>Starting zsh</h3>

<p>You can manually switch to zsh any time, if all you want to do it give it a
	 try:</p>

<pre class="code">$ zsh</pre>

<p>Or if you want to make zsh your default shell:</p>

<pre class="code">
$ chsh
Changing shell for afsilva.
Password:
New shell [/bin/bash]: /bin/zsh
</pre>

<p>Now, zsh should be your default shell the next time you login.</p>

<h3>The Goodies</h3>

<p>Hopefully you are up and running on zsh now, and I should be able to share
	 some of the first things that Matt showed me when he introduced me to zsh.
	 They are:</p>

<h3>Changing the prompt</h3>

<p>Many of zsh functions come in the form of loading zsh shell function modules.
	 One of the modules that can be seen immediately is the promptinit module. 
	 Using this promptinit module, you can quickly change the default zsh
	 prompt:</p>

<p>To load the prompt shell functions:</p>

<pre class="code">
	$ autoload -U promptinit
    $ promptinit
</pre>

<p>You can see the available prompts by running the command:</p>

<pre class="code">$ prompt -l
Currently available prompt themes:
adam1 adam2 bart bigfade clint elite2 elite fade fire off oliver pws 
redhat suse walters zefram
</pre>

<p>To use or tryout a prompt:</p>

<pre class="code">$ prompt redhat</pre>

<h3>Intelligent tab completion (more than bash)</h3>

<p>I am a Fedora user, which is a Red Hat based distribution, and if you are
	 familiar with either of them, you know that the proper way to restart a
	 service is to run:</p>
	
<pre class="code">$ service some_service restart</pre>

<p>But, in my laziness, I always used:</p>

<pre class="code">$ /etc/init.d/some_service restart</pre>

<p>This is because I want bash to auto complete 'some_service' when I enter
	 'som' and hit tab afterwards. If I use the proper way, I have to spell out
	 the service name, which I usually forget or mistype.</p>

<p>Well, in zsh, hitting tab will not only auto-complete a command name, but it
	 will also auto-complete or give you options for parameters on many major
	 commands you may use on a daily basis.</p>

<p>So, something like:</p>

<pre class="code">$ servi&lt;tab&gt; some&lt;tab&gt; res&lt;tab&gt;</pre>

<p>Will auto-complete your request to:</p>

<pre class="code">$ service some_service restart</pre>

<p>I don't care who you are, that's nice right there! :-)</p>

<h3>Menu listing of options used with tab completion</h3>

<p>If you are used to tab auto-complete in bash, you should know that if bash
	 isn't able to find the unique command that matches your entry, it will tell
	 you the other commands it has found in its PATH. Like:</p>

<pre class="code">
$ serv&lt;tab&gt;
servertool service
</pre>

<p>In zsh, when it finds more than one matching command or parameter (wink,
	 wink) it will give you selectable menu of the available options when you
	 hit tab twice, and you can use the arrow keys to navigate through the
	 options and take your pick.</p>
	
<p><img src="misc/silva/image0.png" height="222" width="584"></p>

<h3>Enabling Auto-completion and Menu listing:</h3>

<p>To enable the features above, add the following lines to your ~/.zshrc:</h3>

<pre class="code">
    autoload -Uz compinit
    compinit
</pre>

<p>Next month, Matt and I will write some more about about other zsh features
	 like: spelling correction, globbing, aliases, floating point math, and
	 setting version control information on your prompt. Meanwhile, feel free 
	to look around <a href="http://www.zsh.org/">zsh website</a> and the man
	 pages (<em>man zshall</em>, for the meta man page).</p>


<br clear="all" />

<table align='center' cellspacing='10'>
<tr>
<td>
<script type='text/javascript'>
digg_url = 'http://linuxgazette.net/183/silva.html';
digg_title = 'The reason why I have switched to zsh - Part 1';
digg_bodytext = '<p>The short answer: It\'s all Matt\'s fault!</p> ';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script>
</td>
<td>
<a name="fb_share" type="box_count" href="http://www.facebook.com/sharer.php">Share</a>
<script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share" type="text/javascript"></script>
</td>
<td>
<a href="http://twitter.com/home?status=Currently%20reading:%20http://linuxgazette.net/183/silva.html%20at%20Linux%20Gazette%20%23linuxgazette" title="Click to share this post on Twitter"><img src="../gx/twitter.png" width="50" height="85" border="0"></a>
</td>
</tr>
</table>


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:183/silva.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<H4>Anderson Silva</H4>
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/authors/silva.jpg" class="bio">
</p>

<em>
<p>
Anderson Silva works as an IT Release Engineer at Red Hat, Inc. He holds a
BS in Computer Science from Liberty University, a MS in Information Systems
from the University of Maine. He is a Red Hat Certified Architect and has
authored several Linux based articles for publications like: Linux Gazette,
Revista do Linux, and Red Hat Magazine. Anderson has been married to his
High School sweetheart, Joanna (who helps him edit his articles before
submission), for 11 years, and has 3 kids. When he is not working or
writing, he enjoys photography, spending time with his family,  road
cycling, watching Formula 1 and Indycar races, and taking his boys karting,
</p>

</em>

<br clear="all">


<H4>Matt Woodson</H4>
<hr>
<p>
<img align="left" alt="[BIO]" src="../gx/2002/note.png" class="bio">
</p>

<em>
<p>
Matt Woodson works as an IT Software Enginner at Red Hat, Inc. Matt has
 been involved with many different postitions at multiple Linux companies
 including Red Hat, Novell, and Caldera. He has done jobs that range from
 systems administration, networking, to quality engineering. He is a Red
 Hat Certified Engineer, who spent time teaching RHCE classes in all
 parts of the country. Matt, and his wife Mariah, of 3 years, are
 expecting their first daughter in Feb 2011.
</p>



</em>

<br clear="all">



<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2011, Anderson Silva and Matt Woodson. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article.
<!-- Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc. -->
</p>

<p>
Published in Issue 183 of Linux Gazette, February 2011
</p>

</div>

<div id="previousnextbottom">
<A HREF="ikuya.html" >&lt;-- prev</A> | <A HREF="collinge.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

