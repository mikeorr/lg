<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>Mailbag</title>
<link rel="stylesheet" type="text/css" href="../../../lg.css" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Monitoring IP usage</h3>
<p>
<b>Bob van der Poel [bob at mellowood.ca]</b><br />
<b>Sat, 16 Dec 2006 09:48:41 -0700</b>
</p>

<p>
A fellow asked me the other day "what is your total IP (up and down) per 
month)?" I figured that since I was using Linux it'd be an easy answer 
... well, really I have no idea <img src="../gx/smile.png" alt=":)">
</p>

<p>
I do have a little "net-applet" on my desktop which shows the total 
since the last login (to the desktop, not the computer). Is there a log 
file tracking this or a daemon I can install?
</p>

<p>
If it makes a difference I'm running Mandriva 2007.
</p>

<p>
Thanks.
</p>

<pre>-- 
Bob van der Poel ** Wynndel, British Columbia, CANADA **
EMAIL: bob@mellowood.ca
WWW:   <a href="http://www.mellowood.ca">http://www.mellowood.ca</a>
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Mulyadi Santosa [mulyadi.santosa at gmail.com]</b><br />
<b>Sun, 17 Dec 2006 01:34:07 +0700</b>
</p>

<p>
Hi Bob 
</p>

<pre>
&gt; A fellow asked me the other day "what is your total IP (up and down)
&gt; per month)?" I figured that since I was using Linux it'd be an easy
&gt; answer ... well, really I have no idea <img src="../gx/smile.png" alt=":)">
</pre>

<p>
Well, AFAIK, if you KPPP, it is shown in the monthly log. Please check 
there..
</p>

<p>
regards,
</p>

<p>
Mulyadi
</p>


<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Bob van der Poel [bob at mellowood.ca]</b><br />
<b>Sat, 16 Dec 2006 12:51:11 -0700</b>
</p>

<p>
Mulyadi Santosa wrote:
</p>

<pre>
&gt; Hi Bob 
&gt;&gt; A fellow asked me the other day "what is your total IP (up and down)
&gt;&gt; per month)?" I figured that since I was using Linux it'd be an easy
&gt;&gt; answer ... well, really I have no idea <img src="../gx/smile.png" alt=":)">
&gt; 
&gt; Well, AFAIK, if you KPPP, it is shown in the monthly log. Please check 
&gt; there..
</pre>

<p>
Thanks. But isn't kppp just for doing dialup? My ethernet is just 
connected to my satellite modem (same as a cable modem, but slower).
</p>

<pre>-- 
Bob van der Poel ** Wynndel, British Columbia, CANADA **
EMAIL: bob@mellowood.ca
WWW:   <a href="http://www.mellowood.ca">http://www.mellowood.ca</a>
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Predrag Ivanovic [predivan at ptt.yu]</b><br />
<b>Sun, 17 Dec 2006 00:42:08 +0100</b>
</p>

<p>
On Sat, 16 Dec 2006 09:48:41 -0700
Bob van der Poel wrote:
</p>


<pre>
&gt; 
&gt; A fellow asked me the other day "what is your total IP (up and down) per 
&gt; month)?" I figured that since I was using Linux it'd be an easy answer 
&gt; ... well, really I have no idea <img src="../gx/smile.png" alt=":)">
&gt; 
&gt; I do have a little "net-applet" on my desktop which shows the total 
&gt; since the last login (to the desktop, not the computer). Is there a log 
&gt; file tracking this or a daemon I can install?
&gt; 
&gt; If it makes a difference I'm running Mandriva 2007.
&gt; 
&gt; Thanks.
&gt; 
</pre>
This might be what you want.
<a href="http://www.ntop.org/overview.html">http://www.ntop.org/overview.html</a>
</p>

<p>
HTH
Pedja
<pre>-- 
 People usually get what's coming to them ... unless it's been mailed.
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Bob van der Poel [bob at mellowood.ca]</b><br />
<b>Sat, 16 Dec 2006 17:05:09 -0700</b>
</p>

<p>
Predrag Ivanovic wrote:
</p>

<pre>
&gt; On Sat, 16 Dec 2006 09:48:41 -0700
&gt; Bob van der Poel wrote:
&gt; 
&gt;&gt; A fellow asked me the other day "what is your total IP (up and down) per 
&gt;&gt; month)?" I figured that since I was using Linux it'd be an easy answer 
&gt;&gt; ... well, really I have no idea <img src="../gx/smile.png" alt=":)">
&gt;&gt;
&gt;&gt; I do have a little "net-applet" on my desktop which shows the total 
&gt;&gt; since the last login (to the desktop, not the computer). Is there a log 
&gt;&gt; file tracking this or a daemon I can install?
&gt;&gt;
&gt;&gt; If it makes a difference I'm running Mandriva 2007.
&gt;&gt;
&gt;&gt; Thanks.
&gt;&gt;
&gt; This might be what you want.
&gt; <a href="http://www.ntop.org/overview.html">http://www.ntop.org/overview.html</a>
&gt; 
&gt; HTH
&gt; Pedja
</pre>

<p>
Thanks guys ... a bit of more searching turned up this:
</p>

<p>
	<a href="http://humdi.net/vnstat/">http://humdi.net/vnstat/</a>
</p>

<p>
I've installed it and will try for a few days to see if this is doing 
what I want.
</p>

<pre>-- 
Bob van der Poel ** Wynndel, British Columbia, CANADA **
EMAIL: bob@mellowood.ca
WWW:   <a href="http://www.mellowood.ca">http://www.mellowood.ca</a>
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Benjamin A. Okopnik [ben at linuxgazette.net]</b><br />
<b>Sun, 17 Dec 2006 13:18:29 -0600</b>
</p>

<p>
On Sat, Dec 16, 2006 at 09:48:41AM -0700, Bob van der Poel wrote:
</p>

<pre>
&gt; 
&gt; A fellow asked me the other day "what is your total IP (up and down) per 
&gt; month)?" I figured that since I was using Linux it'd be an easy answer 
&gt; ... well, really I have no idea <img src="../gx/smile.png" alt=":)">
</pre>

<p>
Depends on what he meant, and on what you mean. Intellectual Property?
Internet Protocol? Indigent Philadelphians? <img src="../gx/smile.png" alt=":)">
</p>

<p>
If you're talking about counting the number of IP addresses from which
you're being contacted, that's one (relatively easy to manage) problem.
If you're talking about the amount of traffic between your computer and
its upstream gateway (I'm guessing here, since 'IP' doesn't apply to
this in any way, but for some reason, I suspect that this is what you
mean.) If you're talking about something else, please enlighten us; I'm
curious.
 
</p>

<pre>
&gt; I do have a little "net-applet" on my desktop which shows the total 
&gt; since the last login (to the desktop, not the computer). Is there a log 
&gt; file tracking this or a daemon I can install?
</pre>

<p>
Again, I'm guessing "bytes per session". Just in case it is, you can
always take a look at the output of 'ifconfig' for that interface, and
add up the 'RX' (received) and the 'TX' (transmitted) bytes. I suppose
that if you wanted the exact number of bytes logged somewhere, you could
always run "iptables" with the "LOG" target - or even run a command
that watches a given interface and records the amount of traffic. E.g.:
</p>

<pre>
watch --no-title "/sbin/ifconfig eth0|/bin/grep bytes"
</pre>
<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href="http://LinuxGazette.NET">http://LinuxGazette.NET</a> *
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Raj Shekhar [rajlist2 at rajshekhar.net]</b><br />
<b>Mon, 18 Dec 2006 13:29:26 +0530</b>
</p>

<p>
Benjamin A. Okopnik wrote:
</p>


<pre>
&gt; Again, I'm guessing "bytes per session". Just in case it is, you can
&gt; always take a look at the output of 'ifconfig' for that interface, and
&gt; add up the 'RX' (received) and the 'TX' (transmitted) bytes. I suppose
&gt; that if you wanted the exact number of bytes logged somewhere, you could
&gt; always run "iptables" with the "LOG" target - or even run a command
&gt; that watches a given interface and records the amount of traffic. E.g.:
&gt; 
&gt; ``
&gt; watch --no-title "/sbin/ifconfig eth0|/bin/grep bytes"
&gt; ''
</pre>

<p>
You can use sar &lt;<a href="http://perso.orange.fr/sebastien.godard/&gt;">http://perso.orange.fr/sebastien.godard/&gt;</a> to do this too.
<pre>
sar -n DEV
</pre>
will show you a record of the packets and bytes flowing through your 
interfaces.  There are scripts to sum up the usage and mail you reports 
about this.  If you install this package on your system, you will need 
to add a cron for sadc (system activity data collector).  Check your 
distro's readme file for the sar package on how you can enable the cron.
<pre>-- 
raj shekhar
facts: <a href="http://rajshekhar.net">http://rajshekhar.net</a> | opinions: <a href="http://rajshekhar.net/blog">http://rajshekhar.net/blog</a>
I dare do all that may become a man; Who dares do more is none.
</pre>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b>Suramya Tomar [security at suramya.com]</b><br />
<b>Sat, 23 Dec 2006 06:00:34 -0500</b>
</p>

<p>
Hey,
</p>


<pre>
&gt;&gt;&gt; A fellow asked me the other day "what is your total IP (up and down) per 
&gt;&gt;&gt; month)?" I figured that since I was using Linux it'd be an easy answer 
&gt;&gt;&gt; ... well, really I have no idea <img src="../gx/smile.png" alt=":)">
&gt;&gt;&gt;
&gt;&gt;&gt; I do have a little "net-applet" on my desktop which shows the total 
&gt;&gt;&gt; since the last login (to the desktop, not the computer). Is there a log 
&gt;&gt;&gt; file tracking this or a daemon I can install?
&gt;&gt;&gt;
</pre>

<p>
Here's a list of bandwidth monitoring tools available with descriptions 
of each. The list was created for ubuntu users but the tools are 
available for all distros.
</p>

<p>
<a href="http://www.ubuntugeek.com/bandwidth-monitoring-tools-for-ubuntu-users.html">http://www.ubuntugeek.com/bandwidth-monitoring-tools-for-ubuntu-users.html</a>
</p>

<p>
Hope this helps.
</p>

<p>
- Suramya
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-monitoring_ip_usage">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>