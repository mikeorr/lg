<!--startcut ======================================================= -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META NAME="generator" CONTENT="lgazmail v1.4F.k">
<TITLE>The Answer Gang 74: Hi Gazzete (Squid)</TITLE>
</HEAD><BODY BGCOLOR="#FFFFFF" TEXT="#000000"
	LINK="#3366FF" VLINK="#A000A0">
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer74.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer74.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> <P>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<center>
<H1><A NAME="answer">
	<img src="../../gx/dennis/qbubble.gif" alt="(?)" 
		border="0" align="middle">
	<font color="#B03060">The Answer Gang</font>
	<img src="../../gx/dennis/bbubble.gif" alt="(!)" 
		border="0" align="middle">
</A></H1> 
<BR>
<H4>By Jim Dennis, Ben Okopnik, Dan Wilder, Breen, Chris, and the Gang,
	the Editors of Linux Gazette... 
	and You!
<br>Send questions (or interesting answers) to
	<a href="mailto:tag@lists.linuxgazette.net">tag@lists.linuxgazette.net</a>
</H4>
<p><em><font color="#990000">There is no guarantee</font></em> 
	that your questions here will <b>ever</b> be answered.  
	<em><font color="#990000">Readers at confidential sites</font></em> 
	must provide permission to publish.  However, 
	<em><font color="#990000">you can be published anonymously</font></em>
	- just let us know!
</p>
<p>TAG <a href="../tag/bios.html">Member bios</a>
     | <a href="../../tag/members-faq.html">FAQ</a>
     | <a href="../../tag/kb.html">Knowledge base</a></p>
</center>
<!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
<p><hr><p>
<!-- begin 2 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>Hi Gazzete (Squid)</H3>


<p><strong>From Cybernetica Aduanal 
</strong></p> 
<p align="right"><strong>Answered By  Thomas Adam
<p></strong></p>

<!-- sig -->

<blockQuote>
&lt;PLEASE USE AN APPROPRIATE SUBJECT NEXT TIME, WHICH IS
RELIVANT TO THE QUESTION YOU ARE ASKING&gt;
</blockQuote>
<P><STRONG><IMG SRC="../../gx/dennis/qbub.gif" ALT="(?)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	>
Hi Gazzete:
Hi again, write you for help to work with the squid,
I need to control
access to this program, i have been used the ACL
(access control list)
and put the status in "Deny"  to avoid that a list
that i make stay in
of the access to the squid. But this continuos
accessing, what a can
do..?
</STRONG></P>
<blockQuote><IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Thomas]
It is strange actually, since in my LWM article next
month, I'll be writing about the use of Squid and
SquidGuard 
	<IMG SRC="../../gx/dennis/smily.gif" ALT=":-)"
		height="24" width="20" align="middle">
 ........
</blockQuote>
<blockQuote>
How is your proxy server set up?? Are you using an
external filtering program such as SquidGuard to
filter your acl's too???
</blockQuote>
<blockQuote>
If you are just using "<TT>/etc/squid.conf</TT>" then you need
to make sure that you do the following under the
appropriate section:
</blockQuote>
<blockQuote><ol>
<LI>Under the ACL section, you should have defined your
ACL in a format such as this:

<blockquote><code><font color="#000033"><br>acl aclname acltype "file"
</font></code></blockquote>
making sure that "file" contains one URL per line.

<br>This has told squid that the "file" contains websites
to which you either want to allow access to or deny
access to.

<br>But there is one final step to implement this...

<li> Having defined the ACL we now need to tell Squid
what to do with it, thus:

<blockquote><code><font color="#000033"><br>http_access deny "aclname" localhost (or IP address)
</font></code></blockquote>
What the above says is that it will deny access to
"aclname" if the request comes from the localhost (or
a suitable other IP address specified).
</ol>
</blockQuote>
<blockQuote>
I hope this helps to solve your problem.
</blockQuote>
<blockQuote>
Should you get stuck, let me (us) know and we'll see
what we can do 
	<IMG SRC="../../gx/dennis/smily.gif" ALT=":-)"
		height="24" width="20" align="middle">

</blockQuote>
<blockQuote>
--Thomas Adam
</blockQuote>

<!-- end 2 -->
<!--                 ...............................                 -->
<HR WIDTH="40%" ALIGN="center">
<!-- begin 3 -->
<H3 align="left"><img src="../../gx/dennis/qbubble.gif" 
	height="50" width="60" alt="(?) " border="0"
	>proxy</H3>


<p><strong>From Dadi 
</strong></p> 

<p align="right"><strong>Answered By  Jim Dennis, Mike Orr
</strong></p>
<P><STRONG>
Hello,
</STRONG></P>
<P><STRONG>
I connect to the web thru a LAN and recently the only way I can do that
is thru a proxy (which is also the gateway) at 8080 port. What do I need
to set up (can I?) to get it work with lynx, ftp and any browser? I can
configure Konqueror and any browser with the proxy and the port, but
I need a general connection (that will work with any program, without
any further seting to the program). If I have an antivirus (let's say)
that updates thru the web, it won't work. I hope I was clear enough.
</STRONG></P>
<P><STRONG>
Thanks in advance, Dadi
</STRONG></P>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [JimD]
</blockQuote>
<blockQuote>
Under UNIX and Linux most HTTP capable programs (such as lynx, wget
and curl) will honor the value of the http_proxy environment variable.
(curl might require that to be HTTP_PROXY, I'm not sure).  So the
following settings to your .*profile/.login or env scripts:
</blockQuote>

<blockquote><code><font color="#000033"><br> 	http_proxy=http://yourproxy.yourdomain:8080/
<br>	HTTP_PROXY="$http_proxy"
<br>	export http_proxy HTTP_PROXY
</font></code></blockquote>
<blockQuote>
Should work for most browsers and other HTTP capable programs.
I have no idea whether your anti-virus update package would
honor this environment setting.
</blockQuote>
<blockQuote>
Some sites use transparent proxying.  You can read about one
approach to providing this at:
</blockQuote>
<blockQuote><DL><DT>
Transparent Proxying with Squid Mini-HOWTO:
<DD><A HREF="http://www.linuxdoc.org/HOWTO/mini/TransparentProxy.html"
	>http://www.linuxdoc.org/HOWTO/mini/TransparentProxy.html</A>
</DL></blockQuote>
<blockQuote>
<IMG SRC="../../gx/dennis/bbub.gif" ALT="(!)"
	HEIGHT="28" WIDTH="50" BORDER="0"
	> [Iron] 
Do set both HTTP_PROXY and http_proxy.  Some programs use one and other
programs use the other.  I think lynx uses the lower-case version.
</blockQuote>
<blockQuote>
There's also FTP_PROXY and ftp_proxy if your proxy server provides that
(squid does).
</blockQuote>

<!-- end 3 -->
<P> <hr> </p>
<!-- *** BEGIN copyright *** -->
<H5 align="center">This page edited and maintained by the Editors
        of <I>Linux Gazette</I>
<a href="http://www.linuxgazette.net/copying.html"
        >Copyright &copy;</a> 2002
<BR>Published in issue 74 of <I>Linux Gazette</I> January 2002</H5>
<H6 ALIGN="center">HTML script maintained by
        <A HREF="mailto:star@starshine.org">Heather Stern</a> of
        Starshine Technical Services,
        <A HREF="http://www.starshine.org/">http://www.starshine.org/</A>
</H6>
<!-- *** END copyright *** -->
<!--startcut ======================================================= -->
<P> <hr> 
<!-- begin tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::-->
<p align="center">
<table width="100%" border="0"><tr>
<td align="right" valign="center"
	><IMG ALT="" SRC="../../gx/navbar/left.jpg"
        WIDTH="14" HEIGHT="45" BORDER="0" ALIGN="middle" border="0"
><A HREF="..//"
	><IMG SRC="../../gx/navbar/toc.jpg" align="middle"
              ALT="[ Table Of Contents ]" border="0"></A
><A HREF="../lg_answer74.html"
	><IMG SRC="../../gx/dennis/answertoc.jpg" align="middle"
              ALT="[ Answer Guy Current Index ]" border="0"></A></td>
<td align="center" valign="center"><A HREF="../lg_answer74.html#greeting"><img align="middle"
	src="../../gx/dennis/smily.gif" alt="greetings" border="0"></A> &nbsp;
  <A HREF="../tag/bios.html">Meet&nbsp;the&nbsp;Gang</A> &nbsp;
  <A HREF="1.html">1</A> &nbsp;
  <A HREF="2.html">2</A> &nbsp;
  <A HREF="3.html">3</A> &nbsp;
  <A HREF="4.html">4</A> &nbsp;
  <A HREF="5.html">5</A> &nbsp;
  <A HREF="6.html">6</A> &nbsp;
  <A HREF="7.html">7</A> &nbsp;
  <A HREF="8.html">8</A> &nbsp;
  <A HREF="9.html">9</A>
  </td>
<td align="left" valign="center"><A HREF="../../tag/kb.html"
	><IMG SRC="../../gx/dennis/answerpast.jpg" align="middle"
              ALT="[ Index of Past Answers ]" border="0"></A
><IMG ALT="" SRC="../../gx/navbar/right.jpg" align="middle"
        WIDTH="14" HEIGHT="45" BORDER="0"></td></tr></table>
</p>
<!-- end tagnav ::::::::::::::::::::::::::::::::::::::::::::::::::::-->
<!--endcut ========================================================= -->
<P> <hr> 
<!--startcut ======================================================= -->
<CENTER>
<!-- *** BEGIN navbar *** -->
<!-- *** END navbar *** -->
</CENTER>
</p>
<!--endcut ========================================================= -->
<!--startcut ======================================================= -->
</BODY></HTML>
<!--endcut ========================================================= -->
