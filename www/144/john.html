<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="utf-8" xml:lang="utf-8">
<head>
<title>3D programming with Vpython LG #144</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" />
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">November 2007 (#144)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="howell.html" >&lt;-- prev</A> | <A HREF="menon.html" >next --&gt;</A>
</div>

<h1>3D programming with Vpython</h1>
<p id="by"><b>By <a href="../authors/john.html">Maxin B. John</a></b></p>


<p>
"3-Dimensional Programming for Ordinary Mortals"- claims the Vpython
project website. Vpython is a python module for 3 Dimensional scientific
programming, specifically useful for the people with a Physics
background.  </p>

<h3>Based On A True Story</h3>
 <p>
Almost 3 years back, the Department of Computer Applications ,
Government Engineering College, Thrissur, India decided to conduct their
annual National Seminal Seminar and Programming Contest, known as
Renaissance - 2005, in the month of November. The people for Linux
(which includes me) convinced the Professors to make the Renaissance
2005 a celebration of Free/Open Source . Our decision was to make it a
true celebration of Linux. Almost all the programs were on Linux based
technologies.  </p>

<p>
We conducted regular meetings to ensure the quality of the program. In
one such meetings, we faced a small but striking question from one
of the participants: How are we going to manage the Introductory
Multimedia Presentation? In our college, the "Intro Presentation" was
the way to show off the artistic and technical talent of the hosting
Department. Most of the other Departments were using "Flash"-based
eyecandy presentations as their intro. But we have decided not to depend
on "not so open" technologies, and roll one for our own. But we
couldn't reach a conclusion on the alternative technology at that time.
</p>


<h3>Here Comes Vpython</h3>
<p>
Whenever we had a technical doubt, we always had a door to knock at. Out
team has met our beloved guru "Mr. Pramode CE" at his home. On hearing
our "little bit strange" requirement, we heard what we wanted to hear. 
"You people can try Vpython for this purpose. You may integrate the music
with your application using gamepy if you want to utilize the multimedia
capabilities of python.".  </p> 


<h2> A 3D Hello World</h2>
<p>
The visual module can be downloaded from <a
href="http://vpython.org">http://vpython.org</a>. It depends on Numpy,
gtkglarea and boost libraries. But for Debian or Ubuntu user,it is a
simple one liner: </p>

<pre>apt-get install python-visual</pre>

<p>
You install the gamepy module if you want to play music with your
presentations. Of course, gamepy can do a lot more than simply playing
music!. It can be installed by using apt.  </p>

<pre>apt-get install gamepy</pre>

<p>
Python is famous for it's simplicity and elegance. The vpython "hello
world" program is as follows: </p>

<pre class="code">
from visual.text import *

# At present, VPython supports only numbers and uppercase characters. Other characters will be displayed as *
# Specifying the Title of the window
scene.title = "Hello World"
# Here goes the hello world text
text(pos=(0,3,0), string='HELLO WORLD', color=color.orange, depth=0.3, justify='center')
</pre>

<p>
When you run his program as "python helloworld.py", your output will look like this
</p>

<p>
<img src="misc/john/helloworld.png"/>
</p>

<p>
Now, let's try to 3D sine curve. You will be able to move this curve
using your mouse.  </p>

<pre class="code">
from visual import *

"""
This will print the sin curve 
"""
scene.title = "Sin Curve"
scene.center = vector(0,0,0)

# using a suitable 'box' as x- axis 
xaxis = box(length= 20, height=0.2, width= 0.5, color=color.blue)

#creating the sine curve object
sinecurve = curve( color = color.red, radius=0.2)
dt = 0.1

for t in arange(0,10,dt):
dydt = vector( t,sin(t), 0 );
sinecurve.append( pos=dydt, color=(1,0,0) )
rate( 500 )
</pre>


<p>
<img src="misc/john/sinecurve.png"/>
</p>

<p>
If you want to try a 'real application' like clock, let's make a funny 3D clock.
</p>

<pre class="code">
from visual.text import *
import time

scene.title = "3D Clock"
while 1:
	rate(100)
	cur_time = time.localtime()
	time_string = str(cur_time[3]) +": "+ str(cur_time[4]) + ": "+ str(cur_time[5])
	timer = text(pos=(-3,0,-2), string=time_string, color= color.red, depth=0.5 )
	time.sleep(1)
        timer.makeinvisible()
</pre>

<p>
<img src="misc/john/3dclock.png"/>
</p>

<h3>Exploring some details of 3D vision</h3>

<p>
The stereo vision provides visual perception in 3D. Each human eye
captures its own view, and the two separate images are sent on to the
brain for processing. When the two images arrive simultaneously in the
brain, they are united into a single picture. The resulting image is a
three-dimensional stereo picture. This binocular disparity is interpreted
by the brain as depth.  </p>

<p>
Vpython has the ability to generate real 3D objects. The redblue stereo
vision can be enabled in vpython by setting scene.stero='redblue' in
programs. We need the 'redblue' goggles to view the 3D extravaganza.
</p>

<h3>A Bit of Physics with Vpython</h3>

<p>
The main purpose of the visual module is to popularise the
visualizations in Physics. So let's analyse the secrets of gravitational
pull of our earth using the very famous equation <code>V<sub>t</sub> =
V0 + at</code>, where <code>Vt</code> is the velocity at time
<code>t</code>, <code>V0</code> is the initial velocity, and
<code>a</code> is the acceleration (in the case of a falling body,
acceleration is <code>g</code>, the acceleration due to gravity, i.e.,
9.8m/s<sup>2</sup>).  </p>

<p>
Also , V= d/t , ie velocity is the rate of change of displacement.
Putting all these together: </p>

<pre class="code">
from visual import *

#A floor is an instance of box object with attributes like length, height, width etc.
floor = box(length=4, height=0.5, width=4, color=color.blue)

# A ball is a spherical object with attributes like position,radius, color etc..
ball = sphere(pos=(0,4,0),radius=1, color=color.red)

#Ball moves in the y axis 
ball.velocity = vector(0,-1,0)

# small change in time 
dt = 0.01

while 1:
    #setting the rate of animation speed
    rate(100)
    # Change the position of ball based on the velocity on the y axis 
    ball.pos = ball.pos + ball.velocity*dt
    if ball.y &lt; 1:
        ball.velocity.y = -ball.velocity.y
    else:
        ball.velocity.y = ball.velocity.y - 9.8*dt
</pre>

<p>
<img src="misc/john/bounce.png"/>
</p>

<p>
Replace acceleration due to gravity (here 9.8) with the acceleration due
to gravity in the Mars, to see how the ball bounces in Mars. Later, we can
modify the value to see how the ball will bounce in other planets.
Finding the acceleration due to gravity for other planets is left as an
exercise for the reader.  </p>


<h3>From Mars to the Past</h3>

<p>
Finally, the days of Renaissance arrived. The day before the day of
inauguration, I paid a visit to the local toy market to buy the
"raw material" for the redblue stereovision glass. I bought 25 red
colored goggles and 25 blue colored goggles from the local toy shop. It
cost me only around 2 Dollars. At the hostel, we created 50
redblue stereovision glasses by keeping the red glass in the right frame
and blue glass in the left frame.  </p>

<p>
After the inauguration function, I conducted an interactive session on
Vpython with the help of a projector. My friends distributed the
"redblue stereovision goggles" to the audience. After the session, I
showed the audience the Real 3D Multimedia Introduction of the
Renaissance.  </p>

<pre class="code">
from visual.text import *
import time

#importing pygame to play the background music :)
#import pygame
#Uncomment it if you have the redblue goggles
scene.stereo='redblue'

scene.title = "Renaissance"
#scene.fullscreen = 1
scene.fov = 0.001
scene.range = 0
rate(100)

# Uncomment this if you need to play the background music 
#pygame.mixer.init()
#intromusic=pygame.mixer.Sound("/usr/share/sounds/KDE_Startup.wav")
#pygame.mixer.Sound.play(intromusic)

def intro():
	Title= text(pos=(0,3,0), string='MCA PROUDLY PRESENTS', color=color.red, depth=0.3, justify='center')
	for i in range(20):
		rate(10)
		scene.range = i
	Title.makeinvisible()
	scene.range = 0
	Header= text(pos=(0,3,0), string='RENAISSANCE 2005', color=color.yellow, depth=0.3, justify='center')
	for i in range(20):
		rate(10)
		scene.fov = 3
		scene.range = i
	# Now play with colors
	Header.reshape(color= color.cyan)
	time.sleep(1)
	Header.reshape(color= color.blue)
	time.sleep(1)
	Header.reshape(color= color.green)
	time.sleep(1)
	Header.reshape(color=color.orange)
	time.sleep(1)
	Header.reshape(color= color.red)
	# Now let's delete the Header
	Header.makeinvisible()
	scene.range = 10
	scene.fov = 0.2
	Body= text(pos=(0,3,0), string='A CELEBRATION OF LINUX ', color=color.red, depth=0.3, justify='center')
	Body.reshape(color=color.orange)
        #Here I am not adding the rest of the code as it just shows the schedule of that days programs
# Invoking intro()
if __name__ == '__main__':
	intro()
</pre>


<p>
<img src="misc/john/animation.png"/>
</p>

<h3>Conclusion</h3>
<p>
Renaissance 2005 became one of the most successful programs ever
conducted in GEC. But the most important thing I have felt was we had
real fun. Our team has succeeded in showing others how fun linux can be.
</p>

<h3>References</h3>
<p>
The stereoscopic vision details are explained in <a
href="http://en.wikipedia.org/wiki/Stereopsis">http://en.wikipedia.org/wiki/Stereopsis</a>.
The reference manual for Vpython can be found at <a
href="http://www.vpython.org/webdoc/visual/index.html">http://www.vpython.org/webdoc/visual/index.html</a>.
</p>

<script type="text/javascript">
digg_url = 'http://linuxgazette.net/144/john.html';
digg_title = '3D programming with Vpython';
digg_bodytext = '"3-Dimensional Programming for Ordinary Mortals"- claims the Vpython project website. Vpython is a python module for 3 Dimensional scientific programming, specifically useful for the people with a Physics background.
';
digg_topic = 'linux_unix';
</script>
<script src="http://digg.com/tools/diggthis.js" type="text/javascript"></script> 


<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:144/john.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->
<!-- *** BEGIN bio *** -->
<hr>
<p>
<img align="left" alt="Bio picture" src="../gx/2002/note.png" class="bio">

<!-- 
If the author has sent his pic, save it to the right directory
and enable the line below.

<img align="left" alt="Bio picture" src="../gx/authors/pic.jpg" class="bio">

-->

<em>

<p>
I am an ardent fan of GNU/Linux from India. I admire the power,
stability and flexibility offered by Linux. I must thank my guru, Mr.
Pramode C. E., for introducing me to the fascinating world of Linux.
</p>

<p>
I have completed my Masters in Computer Applications from Govt.
Engineering College, Thrissur (Kerala, India) and am presently working at
Ushus Technologies, Thiruvananthapuram, India, as a Software Engineer.
</p>

<p>
In my spare time, you can find me fiddling with Free Software, free
diving into the depths of Ashtamudi Lake, and practicing Yoga. My other
areas of interest include Python, device drivers, and embedded
systems.
</p>


</em>
<br clear="all">
<!-- *** END bio *** -->


<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2007, Maxin B. John. Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 144 of Linux Gazette, November 2007
</p>

</div>

<div id="previousnextbottom">
<A HREF="howell.html" >&lt;-- prev</A> | <A HREF="menon.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

