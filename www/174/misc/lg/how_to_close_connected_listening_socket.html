<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>how to close connected/listening socket?</title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>how to close connected/listening socket?</h3>
<p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]

</p>
</b><br />
<b>Sun, 18 Apr 2010 15:38:13 +0700</b>
</p>

<p>
Hi all
</p>

<p>
Once I read there is a way to close a listening/half
open/connected/etc TCP socket using Linux kernel facility i.e using
one of /proc entries.
</p>

<p>
Do any of you recall which /proc (or /sys maybe?) entry that does the job?
</p>

<p>
Thanks in advance..
</p>

<pre>-- 
regards,
</pre>Freelance Linux trainer and consultant
</p>

<p>
blog: the-hydra.blogspot.com
training: mulyaditraining.blogspot.com
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_to_close_connected_listening_socket">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Thomas Adam [thomas at xteddy.org]

</p>
</b><br />
<b>Sun, 18 Apr 2010 10:53:42 +0100</b>
</p>

<p>
On Sun, Apr 18, 2010 at 03:38:13PM +0700, Mulyadi Santosa wrote:
</p>

<pre>
&gt; Hi all
&gt; 
&gt; Once I read there is a way to close a listening/half
&gt; open/connected/etc TCP socket using Linux kernel facility i.e using
&gt; one of /proc entries.
&gt; 
&gt; Do any of you recall which /proc (or /sys maybe?) entry that does the job?
</pre>

<p>
I don't think so.  TIME_WAIT is usually involved with TCP sockets, which
means the kernel will wait for that time before sending an ACK for
terminating the socket.
</p>

<p>
In /proc, there is:
</p>

<pre>
/proc/sys/net/ipv4/tcp_tw_recycle
</pre>

<p>
Which controls the TIME_WAIT value.  But changing this is not a good idea.
</p>

<p>
-- Thomas Adam
</p>

<p>
-- 
"It was the cruelest game I've ever played and it's played inside my head."
-- "Hush The Warmth", Gorky's Zygotic Mynci.
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_to_close_connected_listening_socket">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]

</p>
</b><br />
<b>Sun, 18 Apr 2010 21:30:25 +0700</b>
</p>

<p>
Hi Thomas....
</p>

<p>
On Sun, Apr 18, 2010 at 16:53, Thomas Adam &lt;thomas at xteddy.org&gt; wrote:
</p>

<pre>
&gt; In /proc, there is:
&gt;
&gt; ``
&gt; /proc/sys/net/ipv4/tcp_tw_recycle
&gt; ''
&gt;
&gt; Which controls the TIME_WAIT value. ?But changing this is not a good idea.
</pre>

<p>
Although it's not directly related to my question, I still thank you
for this valuable info <img src="../gx/smile.png" alt=":)">
</p>

<p>
Hmmm, now.... if only I could recall which /proc entry it is....
</p>

<pre>-- 
regards,
</pre>Freelance Linux trainer and consultant
</p>

<p>
blog: the-hydra.blogspot.com
training: mulyaditraining.blogspot.com
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_mail.html#mb-how_to_close_connected_listening_socket">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>