<!--startcut  ==============================================-->
<!-- *** BEGIN HTML header *** -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<title>More 2-Cent Tips LG #93</title>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#0000AF"
ALINK="#FF0000">
<!-- *** END HTML header *** -->

<!-- *** BEGIN navbar *** -->
<A HREF="lg_mail.html">&lt;&lt;&nbsp;Prev</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="index.html">TOC</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="../index.html">Front Page</A>&nbsp;&nbsp;|&nbsp;&nbsp;Talkback&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="../faq/index.html">FAQ</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="lg_answer.html">Next&nbsp;&gt;&gt;</A>
<!-- *** END navbar *** -->

<!--endcut ============================================================-->

<TABLE BORDER><TR><TD WIDTH="200">
<A HREF="http://www.linuxgazette.net/">
<IMG ALT="LINUX GAZETTE" SRC="../gx/2002/lglogo_200x41.png" 
	WIDTH="200" HEIGHT="41" border="0"></A> 
<BR CLEAR="all">
<SMALL>...<I>making Linux just a little more fun!</I></SMALL>
</TD><TD WIDTH="380">


<CENTER>
<BIG><BIG><STRONG><FONT COLOR="maroon">More 2-Cent Tips</FONT></STRONG></BIG></BIG>
</CENTER>

</TD></TR>
</TABLE>
<P>

<!-- END header -->



<center><STRONG>See also: The Answer Gang's 
<a href="../tag/kb.html">Knowledge Base</a>
and the <i>LG</i> 
<a href="http://www.linuxgazette.net/search.html">Search Engine</a></STRONG>
</center><HR>
<UL>
<!-- index_text begins -->
<li><A HREF="#tips.1"
	><strong>aptfetch with rate limiting (to 5K/s)</strong></a>
<li><A HREF="#tips.2"
	><strong>download s/w ?</strong></a>
<li><A HREF="#tips.3"
	><strong>how to download Suse Linux</strong></a>
<li><A HREF="#tips.4"
	><strong>GIMP vs Photoshop - CMYK</strong></a>
<li><A HREF="#tips.5"
	></a>Neighbour table overflow --or--
<br><A HREF="#tips.5"
	><strong>There Goes the Neighbourhood: arpd to the Rescue</strong></a>

<li><A HREF="#tips.6"
	></a>problems i have with Red Hat 7.3 --or--
<br><A HREF="#tips.6"
	><strong>Out of Space and Other Errors</strong></a>

<li><A HREF="#tips.7"
	><strong>filename.tar failing to untar</strong></a>
<li><A HREF="#tips.8"
	><strong>LJWNN Tech Tips</strong></a>
<!-- index_text ends -->
</UL>
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.1"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">aptfetch with rate limiting (to 5K/s)</FONT></H3>
Sat, 15 Mar 2003 12:54:17 -0800
<BR> Jim Dennis (<a
href="mailto:tag@lists.linuxgazette.net?cc=star@starshine.org&cc=jimd@mars.starshine.org&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%231">The <em>LG</em> Answer Guy</a>)

<P>
Here you go folks.   This is a script to fetch a few things that apt s
going to want to get - but at a badnwidth limited rate.
</P>
<p align="center">See attached <tt><a href="misc/tips/aptfetch.bash.txt">aptfetch.bash.txt</a></tt></p>

<!-- end 1 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.2"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">download s/w ?</FONT></H3>
Thu, 10 Jul 2003 13:07:00 +0530
<BR>J. BAKSHI (<a href="mailto:tag@lists.linuxgazette.net?cc=cave_man@hotpop.com&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%232">cave_man from hotpop.com</a>)
<br>Answer by several members of The Gang 


<P>
Hi all,
could any one plz suggest me a good download manager under linux ?
</P>
<P>
thanks in advanced
</P>
<BLOCKQUOTE>
[Jason] 
wget
</BLOCKQUOTE>
<BLOCKQUOTE>
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<BLOCKQUOTE>
Probably not what you meant.
</BLOCKQUOTE>
<BLOCKQUOTE>
[Dan Wilder] 
Yes, if you could say a little more about what a "download manager"
might look like.  What would such a program do?
</BLOCKQUOTE>
<BLOCKQUOTE>
[Ashwin] 
I think he is looking for a program that can stop and continue download
operations if the internet connection is cut and then restored.
(These noisy phone lines in India 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</BLOCKQUOTE>
<P><STRONG>
yes Ashwin , this is also a function of download manager. but a download
manager also helps to download the file (like cd image of debian) from the
ftp server a little bit quick. I have come to know that  <EM>prozilla</EM> is such a
DM.
</STRONG></P>
<P><STRONG>
thanks.
</STRONG></P>
<BLOCKQUOTE>
[Les Barron] 
d4x is an excellent program for the desktop it supports drag and drop
ftp &amp; http as well as resuming downloads it is also called nt which is
the name used to call the program from an xterm, there are also several
graphical ftp programs gftp for gnome, kbear for kde,there are others as
well.
</BLOCKQUOTE>
<BLOCKQUOTE>
[Dan] 
Sounds sort of like my noisy phone lines in Seattle.  In a neighborhood
where DSL will be available "not this year" according to the local phone
company.
</BLOCKQUOTE>
<BLOCKQUOTE>
I make a lot of use of the "wget" command-line utility which handles both
ftp and http connections.  From the man page:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQuote>
Wget has been designed for robustness over slow or unstable network
connections; if a download fails due to a network problem, it will
keep retrying until the whole file has been retrieved.  If the
server supports regetting, it will instruct the server to continue
the download from where it left off.
</BLOCKQuote></BLOCKQUOTE>
<BLOCKQUOTE>
Rsync is also your friend.  Surprising how many places you can find
an unpublicised rsync server parallel to a public FTP server, often
at the same url.  To find out:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQUOTE><CODE>
rsync some.domain.tld::
</CODE></BLOCKQUOTE></BLOCKQUOTE>
<BLOCKQUOTE>
should return an rsync package list if there's an anon rsync server sitting
there, a "failed to connect" message if not.
</BLOCKQUOTE>
<BLOCKQUOTE>
[JimD] 
Note that rsync services are considerably more computationally
intensive than HTTP, FTP, etc.  Popular (read high volume) archive
sites generally can't allow anonymous rsync (thus the emergence
of BitTorrent for tremendously popular free files)
</BLOCKQUOTE>
<BLOCKQUOTE>
<A HREF="http://bitconjurer.org/BitTorrent"
	>http://bitconjurer.org/BitTorrent</A>
</BLOCKQUOTE>
<BLOCKQUOTE>
[Dan] 
The big advantage to rsync is its ability to re-download changed portions
of files without downloading the whole thing.  This can be an enormous
boon in maintaining a mirror of a site over a slow or unreliable connection.
</BLOCKQUOTE>
<BLOCKQUOTE>
[JimD] 
You can also consider ckermit (Columbia Kermit package for UNIX); which does
work over TCP sessions, can act as a telnet client, can work over ssh
connections, does very robust file transfers, and includes its own
scripting language.
</BLOCKQUOTE>
<BLOCKQUOTE>
However, in honesty I prefer ssh with rsync.  However, I don't know
just how bad these connections are.
</BLOCKQUOTE>
<BLOCKQUOTE>
The real question is: what protocols do the far end(s) of these
connections support and which are supported a utility or front end
that the querent finds reasonable.
</BLOCKQUOTE>

<!-- end 2 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.3"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">how to download Suse Linux</FONT></H3>
Sat, 12 Jul 2003 21:34:56 -0700 (PDT)
<BR>Ken Robbins (<a href="mailto:tag@lists.linuxgazette.net?cc=gatliffe@yahoo.com&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%233">gatliffe from yahoo.com</a>)
<br>Answer by Niel and Chris of The Answer Gang

<P>
how do I download linux suse I went to the site but there a lot of
files there I not know what one I need I have a 20gig hd as slave I
not useing I want to put linux there I have a high speed internet
</P>
<BLOCKQUOTE>
[Neil Youngman] 
It's all in <A HREF="ftp://ftp.suse.com/pub/suse/i386/current/README.FTP"
	>ftp://ftp.suse.com/pub/suse/i386/current/README.FTP</A>
</BLOCKQUOTE>
<BLOCKQUOTE>
What's not clear?
</BLOCKQUOTE>
<BLOCKQUOTE>
[Chris G.] 
I bet Ken wants the ISO images.  Do you think that's the case?
</BLOCKQUOTE>
<BLOCKQUOTE>
[Neil] 
It does say
</BLOCKQUOTE>

<blockQuote><ul>
<LI>booting from CD
    Download the iso image boot/boot.iso and burn a CD with it.
</ul></blockQuote>
<BLOCKQUOTE>
[Chris G.] 
Hmmm.  I guess that the instructions are  kind of clear.  I have not done
the ISO thing yet, so that's kind of new to me.  I still use dialup at home.
I just looked at a few sites (www.linuxiso.org, ftp.suse.com, etc.)
They are quite clear about the installation.  I noticed that <A HREF="http://www.suse.com/">SuSE</A> provides
a live CD too.
</BLOCKQUOTE>
<BLOCKQUOTE>
At my work (Motorola), they keep iso images of Linux, too.  I was surprised
that they have all of the disks for SuSE 7.x (yea - older stuff), as
well as other distributions.  That certainly would deal with my slow
dialup.  Our machines at work (the ones on the Internet) have CD writing
capability too.
</BLOCKQUOTE>

<blockquote><font color="#000066">Check the TAG Knowledgebase and you'll find more on burning CDs, as
well... including under mswin, if that's where you're presently stuck.
 -- Heather</font></blockquote>

<!-- end 3 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.4"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">GIMP vs Photoshop - CMYK</FONT></H3>
Tue, 24 Jun 2003 10:20:17 +0200 (CEST)
<BR>Karl-Heinz Herrmann (<a
href="mailto:tag@lists.linuxgazette.net?cc=k.-h.herrmann@fz-juelich.de&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%234">The Answer Gang</a>)
<br>Answer by Ben Okopnik

<P><STRONG><FONT COLOR="#006633"><EM>
Photoshop can't even compete, although they've made some nice
improvements in the recent years.
</EM></FONT></STRONG></P>

<blockquote><font color="#000066">Photoshop has all these cool extra filter thingies you can buy in the
store.  I'm not sure that Kai Power Tools is the only package.   Its
strengths are rather different from the GIMP but I wouldn't say "can't
compete".   GIMP began aiming in Photoshop's direction, but the people
who really use it took it to other places.   So if Kai starts selling
Kai's Power GIMP Fu, then we'll be winning the Oscar.
 -- Heather</font></blockquote>
<P><STRONG>
[K.-H.] 
a friend of mine is in print graphics and one <EM>major</EM> difference between
photoshop and gimp is using CMYK (Cyan, magenta, yellow, kontrast=black) color
space instead of RGB. RGB and CMYK can <EM>not</EM> be converted into each other
easily -- there are corners of RGB which simply do not have a printable CMYK
aequivalent (e.g. bright orange).
</STRONG></P>
<BLOCKQUOTE>
[Ben] 
The answer would seem to be "don't use bright orange." 
<IMG SRC="../gx/dennis/smily.gif" ALT=":)" 
		height="24" width="20" align="middle"> I haven't done
anything with CMYK except when I was doing my own photo enlargement and
printing, ages ago, but it seems to me that if it doesn't have some of
the capabilities of RGB, that makes it a subset. Don't use what you
don't need, and it'll all work - no?
</BLOCKQUOTE>
<P><STRONG>
[K.-H.] 
Hmm... it seems photoshop can show you all critical colors -- its not just
orange, IIRC all corners of RGB space are a problem. Orange just stuck in my
mind because a rather harmless looking bright orange is not printable in four
color mode -- you need special colors for that.
</STRONG></P>
<P><STRONG>
Photoshop also has plenty of little tools
explicitly for print purpose, e.g. special color printing where you have to
enlarge a lower layer a little so you don't get white if the printing machine
shifts the two print colors slightly. In this case of custom print colors
(not regular four color printing) photoshop can separate colors according to
these defined extra colors instead of the regular CMYK.
</STRONG></P>
<BLOCKQUOTE>
[Ben] 
Oh, I'm sure that Photoshop has features which are not available in the
GIMP. However, the converse is also true, and I'm sure that there are
people working in GIMP who would be unable to switch to Photoshop.
</BLOCKQUOTE>
<P><STRONG>
[K.-H.] 
Another one is color separation into "films", i.e. the four color channels
which go on transparent film and will then be copied on the metal printing
plates.
</STRONG></P>
<BLOCKQUOTE>
[Ben] 
Image -&gt; Mode -&gt; Decompose -&gt; CMYK. It's that simple.
</BLOCKQUOTE>
<P><STRONG>
[K.-H.] 
You never stop finding new thing in gimp -- so I'm not convinced this
covers photoshop abilities.
</STRONG></P>
<P><STRONG>
Mostly this is done in a "higher" layout program (quarkExpress, freehand) but
Photoshop does support it too.
</STRONG></P>
<P><STRONG>
The basic filter set and Fu-stuff in gimp is quite competitive. For print
graphics the non existant CMYK mode is a clear "can't use gimp".
</STRONG></P>
<BLOCKQUOTE>
[Ben] 
It's true that there's no "direct" CMYK mode for initial images;
however, you can still work with CMYK images as above. GIMP has
surprising depth to it.
</BLOCKQUOTE>
<P><STRONG>
[K.-H.] 
yes it has 
<IMG SRC="../gx/dennis/smily.gif" ALT=":-)" 
		height="24" width="20" align="middle">
</STRONG></P>

<!-- end 4 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.5"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">There Goes the Neighbourhood: arpd to the Rescue</FONT></H3>
Sun, 27 Jul 2003 11:32:01 +0300
<BR>Chapko Dmitrij (<a href="mailto:tag@lists.linuxgazette.net?cc=dima@tts.lt&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%235">dima from tts.lt</a>)
<br>Answer by Jim Dennis


<!-- ::
There Goes the Neighbourhood: arpd to the Rescue
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
I read <A HREF="http://tldp.org/LDP/LG/issue59/lg_answer59.html#tag/2"
	>http://tldp.org/LDP/LG/issue59/lg_answer59.html#tag/2</A>
</STRONG></P>
<P><STRONG>
At me one network in which now 1400 devices. While them was less than
1024 made the static table, now dynamic and periodically out the message
" Neighbour table overflow ". It can is possible to correct something
in a kernel?
</STRONG></P>
<P>
If I'm reading this correctly:  you have a LAN segment with about 1400
(ethernet) devices on it.  When you surpassed 1024 devices on the
segment you started noticing errors regarding the Neighbour table
overflow.
</P>
<P>
The solution to this is to move ARP (address resolution protocol)
handling out of the kernel and into user space.  This involves two
steps.  Reconfigure your kernel with CONFIG_ARPD = y  (You'll have to
enabled the option to "Prompt for experimental features/drivers"
near the top of your make menuconfig or make xconfig.
</P>
<P>
Under:    Code maturity level options  ---&gt;
</P>

<blockquote><pre>   [*] Prompt for development and/or incomplete code/drivers
</pre></blockquote>
<P>
Then under:  Networking options  ---&gt;
</P>

<blockquote><pre>   [*]   IP: ARP daemon support (EXPERIMENTAL) (NEW)
</pre></blockquote>

<p>
Then from the help text thereunder:
</p>

<TABLE WIDTH="95%" BORDER="1" BGCOLOR="#FFFFCC"><TR><TD>
<p align="center">...............</p>
<P>
Normally, the kernel maintains an internal cache which maps IP
addresses to hardware addresses on the local network, so that
Ethernet/Token Ring/ etc. frames are sent to the proper address on
the physical networking layer. For small networks having a few
hundred directly connected hosts or less, keeping this address
resolution (ARP) cache inside the kernel works well. However,
maintaining an internal ARP cache does not work well for very large
switched networks, and will use a lot of kernel memory if TCP/IP
connections are made to many machines on the network.
</P>
<P>
If you say Y here, the kernel's internal ARP cache will never grow
to more than 256 entries (the oldest entries are expired in a LIFO
manner) and communication will be attempted with the user space ARP
daemon arpd. Arpd then answers the address resolution request either
from its own cache or by asking the net.
</P><p align="center">...............</p>
</TD></TR></TABLE>
<P>
Then you have to go fetch and install an ARP daemon.  Under <A HREF="http://www.debian.org/">Debian</A> that
would be as simple as:
apt-get -f install arpd
</P>

<!-- end 6 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.6"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">Out of Space and Other Errors</FONT></H3>
Fri, 11 Jul 2003 15:27:34 +0800
<BR>Kamal Syah b. Mohd Sharif (<a href="mailto:tag@lists.linuxgazette.net?cc=kamal@centurysoftware.com.my&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%237">kamal from centurysoftware.com.my</a>)
<br>Answer by Jim Dennis and Dan Wilder


<!-- ::
Out of Space and Other Errors
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
:: -->
<P><STRONG>
I'm having problems where I when I tried to view a file I got this error
message:
</STRONG></P>

<pre><strong>E303: Unable to open swap file for "/tmp/ERRLOG", recovery impossible.
</strong></pre>
<BLOCKQUOTE>
[Dan Wilder] 
How did you try to view the file?
</BLOCKQUOTE>
<BLOCKQUOTE>
[JimD] 
Sounds like a vi/vim error message --- it's trying to create a
backup or recovery copy of the file.
</BLOCKQUOTE>
<P><STRONG>
I'm also having problems whereby I always got an error telling me that
no space left on device ... but when I look at my filesystems there are
actually lots of space available.
</STRONG></P>
<P><STRONG>
Regards
</STRONG></P>
<BLOCKQUOTE>
[Dan] 
What's the output from;
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQUOTE><CODE>
df
</CODE></BLOCKQUOTE></BLOCKQUOTE>
<BLOCKQUOTE>
...look like?  How about:
</BLOCKQUOTE>
<BLOCKQUOTE><BLOCKQUOTE><CODE>
ls -ld /tmp
</CODE></BLOCKQUOTE></BLOCKQUOTE>
<BLOCKQUOTE>
??
</BLOCKQUOTE>
<BLOCKQUOTE>
Please post the actual text of the error message, and tell us what you
were doing when you encountered the error.
</BLOCKQUOTE>
<BLOCKQUOTE>
[JimD] 
Also check 'df -i' --- check the inode utilization.  Basically it's
possible for a filesystem to be completely out of inodes even when
there's plenty of disk space available.  That would happen on
filesystems with a very large number of tiny files (USENet news spools,
qmail-style maildir, and MH are examples of applications that generate
these sort of things).
</BLOCKQUOTE>
<BLOCKQUOTE>
Other possible causes:
</BLOCKQUOTE>

<blockQuote><ul>
<LI>Make sure the filesystem is mounted read-write (rw).

<LI>Run fsck manually (boot into single user mode or from a BBC
	  or other rescue medium)
</ul></blockQuote>
<BLOCKQUOTE>
Some filesystems are set to remount in read-only mode if the kernel
(filesystem driver) detects errors while the system is up and running.
Other tune2fs settings are: "panic" and "continue" there are also
mount (<TT>/etc/fstab</TT>) options that relate to this "on-error" behavior.
</BLOCKQUOTE>
<BLOCKQUOTE>
Check to see if you have quotas enabled and if the user in question has
them.  Also check the reserved space settings reported by tune2fs since
it's possible (though extremely unlikely) that someone set that up to
reserve more than the usual 5%, and that configured it to reserve for
some user or group other than root).  Other filesystems may have
alternatives to tune2fs (but tune2fs also works on ext3, of course).
</BLOCKQUOTE>

<!-- end 7 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.7"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">filename.tar failing to untar</FONT></H3>
Fri, 18 Jul 2003 11:05:52 -0700
<BR>Steven (<a href="mailto:tag@lists.linuxgazette.net?cc=steven@poiema.org&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%238">steven from poiema.org</a>)
<br>Answer by Faber Fedor

<P><STRONG>
Hello
</STRONG></P>
<P><STRONG>
I've been searching high and low for any information that might help me
restore from a backup tar file that is being difficult for some reason.
</STRONG></P>
<P><STRONG>
The file is just your basic tar file without any compression.
</STRONG></P>
<BLOCKQUOTE>
[Faber Fedor] 
Then that means the files that are in the tarball are 'simply'
concatenated (with some header information in between).
</BLOCKQUOTE>
<P><STRONG>
Here is the command I'm typing:
</STRONG></P>

<pre><strong>tar xvf 2003-07-17.tar
</strong></pre>
<P><STRONG>
And here is the last few lines from the result:
</STRONG></P>

<pre><strong>/DP/
/DP/PDEF.DP000000
/DP/PDEF.DP010000
/DP/RDEF.DP010000
tar: Skipping to next header
tar: Error exit delayed from previous errors
[root@lucia root]#
</strong></pre>
<P><STRONG>
Here is the version of tar we are running:
</STRONG></P>

<pre><strong>tar (GNU tar) 1.13.25
</strong></pre>
<P><STRONG>
The filesize of the backup file is consistant with the other files that have
worked fine.
</STRONG></P>
<P><STRONG>
Does anyone know what options I have? Is there some way to look into
the file to see what may be wrong?
</STRONG></P>
<P><STRONG>
Thanks so much in advance,
</STRONG></P>
<P><STRONG>
Steven
</STRONG></P>
<BLOCKQUOTE>
[Faber] 
You don't say if the files are binary or not.  I assume so.  Either way,
you can use hexedit to view/edit the file, or maybe just vi/less to view
(NOT edit) the file, then compare this file to one that worked.
</BLOCKQUOTE>
<BLOCKQUOTE>
Good luck!
</BLOCKQUOTE>

<!-- end 8 -->
<!--     .~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.~~.     -->
<P> <A NAME="tips.9"><HR WIDTH="75%" ALIGN="center"></A> <P>
<H3><IMG ALIGN=BOTTOM ALT="" SRC="../gx/lil2cent.gif">
<FONT COLOR="navy">LJWNN Tech Tips</FONT></H3>
Mon, 27 Jan 2003 15:41:22 -0800
<BR>LJWNN (<a
href="mailto:tag@lists.linuxgazette.net?cc=gazette@linuxgazette.net&subject=%20Re%3A%20%5BLG%2093%5D%202c%20Tips%20%239"><em>Linux
Journal</em> Weekly News Notes</a>)


<h4 align="center"><br>Wireless but Wary - Print Safely
</h4>
<P>
If your main home network is a wireless network, you don't want to
wake up in the morning and find some joker has printed many pages of
stuff to your networked printer. Put the printer on a wired, private
network segment, and print to it with ssh.
</P>
<P>
To do this, install this script as lpr on your wirelessly connected
laptop:
</P>
<P>
away from your e-mail. You can see who received your message with
</P>

<blockquote><pre>vacation -l | cut -d ' ' -f 1 - &gt; people_who_got_vacation_message
</pre></blockquote>
<HR width="10%" align="center">
<h4 align="center"><br>Spring Cleaning For Continuous Upgrades
</h4>
<P>
If you have an easy-to-upgrade Linux system, you end up with a system
that's been upgraded many times instead of backed up and reinstalled.
</P>
<P>
To get rid of all the unused libraries from your <A HREF="http://www.debian.org/">Debian</A> system, try
the deborphan utility:
<A HREF="http://www.tribe.eu.org/deborphan"
	>http://www.tribe.eu.org/deborphan</A>
</P>
<P>
or, of course:
</P>

<blockquote><pre>apt-get install deborphan
</pre></blockquote>
<P>
It finds all the libraries that no longer have anything
depending on them.
</P>
<P>
To purge unused libraries, simply do this:
</P>

<blockquote><pre>deborphan | sudo xargs apt-get -y --purge remove
</pre></blockquote>
<HR width="10%" align="center">
<h4 align="center"><br>Faster Web Service?  Use that CPU
</h4>
<P>
Want to make your web server faster without getting a faster
connection? All common browsers will transparently download content
with gzip compression, but your out-of-the-box <A HREF="http://www.apache.org/">Apache</A> probably doesn't
have mod_gzip installed and turned on. Get the source from:
<A HREF="http://www.schroepl.net/projekte/mod_gzip"
	>http://www.schroepl.net/projekte/mod_gzip</A>
</P>
<P>
...and add the following lines to your httpd.conf to turn it on:
</P>

<blockquote><pre>LoadModule gzip_module /usr/lib/apache/1.3/mod_gzip.so

mod_gzip_on                 Yes
mod_gzip_maximum_file_size  0
mod_gzip_keep_workfiles     No
mod_gzip_temp_dir           /tmp
mod_gzip_item_include       mime ^text/.*
</pre></blockquote>
<P>
We don't use it for images, which are already compressed, but it
compresses most of the HTML pages on one test server by 50 to 80
percent.
</P>
<HR width="10%" align="center">
<h4 align="center"><br>Cure Num Lock Madness
</h4>
<P>
When you boot Linux, the kernel turns off Num Lock by default. This
isn't a problem if, for you, the numeric keypad is the no-man's-land
between the cursor keys and the mouse. But if you're an accountant, or
setting up a system for an accountant, you probably don't want to turn
it on every single time.
</P>
<P>
Here's the easy way, if you're using <A HREF="http://www.kde.org/">KDE</A>. Go to K --&gt; Preferences --&gt;
Peripherals --&gt; Keyboard and select the Advanced tab. Select the radio
button of your choice under NumLock on KDE startup and click OK.
</P>
<P>
If you only run KDE and want Num Lock on when you start a KDE session,
you're done. Otherwise, read on.
</P>
<P>
To set Num Lock on in a virtual console, use:
</P>

<blockquote><pre>setleds +num
</pre></blockquote>
<P>
If you choose to put this in a .bashrc file to set Num Lock when you
log in, make it:
</P>

<blockquote><pre>setleds +num &amp;&gt; /dev/null
</pre></blockquote>
<P>
...to suppress the error message you'll get if you try it in an xterm or
over an SSH connection.
</P>
<P>
Finally, here's the way to hit this problem with a big hammer--make
the numeric keypad always work as a numeric keypad in X, no matter
what Num Lock says. This will make them never work as cursor keys, but
you're fine with that because you have cursor keys, right? Create a
file called .Xmodmap in your home directory, and insert these lines:
</P>
<P><BLOCKQuote>
(from a Usenet post by Yvan Loranger:
<A HREF="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;selm=3BFD087F.2000300%40iquebec.com&amp;rnum=3"
	>http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;selm=3BFD087F.2000300%40iquebec.com&amp;rnum=3</A>+)
</BLOCKQuote></P>
<P>
Dramatis personae
</P>

<blockquote><code><font color="#000033"><br>   dmarti: example user name
<br>   bilbo: your desktop system
<br>   frodo: host running sshd
<br>   linuxjournal.com: some web site
</font></code></blockquote>
<P>
Port forwarding also is called tunneling, so I'll call the key
"tunnel". cd to your .ssh directory and create the key:
</P>

<blockquote><pre>dmarti@bilbo:~/.ssh$ ssh-keygen -t dsa -f tunnel
Generating public/private dsa key pair.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in tunnel.
Your public key has been saved in tunnel.pub.
The key fingerprint is:
77:b4:02:d9:32:c2:cc:18:58:c3:23:0a:13:46:a7:fa dmarti@capsicum
</pre></blockquote>
<P>
Now edit tunnel.pub and add the following options to the beginning of
the line:
</P>

<blockquote><pre>command="/bin/false",no-X11-forwarding,no-agent-forwarding,no-pty
</pre></blockquote>
<P>
That means this key is no longer any good for anything but port
forwarding, because the only command it will run is <TT>/bin/false</TT>, and it
won't forward X or agent commands.
</P>
<P>
sshd understands the options only when reading the key from
authorized_keys, but if you put the options into the original .pub
file, they'll stay with the key wherever it goes.
</P>
<P>
Now copy tunnel.pub to the end of your .ssh/authorized_keys at all the
hosts to which you want to tunnel, and try it:
</P>

<blockquote><pre>dmarti@bilbo:~$ ssh -i ~/.ssh/tunnel frodo
Connection to zork.net closed.
</pre></blockquote>
<P>
No errors, nothing runs; that's what you want. If you get errors, you
may have mangled the authorized_keys file on the server end; if you
get a shell you need to check and fix the options.
</P>
<P>
Another possibility is that if you're running with ssh-agent and have
the SSH_AUTH_SOCK environment variable set, you could be using a key
provided by ssh-agent instead of the one on the command line. Put env
-u in front of the command line to be sure not to use the agent.
</P>
<P>
Tunnel time! Let's use the long-suffering linuxjournal.com web server
as a guinea pig and make a tunnel:
</P>

<blockquote><pre>dmarti@bilbo:~$ ssh -i ~/.ssh/tunnel -N -L 8000:linuxjournal.com:80 frodo
</pre></blockquote>
<P>
To review that command line:
</P>

<blockQuote><ul>
<LI>-i ~/.ssh/tunnel to use our tunnel-only ssh key

<LI>-N to not run a command (this is necessary, otherwise SSH will run
       only /bin/false and exit)

<LI>-L 8000:linuxjournal.com:80 to forward local port 8000 to port 80
       on linuxjournal.com.

<LI>And finally, the hostname to which we're making the connection--it
       doesn't have to be the same as the host to which we're tunneling.
</ul></blockQuote>
<HR width="10%" align="center">
<h4 align="center"><br>Snip those extra quotes with vim
</h4>
<P>
It's always inconsiderate to quote more of someone's posting than you
have to in a mailing list. Here's how to bind a key in Vim to delete
any remaining quoted lines after the cursor:
</P>

<blockquote><pre>map . j{!}grep -v ^\&gt;^M}
</pre></blockquote>
<P>
...where . is whatever key you want to bind.
</P>
<HR width="10%" align="center">
<h4 align="center"><br>Train your anti-spam tools
</h4>
<P>
If you want to train a Bayesian spam filter on your mail, don't delete
non-spam mail that you're done with. Put it in a "non-spam trash"
folder and let the filter train on it. Then, delete only the mail
that's been used for training. Do the same thing with spam.
</P>
<P>
It's especially important to train your filter on mail that it
misclassified the first time. Be sure to move spam from your index to
your spam folder instead of merely deleting it.
</P>
<P>
To do the training, edit your crontab with crontab -e and add lines
like this:
</P>

<blockquote><pre>6 1 * * * /bin/mv -fv $HOME/Maildir/nonspam-trash/new/* $HOME/Maildir/nonspam-t
rash/cur/ &amp;&amp; /usr/local/bin/mboxtrain.py -d $HOME/.hammiedb -g $HOME/Maildir/no
nspam-trash

6 1 * * * /bin/mv -fv $HOME/Maildir/spam/new/* $HOME/Maildir/spam/cur/ &amp;&amp; /usr/
local/bin/mboxtrain.py -d $HOME/.hammiedb -s $HOME/Maildir/spam
</pre></blockquote>
<P>
Finally, you can remove mail in a trash mailbox that the Bayesian
filter has already seen:
</P>

<blockquote><pre>2 2 * * * grep -rl X-Spambayes-Trained $HOME/Maildir/nonspam-trash | xargs rm -
v

2 2 * * * grep -rl X-Spambayes-Trained $HOME/Maildir/spam | xargs rm -v
</pre></blockquote>
<P>
Look for more information on Spambayes and the math behind spam
filtering in the March issue of Linux Journal.
</P>
<HR width="10%" align="center">
<h4 align="center"><br>Who knows what time it really is?
</h4>
<P>
It's easy to see what timeserver your Linux box is using with this
command:
</P>

<blockquote><pre>ntptrace localhost
</pre></blockquote>
<P>
But what would happen to the time on your system if that timeserver
failed? Use
</P>

<blockquote><pre>ntpq -p
</pre></blockquote>
<P>
to see a chart of all the timeservers with which your NTP daemon is
communicating. An * indicates the timeserver you currently are using,
and a + indicates a good fall-back connection. You should always have
one *, and one or two + entries mean you have a backup timeserver as
well.
</P>
<HR width="10%" align="center">
<h4 align="center"><br>Tell cd how to get there
</h4>
<P>
In bash, you can make the cd command a little smarter by setting the
CDPATH environment variable. If you cd to a directory, and there's no
directory by that name in the current directory, bash will look for it
under the directories in CDPATH. This is great if you have to deal
with long directory names, such as those that tend to build up on
production web sites. Now, instead of typing:
</P>

<blockquote><pre>cd /var/www/sites/backhoe/docroot/support
</pre></blockquote>
<P>
...you can add this to your .bash_login:
</P>

<blockquote><pre>export CDPATH="$CDPATH:/var/www/sites/support/backhoe/docroot"
</pre></blockquote>
<P>
...and type only:
</P>

<blockquote><pre>cd support
</pre></blockquote>
<P>
This tip is based on the bash section of Rob Flickenger's Linux Server
Hacks.
</P>
<HR width="10%" align="center">
<h4 align="center"><br>Make the most of Mozilla
</h4>
<P>
In order to store persistent preferences in Mozilla, make a separate
file called user.js in the same directory under .mozilla as where your
prefs.js file lives.
</P>
<P>
You can make your web experience seem slower or faster by changing the
value of the nglayout.initialpaint.delay preference. For example, to
have Mozilla start rendering the page as soon as it receives any data,
add this line to your user.js file:
</P>

<blockquote><pre>user_pref("nglayout.initialpaint.delay", 0);
</pre></blockquote>
<P>
Depending on the speed of your network connection and the size of the
page, this might make Mozilla seem faster.
</P>
<HR width="10%" align="center">
<h4 align="center"><br>To each their own - window features in Sawfish
</h4>
<P>
If you use the Sawfish window manager, you can set window properties
for each X program, such as whether it has a title bar, whether it is
skipped when you Alt-Tab from window to window and whether it always
appears maximized. You even can set the frame style to be different
for windows from different hosts.
</P>
<P>
First, start the program whose window properties you want to
customize. Then run the Sawfish configurator, sawfish-ui. In the
Sawfish configurator, select Matched Windows and then the Add button.
</P>

<!-- end 9 -->




<!-- *** BEGIN author bio *** -->
<P>&nbsp;
<P>

<!-- *** END author bio *** -->


<!-- *** BEGIN copyright *** -->
<hr>
<CENTER><SMALL><STRONG>
Copyright &copy; 2003, .
Copying license <A HREF="../copying.html">http://www.linuxgazette.net/copying.html</A><BR> 
Published in Issue 93 of <i>Linux Gazette</i>, August 2003
</STRONG></SMALL></CENTER>
<!-- *** END copyright *** -->
<HR>

<!--startcut ==========================================================-->
<CENTER>
<!-- *** BEGIN navbar *** -->
<A HREF="lg_mail.html">&lt;&lt;&nbsp;Prev</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="index.html">TOC</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="../index.html">Front Page</A>&nbsp;&nbsp;|&nbsp;&nbsp;Talkback&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="../faq/index.html">FAQ</A>&nbsp;&nbsp;|&nbsp;&nbsp;<A HREF="lg_answer.html">Next&nbsp;&gt;&gt;</A>
<!-- *** END navbar *** -->
</CENTER>
</BODY></HTML>
<!--endcut ============================================================-->
