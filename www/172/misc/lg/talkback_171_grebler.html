<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'
		 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='utf-8' xml:lang='utf-8'>
<head>
<title>Talkback:171/grebler.html</title>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link rel='stylesheet' type='text/css' href='../../../lg.css' />
</head>
<body>
<a href="../../../"><img alt="Linux Gazette" src="../../../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" /></a><img alt="Tux" src="../../../gx/tux_86x95_indexed.png" id="tux" /><p id="fun">...making Linux just a little more fun!</p><div class='content articlecontent'><a name="top"></a><h3>Talkback:171/grebler.html</h3>
<p>
<b><p>
Neil Youngman [ny at youngman.org.uk]

</p>
</b><br />
<b>Tue, 2 Feb 2010 09:40:44 +0000</b>
</p>

<p>
Thanks for this interesting article. If I may offer a small "improvement"
</p>

<p>
Rather than using the loop
</p>

<p>
<pre class='code'>
        while true
	do
		netstat -na | wc
		sleep 1
	done
</pre>

<p>
I would use the watch command, e.g.
</p>

<p>
<pre class='code'>
        watch -n 2 -d 'netstat -na | wc'
</pre>
This seems to be included in both Redhat and Debian, so I guess it's 
reasonably portable. It's advantages over handcrafting a loop are
</p>

<pre>
1. Brevity
2. The default display shows the command being run and the update interval
3. Some of the extra options are useful. I find the '-d' switch, which 
highlights differences, can be particularly useful.
</pre>

<p>
Neil
</p>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_171_grebler">Back</a><hr width="50%" align="left" /><p><br /></p><p>
<b><p>
Ben Okopnik [ben at linuxgazette.net]

</p>
</b><br />
<b>Tue, 2 Feb 2010 12:45:42 -0500</b>
</p>

<p>
[ CC to author ]
</p>

<p>
On Tue, Feb 02, 2010 at 09:40:44AM +0000, Neil Youngman wrote:
</p>

<pre>
&gt; Thanks for this interesting article. If I may offer a small "improvement"
&gt; 
&gt; Rather than using the loop
&gt; 
&gt;         while true
&gt; 	do
&gt; 		netstat -na | wc
&gt; 		sleep 1
&gt; 	done
&gt; 
&gt; I would use the watch command, e.g.
&gt; 
&gt;         watch -n 2 -d 'netstat -na | wc'
&gt; 
&gt; This seems to be included in both Redhat and Debian, so I guess it's 
&gt; reasonably portable. It's advantages over handcrafting a loop are
&gt; 
&gt; 1. Brevity
&gt; 2. The default display shows the command being run and the update interval
&gt; 3. Some of the extra options are useful. I find the '-d' switch, which 
&gt; highlights differences, can be particularly useful.
</pre>

<p>
That came to my mind while I was editing Henry's article - I'm a big fan
of 'watch', myself. Do note, however, that he's operating in a mixed
environment - and, as I recall, 'watch' is not a part of the standard
Solaris toolkit (although it's available at Sunfreeware.com), and I
don't know anything about 'watch' in FreeBSD. So, portability is
probably pretty important. As to brevity, well - as long as it's still
readable, anything goes, right? <img src="../gx/smile.png" alt=":)">
</p>

<pre>
while netstat -na|wc; do sleep 1; done
</pre>


<pre>-- 
* Ben Okopnik * Editor-in-Chief, Linux Gazette * <a href='http://LinuxGazette.NET'>http://LinuxGazette.NET</a> *
</pre>

<p>

</p>
<br /><a href="#top">Top</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="../../lg_talkback.html#mb-talkback_171_grebler">Back</a><hr width="50%" align="left" /><p><br /></p></div>
</body>
</html>