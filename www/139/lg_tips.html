<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>2-Cent Tips LG #139</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../lg.css" type="text/css" media="screen, projection"  />
<link rel="alternate" type="application/rss+xml" title="LG RSS" href="lg.rss" />
<link rel="alternate" type="application/rdf+xml" title="LG RDF" href="lg.rdf" />
<link rel="alternate" type="application/atom+xml" title="LG Atom" href="lg.atom.xml" />
<link rel="shortcut icon" href="../favicon.ico" />

<style type="text/css" media="screen, projection">
<!--

-->
</style>

</head>
<body>

<a href="../">
<img src="../gx/2003/newlogo-blank-200-gold2.jpg" id="logo" alt="Linux Gazette"/>
</a>
<p id="fun">...making Linux just a little more fun!</p>

<div id="navigation">
<table summary="masthead" width="100%">
<tr>
<td align="center" colspan="3" style="font-size: 10px; font-weight: bold">
<a href="../index.html">Home</a>
<a href="http://linuxgazette.net">Main Site</a>
<a href="../faq/index.html">FAQ</a>

<a href="../lg_index.html">Site Map</a>
<a href="../mirrors.html">Mirrors</a>
<a href="../mirrors.html">Translations</a>
<a href="../search.html">Search</a>
<a href="../archives.html">Archives</a>
<a href="../authors/index.html">Authors</a>
<a href="http://lists.linuxgazette.net/mailman/listinfo/">Mailing Lists</a>
<a href="../jobs.html">Join Us!</a>
<a href="../contact.html">Contact Us</a>

<hr width="99%" style="border: 1px inset #000033">
</td>
</tr>
<tr>
<td width="40%" align="left" style="font-size: 10px; font-weight: bold">
The Free International Online Linux Monthly
</td>
<td width="20%" align="center" style="font-size: 10px; font-weight: bold">
ISSN: 1934-371X
</td>
<td width="40%" align="right" style="font-size: 10px; font-weight: bold">
Main site: <a href="http://linuxgazette.net">http://linuxgazette.net</a> 
</td>
</table>
</div>


<div id="breadcrumbs1">

<a href="../index.html">Home</a> &gt; 
<a href="index.html">June 2007 (#139)</a> &gt; 
Article

</div>

<div class="articlecontent1">
<div class="content">

<div id="previousnexttop">
<A HREF="lg_talkback.html" >&lt;-- prev</A> | <A HREF="brownss.html" >next --&gt;</A>
</div>

<h1>2-Cent Tips</h1>


<!-- Thread anchor: Recording ALSA PCM output as RAW data --><a name='recording_alsa_pcm_output_as_raw_data'></a>
<h3>Recording ALSA PCM output as RAW data</h3>
<p>
<b><p>
Mulyadi Santosa [mulyadi.santosa at gmail.com]
</p>
</b><br />
<b>Sun, 27 May 2007 15:18:48 +0700</b>
</p>

<p>
Hi Gang...
</p>

<p>
I'd like to write a short tip here. Sometimes, you may want to record 
the PCM output stream, maybe for further sound analysis and such. How to 
do it?
</p>

<p>
You need to modify your ALSA setting e.g in /usr/share/alsa/alsa.conf 
and add below lines:
</p>

<p>
<pre class="code">
pcm.default {
        @args [ SLAVE FILE FORMAT ]
        @args.SLAVE {
                type string
                default "hw:0,0"
        }
        @args.FILE {
                type string
                default "/mnt/linux/midi/test.raw"
        }
        @args.FORMAT {
                type string
                default raw
        }
        type file
        slave.pcm $SLAVE
        file $FILE
        format $FORMAT
}
</pre>
The declaration is quite self explanatory. Pay attention to $FILE 
definition (where you want to put the RAW file). It is defined as 44100 
HZ, 2 channel, signed linear sample data.
</p>

<p>
Later, you can convert this file into another audio format, such as WAV:
<pre>
$ sox -V -w -c  2 -s -r 44100 ./copy.raw ./copy.wav
</pre>
Notice that the above ALSA PCM definition is default definition, so it 
affects any ALSA based application that use default definition too. If 
you want, you can name it something like "pcm.tee" and later to use this 
definition, tell your application to do so, e.g:
<pre>
aplay -D tee song.wav
</pre>
NB: I read about this tip during my experiments with Linux Audio. There 
might be mistakes here, so please CMIIW.
</p>

<p>
regards,
</p>

<p>
Mulyadi
</p>


<p>

</p>

<hr />



<p class="talkback">
Talkback: <a
href="mailto:tag@lists.linuxgazette.net?subject=Talkback:139/lg_tips.html">Discuss this article with The Answer Gang</a>
</p>

<!-- *** BEGIN author bio *** -->

<!-- *** END author bio *** -->

<div id="articlefooter">

<p>
Copyright &copy; 2007, . Released under the <a
href="http://linuxgazette.net/copying.html">Open Publication License</a>
unless otherwise noted in the body of the article. Linux Gazette is not
produced, sponsored, or endorsed by its prior host, SSC, Inc.
</p>

<p>
Published in Issue 139 of Linux Gazette, June 2007
</p>

</div>

<div id="previousnextbottom">
<A HREF="lg_talkback.html" >&lt;-- prev</A> | <A HREF="brownss.html" >next --&gt;</A>
</div>

</div>
</div>

<script src="http://www.google-analytics.com/urchin.js"
type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1204316-1";
urchinTracker();
</script>







<img src="../gx/tux_86x95_indexed.png" id="tux" alt="Tux"/>

</body>
</html>

